babelWebpackJSONP([6],[,function(e,t,n){"use strict";function r(e){var t=["bab-opt-mod","bab-opt-mod-"+e.floorNum,e.template],n=e.floorNum,r=e.tabId;return r&&(t.push("-"+r.tabId+"-"+r.subFloorNum),n+="_"+r.tabId+"_"+r.subFloorNum),{className:f()(t),"data-floornum":n,"data-moduleid":e.moduleId,"data-template":e.template,"data-pdid":e.pdId}}function a(e){if(!e)return!1;var t=!1;return e.des?"m"===e.des?e.params.url?0===e.params.url.length&&(t=!0):t=!0:"newgoodshop"===e.des?e.params.shopId?0===e.params.shopId.length&&(t=!0):t=!0:"skudetail"===e.des?e.params.skuId?0===e.params.skuId.length&&(t=!0):t=!0:"worthbuy_inventory_detail"===e.des?e.params.id||(t=!0):"album_detail"===e.des?e.params.id||(t=!0):"inventoryDetail"===e.des&&(e.params.id||(t=!0)):t=!0,t}function o(e){var t=0;return"1"===e.externalBorder&&(t=20),(d.a-t)/(e.width-t)}function i(e,t){t=t||o(e);var n=0;"1"===e.innerBorder&&(n=2);var r=e.height-n;return parseInt(t*r)}function l(e){if(e){var t=document.createElement("a");t.target="_blank",t.href=e,document.body.appendChild(t),t.click(),document.body.removeChild(t)}}function c(e){return e?Math.round(d.c*Number(e)):0}function s(e){return e&&e.jump&&e.jump.srv&&e.jump.srv.split("_")}function u(e){if(e>9999){var t=Math.round(e/Math.pow(10,4)*10)/10;return e%Math.pow(10,4)===0?t+".0\u4e07":t+"\u4e07"}return e}t.c=r,t.a=a,t.d=o,t.e=i,t.h=l,t.f=c,t.g=s,t.b=u;var p=n(7),f=n.n(p),d=(n(8),n(17))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=a.a.createContext({});t.a=o},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return N});var l,c,s=n(72),u=(n.n(s),n(0)),p=n.n(u),f=n(9),d=n.n(f),m=n(6),h=n.n(m),v=n(7),b=n.n(v),y=n(22),g=n.n(y),_=n(8),w=n(39),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=function(){function e(e){_.isServer||e&&n.push(e)}function t(e){if(!_.isServer){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}}var n=[];return function(){if(!_.isServer){var e=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,a=function(){var a=[];n.forEach(function(t){var n=t.getBoundingClientRect();if(!n)return void a.push(t);n.width&&n.height&&n.top+n.height>=-r&&n.left+n.width>=0&&n.top<=2*r&&n.left<=e&&(a.push(t),t.dataset&&t.dataset.src?(t.src=t.dataset.src,t.removeAttribute("data-src")):"function"===typeof t.doLoad&&t.doLoad())}),a.forEach(t)},o=g()(a,30);window.addEventListener("scroll",o,!1),window.addEventListener("lazyloadImgCheck",a,!1)}}(),{addInstance:e,removeInstance:t}}(),N=(c=l=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._tryLoad=function(){if(n.state.sourceSrc&&n.state.sourceSrc!==n.state.src){var e=n.getBoundingClientRect();if(e){var t=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight;e.width&&e.height&&e.top+e.height>=-r&&e.left+e.width>=0&&e.top<=2*r&&e.left<=t?n.doLoad():O.addInstance(n)}}},n.doLoad=function(){if(n._isMount){var e=null;e=Number(n.props.width)&&Number(n.props.height)?{width:Number(n.props.width),height:Number(n.props.height)}:n.getBoundingClientRect();var t=n.props.resizeDisable?n.state.sourceSrc:Object(w.a)(n.state.sourceSrc,e),r=document.createElement("img");r.onload=function(){var e="";r.width>r.height?e="fat":r.width<r.height&&(e="tall"),n.setState({src:t,loaded:!0,shapeClass:e}),"function"===typeof n.props.onLoad&&n.props.onLoad(r)},r.onerror=function(){var e;"function"===typeof n.props.onError&&(e=n.props).onError.apply(e,arguments)},r.src=t}},n.getBoundingClientRect=function(){return n._isMount?d.a.findDOMNode(n).getBoundingClientRect():null},n.state={sourceSrc:e.src,src:e.placeholder,loaded:!1,shapeClass:""},n}return i(t,e),E(t,[{key:"componentDidMount",value:function(){this._isMount=!0;var e=Object(w.b)(this.state.sourceSrc);e!==this.state.sourceSrc&&this.setState({sourceSrc:e}),this.props.disabled||setTimeout(this._tryLoad,300)}},{key:"componentWillReceiveProps",value:function(e){if(e.src!==this.props.src){var t=Object(w.b)(e.src);this.setState({sourceSrc:t}),this.props.disabled||setTimeout(this._tryLoad,300)}}},{key:"componentWillUnmount",value:function(){this._isMount=!1,O.removeInstance(this)}},{key:"render",value:function(){var e=this.props,t=(e.placeholder,e.disabled),n=e.resizeDisable,a=r(e,["placeholder","disabled","resizeDisable"]);return t?p.a.createElement("img",Object.assign({},a,{src:this.state.sourceSrc,alt:this.props.alt,className:b()("lazyload-img",this.props.className,"fadein")})):p.a.createElement("img",Object.assign({},a,{src:this.state.src,alt:this.props.alt,className:b()("lazyload-img",this.props.className,this.state.loaded&&"fadein",this.state.shapeClass),onLoad:null,onError:null,"data-src":this.state.loaded?null:this.state.sourceSrc,"data-resize":n?0:1}))}}]),t}(u.PureComponent),l.propTypes={placeholder:h.a.string,disabled:h.a.bool,resizeDisable:h.a.bool,className:h.a.string},l.defaultProps={placeholder:"data:image/webp;base64,UklGRkAAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAIAAAAAAFZQOCAYAAAAMAEAnQEqAQABAAFAJiWkAANwAP79NmgA"},c);N.triggerLoadCheck=function(){var e=document.createEvent("Event");e.initEvent("lazyloadImgCheck",!1,!1),window.dispatchEvent(e)}},function(e,t,n){"use strict";function r(e,t,n){if("render"!==t)return n;return n}t.a=r},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return v});var c,s,u=n(0),p=n.n(u),f=n(6),d=n.n(f),m=n(2),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=(s=c=function(e){function t(){var e,n,r,l;o(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r._onClick=function(e){var t=r.props,n=t.eventId,o=t.params,i=t.onClick,l=t.delay,c=t.jsonSrv,s=t.stringSrv;if("1"===c)r.context.tracking.sendClickTrackingJSON("Babel_"+n,o||"");else if("1"===s)r.context.tracking.sendClickTracking2("Babel_"+n,o||"");else{var u;(u=r.context.tracking).sendClickTracking.apply(u,["Babel",n].concat(a(o||[])))}var p=r.props,f=p.href,d=p.component,m=p.target;return"a"!==d||f?"a"===d&&f&&f.indexOf("//")>=0&&(!m||"_self"===m)?(e.preventDefault(),void setTimeout(function(){"function"===typeof i&&i.call(null,e),location.href=f},200)):void("function"===typeof i&&(l?setTimeout(function(){i.call(null,e)},l):i.call(null,e))):(e.preventDefault(),e.stopPropagation(),!1)},l=n,i(r,l)}return l(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.component,n=(e.eventId,e.params,e.delay,r(e,["component","eventId","params","delay"]));return p.a.createElement(t,Object.assign({},n,{onClick:this._onClick}))}}]),t}(u.PureComponent),c.contextType=m.a,c.propTypes={component:d.a.oneOfType([d.a.element.isRequired,d.a.string.isRequired]),eventId:d.a.string.isRequired,params:d.a.oneOfType([d.a.array,d.a.object]),delay:d.a.number,expoeventid:d.a.string,clientexposalurl:d.a.string,jsonSrv:d.a.string,stringSrv:d.a.string,target:d.a.string},s)},,,function(e,t,n){"use strict";function r(){return a?{}:{ua:window.navigator.userAgent,url:window.location.href}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"isServer",function(){return a}),n.d(t,"sid",function(){return o}),n.d(t,"isBeta",function(){return l}),n.d(t,"isPreview",function(){return c}),n.d(t,"uuid",function(){return s}),n.d(t,"frontInterfaceHost",function(){return u}),n.d(t,"isWebpSupport",function(){return p}),n.d(t,"isIE",function(){return f}),t.getLocalAppInFrontend=r;var a=!1,o=function(){if(a)return"";var e=/(^|;|\s+)sid=([^;]*)(;|$)/i,t=document.cookie.match(e);return t?unescape(t[2].trim()):null}(),i=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?n[2]:""},l=a?null:"beta"===i("env"),c=!a&&(!!window.location.pathname.match(/service\/preview/)&&"preview"===i("source")),s=function(){if(a)return"";var e=/(^|;|\s+)uuid=([^;]*)(;|$)/i,t=document.cookie.match(e);return t?unescape(t[2].trim()):null}(),u=l?"//beta-api.m.jd.com":"https://api.m.jd.com",p=function(){return a?Promise.reject():new Promise(function(e,t){var n=new Image;n.onload=function(){n.height>0&&n.width>0?e():t()},n.onerror=function(){t()},n.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAUAmJaQAA3AA/vz0AAA="})},f=function(e){var t=document.createElement("b");return t.innerHTML="\x3c!--[if IE "+e+"]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length}},,,function(e,t,n){"use strict";function r(){return Promise.race([fetch.apply(void 0,arguments),new Promise(function(e,t){setTimeout(function(){t(new Error("Request Timeout"))},1e4)})])}function a(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?n[2]:""}function o(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(t,n){var r=document.createElement("script");r.async=!0,r.onload=t,r.onerror=n,r.src=e,document.getElementsByTagName("head")[0].appendChild(r)})}function i(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"string"===typeof e&&(e={src:e});var n=e,r=n.src,a=n.innerText;return new Promise(function(t,n){var o=document.createElement("script");e.type="text/javascript",r?(o.async=!0,o.onload=function(){return t(o)},o.onerror=n,o.src=r):o.textContent=a,document.getElementsByTagName("head")[0].appendChild(o),r||t(o)}).then(function(e){t&&e.parentNode.removeChild(e)})}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{"Content-Type":"application/json"};return v.isServer?Promise.reject(new Error("doPost is client only api")):e?r(e,{method:"POST",headers:n,body:"object"===("undefined"===typeof t?"undefined":g(t))?JSON.stringify(t):t}).then(function(e){return e.json()}):Promise.reject(new Error("doPost: url is required"))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{"Content-Type":"application/x-www-form-urlencoded"};if(v.isServer)return Promise.reject(new Error("doPost is client only api"));if(!e)return Promise.reject(new Error("doPost: url is required"));var a="";if(t&&Object.keys(t).length>0){a+=h.a.stringify(t,"&","=",{encodeURIComponent:encodeURIComponent})}return r(e,{method:"POST",headers:n,mode:"cors",body:a,credentials:"include"}).then(function(e){return e.json()})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(v.isServer)return Promise.reject(new Error("doGet is client only api"));if(!e)return Promise.reject(new Error("doGet: url is required"));if(t&&Object.keys(t).length>0){var a=h.a.stringify(t,"&","=",{encodeURIComponent:encodeURIComponent});e.indexOf("?")>-1?e+="&"+a:e+="?"+a}return r(e,{method:"GET",headers:n}).then(function(e){return e.json()})}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(v.isServer)return Promise.reject(new Error("doGetCors is client only api"));if(!e)return Promise.reject(new Error("doGetCors: url is required"));if(t&&Object.keys(t).length>0){var a=h.a.stringify(t,"&","=",{encodeURIComponent:encodeURIComponent});e.indexOf("?")>-1?e+="&"+a:e+="?"+a}return r(e,{method:"GET",headers:n,mode:"cors",credentials:"include"}).then(function(e){return e.json()})}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(window.XDomainRequest)return new Promise(function(n,r){var a=t.method||"GET",o=t.timeout||1e4,i=t.body||t.params||{};i instanceof Object&&(i=JSON.stringify(i));var l=new XDomainRequest;l.open(a,e),l.timeout=o,l.onload=function(){try{return n({status:200,text:function(){return l.responseText}})}catch(e){r(e)}return r({})},l.onprogress=function(){},l.ontimeout=function(){return r("XDomainRequest timeout")},l.onerror=function(){return r("XDomainRequest error")},setTimeout(function(){l.send(i)},0)});Promise.reject()}function f(e,t){if(v.isServer)return Promise.reject(new Error("doJsonP is client only api"));if(!e)return Promise.reject(new Error("doGet: url is required"));if(t&&Object.keys(t).length>0){var n=h.a.stringify(t,"&","=",{encodeURIComponent:encodeURIComponent});e.indexOf("?")>-1?e+="&"+n:e+="?"+n}return new Promise(function(t,n){y()(e,{timeout:3e3,prefix:"jsonp"},function(e,r){e?n(e):t(r)})})}function d(e,t,n){return e.mitemAddrId="",e.geo={lng:a("lng")||"",lat:a("lat")||""},e=JSON.stringify(e),{body:e,screen:"750*1334",client:"wh5",clientVersion:"1.0.0",sid:v.sid,uuid:v.uuid,area:a("un_area")||"",loginType:"3"}}Object.defineProperty(t,"__esModule",{value:!0}),t.getQueryString=a,t.loadScript=o,n.d(t,"requireScript",function(){return _}),t.gracefullLoadScript=i,t.doPost=l,t.doPostCors=c,t.doGet=s,t.doGetCors=u,t.doFetchForIE9=p,t.doJsonP=f,t.getBabelUrlParam=d;var m=n(251),h=n.n(m),v=n(8),b=n(236),y=n.n(b),g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=function(e){return new Promise(function(t,n){window.require([e],t,n)})}},function(e,t,n){"use strict";function r(e){return e?{WebkitTransform:e,MozTransform:e,msTransform:e,OTransform:e,transform:e}:{}}function a(e){return e?{WebkitTransition:e,OTransition:e,transition:e}:{}}function o(e,t){return t?""+t+i(e):e}function i(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}t.c=r,t.d=a,t.a=o;var l=["Moz","Webkit","O","ms"];t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window||"undefined"===typeof window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<l.length;n++)if(o(e,l[n])in t)return l[n];return""}()},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pd")+"_"+(e>t?"n":e)+"x"}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"realStock";return e?(n=n||"realStock",0===e.isSoldOut?"group_sold_out":"N"===e[n]?"sold_out":"N"!==e.areaStk||"2"!==t&&"1"!==t?"":"area_sold_out"):""}n.d(t,"g",function(){return o}),n.d(t,"i",function(){return i}),n.d(t,"h",function(){return l}),n.d(t,"f",function(){return c}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return p}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return d}),t.k=r,t.j=a;var o={BIG_PIC:"0",LIST1:"2",LIST2:"4",HORIZONTAL_SCROLL:"3",PROMOTION_LIST:"6",PROMOTION_BIG_PIC:"5",THREE_COL:"7",PRODUCT_COUPON:"9",INFINITY_PRODUCT:"999"},i={NONE:"0",TEXT:"1",PIC:"2"},l={NONE:"0",TWO_COLOR:"1",SQUARE:"2",CORNER:"3",PIC:"4",RANK:"5"},c={NONE:"0",Line:"1",BIG:"2",BIG_LINE:"3",PLUS:"5"},s={NONE:"0",JD_BACKEND_PRICE:"1",PLUS:"2"},u={HIDE:"1",SHOW:"0"},p={HIDE:"0",SHOW:"1"},f={PROMOTION_PRICE:"0",JD_BACKEND_PRICE:"1",NO_PROMOTION_BACKEND_PRICE:"2",IOUS_PRICE:"3",PLUS_PRICE:"5",FANS_PRICE:"8",NEW_PRODUCT_TAG:"6",NEWER_PRICE:"9",ENTERPRISE_PRICE:"10",STUDENT_PRICE:"11",FREE_INTEREST:"12"},d={HIDE:"0",SHOW:"1"}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return O});var l,c,s=n(78),u=(n.n(s),n(0)),p=n.n(u),f=n(6),d=n.n(f),m=n(7),h=n.n(m),v=n(3),b=n(13),y=n(24),g=n(18),_=n(12),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=b.i,O=(c=l=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._getState=function(){return{picNavTransLateCount:0}},e._scrollNavLeft=function(){var t=e.state.picNavTransLateCount;if(t>0){var n=void 0;n=t-e.itemPerPage<=0?0:t-e.itemPerPage,e.setState({picNavTransLateCount:n},function(){})}},e._scrollNavRight=function(){var t=e.state.picNavTransLateCount,n=e.props.tabList,r=Math.ceil(n.length/e.itemPerPage),a=n.length;if(t/e.itemPerPage<r-1){var o=void 0;o=t+e.itemPerPage>a-e.itemPerPage?a-e.itemPerPage:t+e.itemPerPage,e.setState({picNavTransLateCount:o})}},e._onTabHover=function(t){e.props.onTabHover&&e.props.onTabHover(t),setTimeout(function(){v.a.triggerLoadCheck()},0)},e.state=e._getState(),e.itemPerPage=6,e}return i(t,e),w(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.tabList,a=void 0===n?[]:n,o=t.tabStyle,i=t.tabConfig,l=void 0===i?{}:i,c=t.selectedTab,s=t.tabClickEventId;if(o===E.NONE||a.length<=1)return null;var u=a.length>this.itemPerPage,f=this.state.picNavTransLateCount,d=null,m=100/a.length;return o===E.TEXT?d=a.map(function(t,n){var o;return p.a.createElement(g.a,{key:t.groupId,component:"li",eventId:s,params:t.srv&&t.srv.split("_")||t.jump&&t.jump.srv&&t.jump.srv.split("_"),className:h()({"pd_tab-item":!0,selected:c===t}),style:(o={width:m+"%"},r(o,"width","calc((100% - "+2*(a.length-1)+"px) / "+a.length+")"),r(o,"color",c===t?l.color:null),r(o,"marginLeft",0!==n?"2px":"0px"),r(o,"float",n===a.length-1?"right":"left"),o),onHover:function(){e._onTabHover(t)}},p.a.createElement("div",{className:"pd_tab-item-text",style:{borderBottomColor:c===t?l.color:null}},t.name))}):o===E.PIC&&(d=a.map(function(t){var n=c===t;return p.a.createElement(g.a,{key:t.groupId,component:"li",eventId:s,params:t.srv&&t.srv.split("_"),className:h()({"pd_tab-item":!0,selected:n}),style:{width:m+"%",color:n?l.color:null},onHover:function(){e._onTabHover(t)}},p.a.createElement("div",{className:"pd_tab-item-inner"},p.a.createElement("div",{className:"pd_tab-item-img-wrap"},p.a.createElement(v.a,{resizeDisable:!0,key:"default",className:"pd_tab-item-img default",src:n?t.defaultPicUrl:t.activePicUrl}),p.a.createElement(v.a,{resizeDisable:!0,key:"active",className:"pd_tab-item-img active",src:n?t.activePicUrl:t.defaultPicUrl}))))})),p.a.createElement("div",{className:"pd_tab "+b.k(a.length)+" pd_tab_"+o,ref:this._setRef},p.a.createElement(y.a,{onFixed:this.props.onNavSticky,onUnfixed:this.props.onNavUnsticky,disable:this.props.disableStickyView},p.a.createElement("div",{className:"pd_nav"},p.a.createElement("ul",{className:"pd_nav_wrap",style:{backgroundColor:l.tabBgColor,color:l.unSelectColor}},u&&p.a.createElement("div",{onClick:this._scrollNavLeft,className:"tabCtrl left"}),p.a.createElement("div",{className:"tabContent",style:Object.assign({},Object(_.c)("translateX(-"+165*f+"px)"),{width:(a.length<=6?990:165*a.length)+"px"})}," ",d," "),u&&p.a.createElement("div",{onClick:this._scrollNavRight,className:"tabCtrl right"})))))}}]),t}(u.PureComponent),l.propTypes={tabList:d.a.array,tabStyle:d.a.string,tabConfig:d.a.object,selectedTab:d.a.object,onTabHover:d.a.func,tabClickEventId:d.a.string.isRequired,onNavSticky:d.a.func,onNavUnsticky:d.a.func,disableStickyView:d.a.bool},c);O.getComponentHeight=function(e){if(!e)return 0;var t=e.tabStyle,n=e.tabList;return t===E.NONE||n.length<=1?0:50}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return E});var l,c,s,u=n(100),p=(n.n(u),n(0)),f=n.n(p),d=n(9),m=n.n(d),h=n(6),v=n.n(h),b=n(7),y=n.n(b),g=n(12),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=r(e,["className"]);return f.a.createElement("div",Object.assign({className:y()(["jmfe-swiper-item",t])},n))}}]),t}(p.PureComponent),E=(c=l=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.call(n),n.state={useTransition:!1,activeIndex:0},n}return i(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.getPages();if(!t)return null;var n=this.props,r=n.className,a=n.isVertical;return f.a.createElement("div",{className:y()(["jmfe-swiper",a?"vertical":"horzontal",r]),style:this.props.style,ref:this.setRef,onTouchStart:function(t){return e.touchStart(t)},onTouchMove:function(t){return e.touchMove(t)},onTouchEnd:function(t){return e.touchEnd(t)},onTouchCancel:function(t){return e.touchCancel(t)}},this.renderPages(t),this.renderControlButtons(t),this.renderIndicators())}},{key:"componentDidMount",value:function(){this.initConfig(),this.forceUpdate(),this.start()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.stop(),this.initConfig(e),this.start(e)}},{key:"componentWillUnmount",value:function(){this.stop()}}]),t}(p.PureComponent),l.propTypes={className:v.a.string,itemClassName:v.a.string,style:v.a.object,needCtlBtnStyle:v.a.bool,ctlBtnStyle:v.a.object,indicatorsStyle:v.a.object,loop:v.a.bool,width:v.a.number,height:v.a.number,itemWidth:v.a.number,itemHeight:v.a.number,speed:v.a.number,slideSize:v.a.number,offsetSize:v.a.number,autoplay:v.a.bool,delay:v.a.number,isVertical:v.a.bool,disableTouch:v.a.bool,onSlideStart:v.a.func,onSlideEnd:v.a.func,showIndicators:v.a.bool,indicatorsClickable:v.a.bool,renderIndicatorsFunc:v.a.func,slideStep:v.a.number},l.defaultProps={speed:300,autoplay:!1,delay:3e3,offsetSize:0,showIndicators:!0,indicatorsClickable:!1,disableTouch:!1,slideStep:1,needCtlBtnStyle:!0},s=function(){var e=this;this.setRef=function(t){e._ref=t},this._autoplayTimer=null,this._slidingTimer=null,this._touchStartPos={},this._touchDelta={},this._touchMoving=!1,this.isScrolling=!1,this.slideStep=1,this.loopOffsetNum=0,this.showItemNum=1,this.initConfig=function(t){if(e._ref){var n=m.a.findDOMNode(e._ref),r=n.offsetWidth,a=n.offsetHeight,o=e.props,i=o.isVertical,l=o.offsetSize,c=o.loop,s=t||e.props,u=s.width,p=void 0===u?r:u,f=s.height,d=void 0===f?a:f,h=s.itemWidth,v=void 0===h?p:h,b=s.itemHeight,y=void 0===b?d:b,g=s.itemMarginBottom,_=void 0===g?0:g,w=s.itemRealHeight,E=void 0===w?0:w,O=Math.ceil(i?d/y:p/v);e.itemWidth=v,e.itemHeight=y,e.itemMarginBottom=_,e.itemRealHeight=E,e.showItemNum=0!==l?O+1:O,c&&(e.loopOffsetNum=l>=0?O-1:O)}},this.touchStart=function(t){if(!e.props.disableTouch){e.stop();var n=t.touches[0];e._touchStartPos={x:n.clientX,y:n.clientY},window.JdAndroid&&window.JdAndroid.requestEvent(!0)}},this.touchMove=function(t){if(!e.props.disableTouch&&!(t.touches.length>1||t.scale&&1!==t.scale)){var n=t.touches[0];if(e._touchDelta={x:n.clientX-e._touchStartPos.x,y:n.clientY-e._touchStartPos.y},e._touchMoving)return void(e.isScrolling||t.preventDefault());e._touchMoving=!0,e.isScrolling=Math.abs(e._touchDelta.y)>Math.abs(e._touchDelta.x),e.isScrolling||t.preventDefault()}},this.touchEnd=function(){e.props.disableTouch||(e._touchMoving=!1,e.isScrolling?(e._touchStartPos={},e._touchDelta={},window.JdAndroid&&window.JdAndroid.requestEvent(!1)):(e._touchDelta.x>0?e.slideToPrev():e._touchDelta.x<0&&e.slideToNext(),e._touchStartPos={},e._touchDelta={}),e.start())},this.touchCancel=function(){window.JdAndroid&&window.JdAndroid.requestEvent(!1)},this.getPages=function(){var t=f.a.Children.toArray(e.props.children);if(!t||!t.length)return null;if(1===t.length)return t;var n=e.props,r=n.itemClassName,a=void 0===r?"":r,o=n.loop,i=e.itemWidth,l=e.itemHeight,c=e.showItemNum,s=e.itemMarginBottom,u=e.itemRealHeight,p=e.state.activeIndex;if(!i||!l)return[t[0]];var d={width:i+"px",height:(0===u?l:u)+"px",marginBottom:s+"px"},m=[];return o&&(m=new Array(c).fill(1).map(function(e,n){var r=p===-n-1?"cur":p===-n-1+t.length?"cur-substitute":"";return f.a.createElement(w,{key:"swiper-prev-"+n,style:d,className:r+" "+a},t[t.length-1-n])}).reverse()),t.reduce(function(e,n,r){var i=p===r?"cur":o&&p===r-t.length?"cur-substitute":"";return e.push(f.a.createElement(w,{key:"swiper-"+r,style:d,className:i+" "+a},n)),e},m)},this.renderPages=function(t){var n=e.itemHeight,r=e.itemWidth;return n&&r?1===t.length?t:e.props.isVertical?e.renderVerticalPages(t):e.renderHorizontalPages(t):t},this.renderVerticalPages=function(t){var n=e.itemHeight,r=e.itemWidth,a=e.showItemNum,o=e.state.activeIndex,i=e.props.offsetSize,l=t.length,c=e.props.loop?a-1+1:0,s="translateY("+(n*(-o-c)+i)+"px)",u=e.state.useTransition?"transform "+e.props.speed+"ms":"none";return f.a.createElement("div",{className:"jmfe-swiper-content",style:Object.assign({width:r+"px",height:n*l+"px"},Object(g.c)(s),{WebkitTransition:u,msTransition:u,OTransition:u,transition:u})},t)},this.renderHorizontalPages=function(t){var n=e.itemHeight,r=e.itemWidth,a=e.showItemNum,o=e.state.activeIndex,i=e.props.offsetSize,l=t.length,c=e.props.loop?a-1+1:0,s="translateX("+(r*(-o-c)+i)+"px)",u=e.state.useTransition?"transform "+e.props.speed+"ms":"none";return f.a.createElement("div",{className:"jmfe-swiper-content",style:Object.assign({width:r*l+"px",height:n+"px"},Object(g.c)(s),{WebkitTransition:u,msTransition:u,OTransition:u,transition:u})},t)},this.renderIndicators=function(){if(!e.props.showIndicators)return null;var t=e.props,n=t.renderIndicatorsFunc,r=t.children,a=t.isVertical,o=t.slideStep,i=t.indicatorsStyle,l=void 0===i?{}:i,c=e.state.activeIndex,s=f.a.Children.count(r);return 1===s?null:n?(c=c<0?c+s:c,n(c,s)):f.a.createElement("div",{className:y()(["jmfe-indicators",a?"vertical":"horzontal"]),style:l},new Array(s).fill(1).map(function(t,n){return n%o!==0?null:f.a.createElement("div",{className:y()({"jmfe-indicator-item":!0,active:c===n||c===n-s}),key:"indicator-"+n,onClick:function(t){return e.slideByIndicators(n,t)}})}))},this.slideByIndicators=function(t){var n=e.props,r=n.showIndicators,a=n.indicatorsClickable;if(!r||!a)return null;e.setState({useTransition:!0,activeIndex:t})},this.renderControlButtons=function(t){if(!t||t.length<=1)return null;if(!e.props.needCtlBtnStyle)return null;var n=e.props,r=n.isVertical,a=n.ctlBtnStyle,o=void 0===a?{}:a;return r?[f.a.createElement("div",{className:"jmfe-control-btn top",onClick:e.slideToPrevByButton,key:"top",style:Object.assign({},o,{transformOrigin:"center top"})}),f.a.createElement("div",{className:"jmfe-control-btn bottom",onClick:e.slideToNextByButton,key:"bottom",style:Object.assign({},o,{transformOrigin:"center bottom"})})]:[f.a.createElement("div",{className:"jmfe-control-btn left",onClick:e.slideToPrevByButton,key:"left",style:Object.assign({},o,{transformOrigin:"left top"})}),f.a.createElement("div",{className:"jmfe-control-btn right",onClick:e.slideToNextByButton,key:"right",style:Object.assign({},o,{transformOrigin:"right top"})})]},this.slideToPrevByButton=function(){e.stop(),e.slideToPrev(),"function"===typeof e.props.onPrevControlButtonClick&&e.props.onPrevControlButtonClick()},this.slideToNextByButton=function(){e.stop(),e.slideToNext(),"function"===typeof e.props.onNextControlButtonClick&&e.props.onNextControlButtonClick()},this.slideToPrev=function(){var t=e.loopOffsetNum,n=e.state.activeIndex;if(0!==n||e.props.loop){var r=f.a.Children.count(e.props.children);if(n===-1-t)return void e.setState({activeIndex:n+r,useTransition:!1},function(){setTimeout(e.slideToPrev,20)});e.slide(n-e.props.slideStep)}},this.slideToNext=function(){var t=e.loopOffsetNum,n=e.state.activeIndex,r=f.a.Children.count(e.props.children);if(n!==r-1||e.props.loop)return n===r-1-t?void e.setState({activeIndex:n-r,useTransition:!1},function(){setTimeout(e.slideToNext,20)}):void e.slide(n+e.props.slideStep)},this.slide=function(t){if(t!==e.state.activeIndex&&!e._slidingTimer){var n=!0;"function"===typeof e.props.onSlideStart&&(n=e.props.onSlideStart(e.state.activeIndex,t)),!1!==n&&e.setState({useTransition:!0,activeIndex:t},function(){e._slidingTimer=setTimeout(function(){e._slidingTimer&&(e._slidingTimer=null),"function"===typeof e.props.onSlideEnd&&e.props.onSlideEnd(e.state.activeIndex),e.start()},e.props.speed)})}},this.start=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props;t.autoplay&&(e._autoplayTimer||(e._autoplayTimer=setInterval(function(){e.slideToNext()},t.delay+t.speed)))},this.stop=function(){e._autoplayTimer&&(clearInterval(e._autoplayTimer),e._autoplayTimer=null)}},c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return f});var i=n(0),l=n.n(i),c=n(13),s=n(43),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=c.h,f=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.wareItem,n=e.subscript,r=e.subscriptUrl;if(!t||n===p.NONE)return null;var a=t.copyWriting,o=t.copyWritingDown;if(!a&&n!==p.PIC)return null;switch(n){case p.TWO_COLOR:if(!o)return null;return s.b(a)>10||s.b(o)>10?null:l.a.createElement("div",{className:"pd_tip"},l.a.createElement("div",{className:"text_1"},t.copyWriting),l.a.createElement("div",{className:"text_2"},t.copyWritingDown));case p.SQUARE:case p.CORNER:case p.RANK:return t.copyWriting?l.a.createElement("div",{className:"pd_tip"},l.a.createElement("div",{className:"pd_tip_text pd_tip_text-len-"+t.copyWriting.length},t.copyWriting)):null;case p.PIC:return r?l.a.createElement("div",{className:"pd_tip",style:{backgroundImage:"url("+r+")"}},l.a.createElement("div",{className:"pd_tip_text pd_tip_text-len-"+t.copyWriting.length},t.copyWriting)):null;default:return null}}}]),t}(i.PureComponent)},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o});var r=990,a=1125,o=r/a},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var c,s,u,p=n(0),f=n.n(p),d=n(6),m=n.n(d),h=n(2),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=(s=c=function(e){function t(){var e,n,r,a;o(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),u.call(r),a=n,i(r,a)}return l(t,e),v(t,[{key:"componentWillUnmount",value:function(){this._clearTimer()}},{key:"render",value:function(){var e=this.props,t=e.component,n=(e.eventId,e.params,e.delay,e.onHover,e.jsonSrv,a(e,["component","eventId","params","delay","onHover","jsonSrv"]));return f.a.createElement(t,Object.assign({},n,{onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave}))}}]),t}(p.PureComponent),c.contextType=h.a,c.propTypes={component:m.a.oneOfType([m.a.element.isRequired,m.a.string.isRequired]),delay:m.a.number,onHover:m.a.func.isRequired,eventId:m.a.string.isRequired,params:m.a.oneOfType([m.a.array,m.a.object]),jsonSrv:m.a.string},c.defaultProps={delay:300},u=function(){var e=this;this._onMouseEnter=function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];var o=e.props,i=o.onMouseEnter,l=o.eventId,c=o.params,s=o.delay,u=o.onHover,p=o.jsonSrv;i&&i.apply(void 0,n),e.timeoutId=setTimeout(function(){var t;"1"!==p&&(t=e.context.tracking).sendClickTracking.apply(t,["Babel",l].concat(r(c))),"1"===p&&e.context.tracking.sendClickTrackingJSON("Babel_"+l,c||""),u&&u.apply(void 0,n)},s)},this._onMouseLeave=function(){var t;e.props.onMouseLeave&&(t=e.props).onMouseLeave.apply(t,arguments),e._clearTimer()},this._clearTimer=function(){e.timeoutId&&(clearTimeout(e.timeoutId),e.timeoutId=null)}},s)},function(e,t){},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return E});var l,c,s=n(93),u=(n.n(s),n(0)),p=n.n(u),f=n(94),d=n(6),m=n.n(d),h=n(56),v=n.n(h),b=n(7),y=n.n(b),g=n(45),_=n(2),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=(c=l=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.videoDom=null,n._goFullScreen=function(){v.a.fullscreenEnabled?(v.a.requestFullscreen(n.videoDom),n.videoDom.play()):(n.setState({manualFullScreenClass:"show_manual_fullscreen_video"}),n.videoDom.play())},n._playOrPauseVideo=function(e){if(e.stopPropagation(),e.preventDefault(),!("ActiveXObject"in window)){var t=n.videoDom;t.paused?t.play():t.pause()}},n._manualExitFullScreen=function(){var e,t=n.props.video,a=void 0===t?{}:t;n.setState({manualFullScreenClass:""}),n.videoDom.pause(),a.onExitFullScreenSrv&&(e=n.context.tracking).sendClickTracking.apply(e,["Babel","VideoClose"].concat(r(a.onExitFullScreenSrv||[])))},n.state={manualFullScreenClass:""},n}return i(t,e),w(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.video,r=t.imgHeight,a=t.className,o=t.style,i=n.playType,l=n.pictureUrl,c=n.videoDuration,s=n.videoUrl,u=Object.assign({height:r?r+"px":"auto"},o);return c=Object(f.a)(c),p.a.createElement("div",{className:y()("video_wrap",a,this.state.manualFullScreenClass),style:u},"0"===i&&p.a.createElement("img",{className:"lazyload-img fadein poster",alt:"",src:l,onClick:this._goFullScreen}),p.a.createElement("video",{width:"100%",height:r||"auto",controls:"controls",autobuffer:"autobuffer",playsInline:"1"===i?"playsInline":"",poster:l,ref:function(t){return e.videoDom=t},onClick:function(t){return e._playOrPauseVideo(t)}},p.a.createElement("source",{src:s,type:"video/mp4"}),p.a.createElement("source",{src:s,type:"video/ogg"})),"0"===i&&p.a.createElement(g.a,{onClickCallback:this._goFullScreen,videoDuration:c}),p.a.createElement("div",{className:"overlay"},p.a.createElement("i",{className:"close",onClick:this._manualExitFullScreen}," ")))}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.video,a=n.stringSrv,o=n.onStartEventId,i=n.onStartSrv,l=n.onPauseSrv,c=n.onDragSrv,s=n.oneEndSrv,u=n.onEndEventId,p=n.onExitFullScreenSrv,f=t.onVideoPlay,d=t.onVideoPause,m=this.context.eventCollector,h=!0;this.videoDom.onplay=function(){if(h&&o){if("1"===a)e.context.tracking.sendClickTracking2("Babel_"+o,i||"");else{var t;"string"===typeof i&&(i=i.split("_")),(t=e.context.tracking).sendClickTracking.apply(t,["Babel",o].concat(r(i||[])))}h=!1}f&&f()},this.videoDom.onpause=function(){var t;d&&d(),l&&(t=e.context.tracking).sendClickTracking.apply(t,["Babel","VideoPause"].concat(r(l||[])))},this.videoDom.onseeked=function(){var t;c&&(t=e.context.tracking).sendClickTracking.apply(t,["Babel","VideoDrag"].concat(r(c||[])))},this.videoDom.onended=function(){var t;s&&(t=e.context.tracking).sendClickTracking.apply(t,["Babel",u].concat(r(s||[])))},m("onfullscreenchange",function(){if(null===v.a.fullscreenElement&&!e.videoDom.paused){var t;e.videoDom.pause(),p&&(t=e.context.tracking).sendClickTracking.apply(t,["Babel","VideoClose"].concat(r(p||[])))}})}}]),t}(u.PureComponent),l.contextType=_.a,l.defaultProps={video:{}},l.propTypes={imgHeight:m.a.number,video:m.a.shape({playType:m.a.string.isRequired,autoplay:m.a.string,pictureUrl:m.a.string.isRequired,videoDuration:m.a.oneOfType([m.a.string,m.a.number]),videoUrl:m.a.string.isRequired,onStartEventId:m.a.string,onStartSrv:m.a.oneOfType([m.a.string,m.a.array]),stringSrv:m.a.string}),className:m.a.string,eventId:m.a.shape({play:m.a.string,end:m.a.string}),style:m.a.object},c)},,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){for(;e&&e.className.indexOf(t)<0;)e=e.parentElement;return e}n.d(t,"a",function(){return _});var l,c,s=n(79),u=(n.n(s),n(0)),p=n.n(u),f=n(6),d=n.n(f),m=n(9),h=n.n(m),v=n(7),b=n.n(v),y=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=(c=l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._setRef=function(e){n._ref=e},n.setFixed=function(){!n.state.fixed&&n.setState({fixed:!0},n.props.onFixed)},n.setUnfixed=function(){n.state.fixed&&n.setState({fixed:!1},n.props.onUnfixed)},n.state={fixed:!1,viewHeight:0},n}return o(t,e),g(t,[{key:"componentDidMount",value:function(){if(!this.props.disable){t.addScrollListener(this);var e=h.a.findDOMNode(this._ref);e&&e.parentElement&&1===e.parentElement.children.length&&(e.parentElement.style.height=e.offsetHeight+"px");var n=h.a.findDOMNode(this._ref).offsetHeight;this.setState({viewHeight:n})}}},{key:"componentWillUnmount",value:function(){t.removeScrollListener(this)}},{key:"render",value:function(){return p.a.createElement("div",{className:"sticky-view",ref:this._setRef},!this.props.disable&&this.state.fixed&&p.a.createElement("div",{style:{height:this.state.viewHeight+"px"},className:"sticky-placeholder"}),p.a.createElement("div",{className:b()({"sticky-inner-view":!0,"nav-fixed":this.state.fixed})},this.props.children))}}]),t}(u.PureComponent),l.propTypes={onFixed:d.a.func,onUnfixed:d.a.func,disable:d.a.bool},l.tabListInstances=[],l.scrollListener=function(){_.tabListInstances.forEach(function(e){var t=y(e,3),n=t[0],r=t[1],a=t[2],o=r.parentElement.getBoundingClientRect().top;o<=0&&-o<a.offsetHeight?"function"===typeof n.setFixed&&n.setFixed():"function"===typeof n.setUnfixed&&n.setUnfixed()})},l.addScrollListener=function(e){if(e){var t=e._ref;if(t){var n=h.a.findDOMNode(t);if(n){var r=i(n,"bab-opt-mod");if(r){var a=_.tabListInstances;a.push([e,n,r]),1===a.length&&window.addEventListener("scroll",_.scrollListener,!1)}}}}},l.removeScrollListener=function(e){if(e){var t=_.tabListInstances,n=t.findIndex(function(t){return t[0]===e});n>=0&&t.splice(n,1),t.length||window.removeEventListener("scroll",_.scrollListener,!1)}},c)},function(e,t,n){"use strict";function r(e){var t={promo_banner:"guanggao_tonglan"===e.template,outside:!1,has_video:"1"===e.themeId},n={};"guanggao_zuhe"===e.template&&(n={promo_1big_2sm_1row:"0"===e.styleId,promo_1big_2sm_2row:"1"===e.styleId,promo_1big_4sm:"6"===e.styleId,promo_2big_2sm:"3"===e.styleId,promo_1big_3:"2"===e.styleId,promo_1big_3_2:"5"===e.styleId});var r={};"guanggao_lunbo"===e.template&&(r={promo_carousel:!0,normal:"1"!==e.styleId,vertical:"1"===e.styleId});var a={};"guanggao_beishu"===e.template&&(a={two_pic:"0"===e.styleId,three_pic:"1"===e.styleId,four_pic:"2"===e.styleId,five_pic:"5"===e.styleId,six_pic:"6"===e.styleId,seven_pic:"7"===e.styleId});var i=Object.assign({promo_module:!0,inside:"1"===e.innerBorder,outside:"1"===e.externalBorder},t,n,r,a);return o()(i)}t.a=r;var a=n(7),o=n.n(a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return g});var i,l,c=n(90),s=(n.n(c),n(0)),u=n.n(s),p=n(5),f=n(3),d=n(91),m=n(6),h=n.n(m),v=n(39),b=n(2),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=(l=i=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o._setRef=function(e){o.img_wrap=e},o.onLoad=function(e){var t=o.props.onLoad;"function"===typeof t&&t(e),o.img_wrap&&o.img_wrap.style&&(o.img_wrap.style.backgroundColor="transparent")},i=n,a(o,i)}return o(t,e),y(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.oneAdvert,r=t.imgHeight,a=t.imgWidth,o=t.eventId,i=t.className,l=t.needLazyLoad,c=(t.children,t.bgColor),s=t.expoEventId,m=t.lazyLoadImgResizeDisable,h=t.style,b=t.puzzleElement,y=t.puzzleData,g=this.context.parseUrl(n),_={height:r?r+"px":null,width:a?a+"px":null,backgroundColor:c||null},w=n.pictureUrl;return this.props.disableLazyLoad&&(w=Object(v.a)(w,h)),u.a.createElement(p.a,{component:"a",eventId:o,params:n.jump&&n.jump.srv&&n.jump.srv.split("_"),className:i,target:"_blank",href:g,expoeventid:s,style:h},u.a.createElement("div",{className:"img_wrap",style:_,ref:this._setRef},!b&&(l?u.a.createElement(f.a,{src:w,onLoad:this.onLoad,height:r,width:a,resizeDisable:m}):u.a.createElement("img",{src:w,alt:"",ref:function(t){return t&&t.complete&&e.props.onLoad()},onLoad:this.props.onLoad,height:r,width:a,style:{backgroundColor:"transparent"}})),b&&u.a.createElement(d.a,{puzzle:b,data:y})))}}]),t}(s.PureComponent),i.contextType=b.a,i.defaultProps={eventId:"",onLoad:function(){},needLazyLoad:!0},i.propTypes={oneAdvert:h.a.object.isRequired,imgHeight:h.a.number,eventId:h.a.string.isRequired,className:h.a.string,onLoad:h.a.func,needLazyLoad:h.a.bool,expoEventId:h.a.string,lazyLoadImgResizeDisable:h.a.bool,style:h.a.object,puzzle:h.a.object},l)},function(e,t){},,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return v});var i,l,c=n(85),s=(n.n(c),n(0)),u=n.n(s),p=n(6),f=n.n(p),d=n(7),m=n.n(d),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=(l=i=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._formatTickValue=function(e){return"function"===typeof n.props.tickValueFormat?n.props.tickValueFormat(e):e<10?"0"+e:e},n._startTimer=function(){n.timer=setInterval(function(){var e=n.state.remain;if(e<0)return n._clearTimer(),void("function"===typeof n.props.onEnd&&n.props.onEnd());n.setState({remain:e-1e3})},1e3)},n._clearTimer=function(){n.timer&&(clearInterval(n.timer),n.timer=null)},n.state={remain:e.remain},n}return o(t,e),h(t,[{key:"componentDidMount",value:function(){this._startTimer()}},{key:"componentWillUnmount",value:function(){this._clearTimer()}},{key:"render",value:function(){if(this.state.remain<1e3)return null;var e=this.props,t=e.className,n=e.valueStyle,r=e.labelStyle,a=e.prefixRender,o=e.style,i=e.seperate,l=void 0===i?"":i,c=this.state.remain;return c>864e5?u.a.createElement("span",{className:m()("countdown",t),style:o},a&&a(),u.a.createElement("span",{className:"time-tick day"},u.a.createElement("span",{className:"tick-value",style:n},this._formatTickValue(Math.floor(c/864e5))),u.a.createElement("span",{className:"tick-label",style:r},"\u5929")),u.a.createElement("span",{className:"time-tick hour"},u.a.createElement("span",{className:"tick-value",style:n},this._formatTickValue(Math.floor(c%864e5/36e5))),u.a.createElement("span",{className:"tick-label",style:r},"\u65f6")),u.a.createElement("span",{className:"time-tick minute"},u.a.createElement("span",{className:"tick-value",style:n},this._formatTickValue(Math.floor(c%36e5/6e4))),u.a.createElement("span",{className:"tick-label",style:r},"\u5206"))):u.a.createElement("span",{className:m()("countdown",t),style:o},a&&a(),u.a.createElement("span",{className:"time-tick hour"},u.a.createElement("span",{className:"tick-value",style:n},this._formatTickValue(Math.floor(c/36e5))),u.a.createElement("span",{className:"tick-label",style:r},"colon"===l?":":"\u65f6")),u.a.createElement("span",{className:"time-tick minute"},u.a.createElement("span",{className:"tick-value",style:n},this._formatTickValue(Math.floor(c%36e5/6e4))),u.a.createElement("span",{className:"tick-label",style:r},"colon"===l?":":"\u5206")),u.a.createElement("span",{className:"time-tick second"},u.a.createElement("span",{className:"tick-value",style:n},this._formatTickValue(Math.floor(c%6e4/1e3))),u.a.createElement("span",{className:"tick-label",style:r},"colon"===l?"":"\u79d2")))}}]),t}(s.PureComponent),i.propTypes={remain:f.a.number.isRequired,onEnd:f.a.func,valueStyle:f.a.object,labelStyle:f.a.object,tickValueFormat:f.a.func,prefixRender:f.a.func,style:f.a.object},l)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return v});var i,l,c=n(134),s=(n.n(c),n(0)),u=n.n(s),p=n(6),f=n.n(p),d=n(7),m=n.n(d),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=(l=i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.showLogoOrHot,n=e.logoUrl,r=e.mainTitle,a=e.subTitle,o=e.alignCenter,i=e.subTitleColor,l=e.className,c=void 0===l?"":l;return u.a.createElement("div",{className:m()("guide_title_wrap",c,{center:o})},u.a.createElement("div",{className:"main"},"logo"===t&&n&&u.a.createElement("img",{className:"logo",src:n,alt:""}),"hot"===t&&u.a.createElement("p",{className:"hot"}),u.a.createElement("p",null,r)),a&&u.a.createElement("div",{className:"sub",style:{color:i}},a))}}]),t}(s.PureComponent),i.propTypes={showLogoOrHot:f.a.string,logoUrl:f.a.string,mainTitle:f.a.string,subTitle:f.a.string,subTitleColor:f.a.string,alignCenter:f.a.bool,className:f.a.string},l)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return m});var i,l,c=n(137),s=(n.n(c),n(0)),u=n.n(s),p=n(6),f=n.n(p),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=(l=i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.pv,n=e.className;return t&&Number(t)>0&&u.a.createElement("div",{className:n+" detail_pv"},t)}}]),t}(s.PureComponent),i.propTypes={pv:f.a.string,className:f.a.string},l)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return f});var i=n(179),l=(n.n(i),n(7)),c=n.n(l),s=n(0),u=n.n(s),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"render",value:function(){var e=this.props.className;return u.a.createElement("div",{className:c()("mask",e)},this.props.children)}}]),t}(s.PureComponent)},,function(e,t,n){"use strict";var r,a;"function"===typeof Symbol&&Symbol.iterator;!function(o){r=o,void 0!==(a="function"===typeof r?r.call(t,n,t,e):r)&&(e.exports=a)}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,a,o){var i;if("undefined"!==typeof document){if(arguments.length>1){if(o=e({path:"/"},r.defaults,o),"number"===typeof o.expires){var l=new Date;l.setMilliseconds(l.getMilliseconds()+864e5*o.expires),o.expires=l}try{i=JSON.stringify(a),/^[\{\[]/.test(i)&&(a=i)}catch(e){}return a=n.write?n.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",a,o.expires&&"; expires="+o.expires.toUTCString(),o.path&&"; path="+o.path,o.domain&&"; domain="+o.domain,o.secure?"; secure":""].join("")}t||(i={});for(var c=document.cookie?document.cookie.split("; "):[],s=/(%[0-9A-Z]{2})+/g,u=0;u<c.length;u++){var p=c[u].split("="),f=p.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{var d=p[0].replace(s,decodeURIComponent);if(f=n.read?n.read(f,d):n(f,d)||f.replace(s,decodeURIComponent),t===d){i=f;break}t||(i[d]=f)}catch(e){}}return i}}return r.set=r,r.get=function(e){return r(e)},r.getJSON=function(){},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t(function(){})})},,,,function(e,t,n){"use strict";function r(e){return o.isServer?e:i.test(e)&&window.__react_data__&&window.__react_data__.isWebpSupport?e+".webp":e}function a(e,t){if(!l.test(e))return e;var n=e.match(c);if(!n)return e;if(n[3]&&n[4]){if(!t||!t.width&&!t.height)return e;t.width&&!t.height&&(t.height=t.width/n[3]*n[4]),t.height&&!t.width&&(t.width=t.height/n[4]*n[3]);var r="s"+Math.ceil(t.width)+"x"+Math.ceil(t.height)+"_jfs";return e.replace(n[1],r)}return t&&t.width&&t.height?e.replace("/jfs/","/s"+Math.ceil(t.width)+"x"+Math.ceil(t.height)+"_jfs/"):e}t.b=r,t.a=a;var o=n(8),i=/\.jpe{0,1}g\s*$/i,l=/\.jpe?g(\.webp)?\s*$/i,c=/360buyimg\.com\/.*\/((s([\d^_]+)x([\d^_]+)_)?jfs)/i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return N});var i,l,c=n(77),s=(n.n(c),n(0)),u=n.n(s),p=n(9),f=n.n(p),d=n(6),m=n.n(d),h=n(14),v=n(41),b=n(1),y=n(13),g=n(11),_=n(8),w=n(2),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=y.e,N=(l=i=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._setRef=function(e){n._ref=e},n._navSticky=!1,n._renderList=function(){var e=n.props,t=e.floorData,r=e.detailEventId,a=e.cartEventId,o=e.className,i=e.expoeventid,l=e.getClientExposalUrl,c=e.lazyLoadImgResizeDisable,s=n.context.activityData,p=t.styleId,f=t.waresList,d=t.waresListConfig,m=void 0===d?{}:d;if(!f||!f.length)return null;var h=n.state,b=h.selectedTab,g=h.extraWareListInfos,_=s.inkTarget||"_black",w=n.props.productItemComponent||v.a;return f.map(function(e){var s=e.areaFilterType,f=n._getGroupInfoList(p,e);if(0===f.length)return"";var d="9"===p?"pd_module-0 pd_module_coupon":"pd_module-"+p;return u.a.createElement("div",{className:"pd_module "+d,style:{backgroundColor:t.backgroundColor,display:e.groupId===b.groupId?"block":"none"},key:e.groupId},u.a.createElement("div",{className:"pd_common_wrap"},f.map(function(e){var t=y.j(e,s);return u.a.createElement(w,{key:e.skuId,styleId:p,waresListConfig:m,wareItem:e,extraWareInfo:g&&g[e.skuId],soldOutCls:t,inkTarget:_,detailEventId:r,cartEventId:a,className:o,expoeventid:i,clientExposalUrl:l?e.clientExposalUrl:"",lazyLoadImgResizeDisable:c})})))})},n._getGroupInfoList=function(e,t){return t?t.groupInfoList:[]},n._renderTab=function(e){var t=e.tabList,r=e.tabStyle,a=e.tabConfig,o=void 0===a?{}:a;return u.a.createElement(h.a,{tabStyle:r,tabList:t,tabConfig:o,selectedTab:n.state.selectedTab,onTabHover:function(){n._selectGroup.apply(n,arguments)},tabClickEventId:n.props.tabClickEventId,onNavSticky:n._onNavSticky,onNavUnsticky:n._onNavUnsticky,disableStickyView:n.props.disableStickyView})},n._getState=function(){var e=n.props.floorData,t=e.waresList,r=e.waresListConfig,a=e.tabList;return t&&t.length&&r&&a&&a.length?{selectedTab:a[0],extraWareListInfos:null}:{}},n._selectGroup=function(e){var t=n.state.selectedTab;e&&t!==e&&n.setState({selectedTab:e})},n._onNavSticky=function(){n._navSticky=!0},n._onNavUnsticky=function(){n._navSticky=!1},n._getSkuExtraInfos=function(){var e=n.props.floorData,t=e.waresList;if(e.waresListConfig.jdPrice===O.IOUS_PRICE){var r=t.reduce(function(e,t){return e.concat(t.groupInfoList.map(function(e){return e.skuId}))},[]);r.length&&Object(g.doJsonP)(_.frontInterfaceHost+"/client.action?functionId=getSkuExtraInfos",Object(g.getBabelUrlParam)({skus:r.join(","),l:"1"})).then(function(e){"0"===e.code&&n.setState({extraWareListInfos:e.waresList})}).catch(function(e){})}},n.state=n._getState(),n}return o(t,e),E(t,[{key:"componentDidMount",value:function(){this._getSkuExtraInfos()}},{key:"componentDidUpdate",value:function(e,t){if(this._navSticky&&t.selectedTab!==this.state.selectedTab){var n=f.a.findDOMNode(this._ref);window.scrollTo(0,Math.ceil(window.pageYOffset+n.getBoundingClientRect().top))}}},{key:"render",value:function(){var e=this.props.floorData;return u.a.createElement("div",Object.assign({},b.c(e),{ref:this._setRef}),this._renderTab(e),this._renderList())}}]),t}(s.PureComponent),i.contextType=w.a,i.propTypes={productItemComponent:m.a.func,disableStickyView:m.a.bool,detailEventId:m.a.string.isRequired,cartEventId:m.a.string.isRequired,tabClickEventId:m.a.string.isRequired,className:m.a.string,expoeventid:m.a.string,lazyLoadImgResizeDisable:m.a.bool},l)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return C});var i,l,c,s=n(19),u=(n.n(s),n(0)),p=n.n(u),f=n(6),d=n.n(f),m=n(3),h=n(5),v=n(13),b=n(42),y=n(16),g=n(2),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=v.g,E=(v.c,v.e),O=v.d,N=v.b,C=(l=i=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),c.call(o),i=n,a(o,i)}return o(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.wareItem,n=e.waresListConfig,r=e.styleId,a=e.soldOutCls,o=e.inkTarget,i=void 0===o?"_blank":o,l=e.className,c=e.detailEventId,s=e.extraWareInfo,u=e.expoeventid,f=e.clientExposalUrl,d=e.lazyLoadImgResizeDisable,v=e.isInfinityProduct,g=void 0!==v&&v;if(!t)return null;var _=n.jdPrice,O=(r==w.THREE_COL||r==w.HORIZONTAL_SCROLL)&&(_==E.PLUS_PRICE||_==E.FANS_PRICE||_===E.NEWER_PRICE||_==E.ENTERPRISE_PRICE||_==E.STUDENT_PRICE),N=n.subscript,C=n.subscriptUrl,I=n.showGoodCount,P=n.similar;return p.a.createElement(h.a,{component:"a",href:this.context.parseUrl(t),className:"pd_common pd_subscirpt-"+N+" "+a+" "+(l||""),target:i,eventId:c,expoeventid:u,params:(t.srv||"").split("_"),clientexposalurl:f},p.a.createElement("div",{className:"pd_common_inner",style:{backgroundColor:n.cardColor}},p.a.createElement("div",{className:"pd_pic_wrap"},p.a.createElement("div",{className:"pd_pic_content"},p.a.createElement(m.a,{src:t.image,className:"pd_pic",resizeDisable:d}),a&&p.a.createElement("span",{className:"pd_sold_out"}),!a&&p.a.createElement(b.a,{wareItem:t}),p.a.createElement(y.a,{wareItem:t,subscript:N,subscriptUrl:C}))),p.a.createElement("div",{className:"pd_info"},p.a.createElement("div",{className:"pd_title",style:{color:n.titleColor}},t.name),"0"!==n.slogan&&p.a.createElement("div",{className:"pd_op_text",style:{color:n.sloganColor,borderColor:n.sloganColor}},t.tag),r===w.LIST2&&!this._checkPlot(t)&&p.a.createElement("div",{className:"pd_op_text_two",style:{color:n.sloganUpColor}},p.a.createElement("div",{className:"pd_op_text_two_img"},p.a.createElement(m.a,{src:t.backUpPictures,resizeDisable:d})),p.a.createElement("span",{className:"pd_op_text_two_text"},t.backUpWords.trim())),r===w.PRODUCT_COUPON&&this._renderCoupon(t,n.couponConfig),p.a.createElement("div",{className:"pd_wrap "+(O?"price_line_wrap":null)},this._renderPrice(t,s,n,!0,r,g),"1"===I&&p.a.createElement("div",{className:"pd_evaluate",style:{color:n.commentColor}},t.commentCount&&p.a.createElement("span",{className:"comment_num"},t.commentCount,"\u6761\u8bc4\u4ef7"),t.goodRate&&p.a.createElement("span",{className:"comment_rate"},"\u597d\u8bc4",t.goodRate)),!a&&this._renderCart(t,r,n),"2"===P&&this._renderSimilar(t)))))}},{key:"_renderCoupon",value:function(e,t){var n=this;if(!e.couponInfo)return null;var r=e.couponInfo,a=r.couponText,o=r.key,i=r.roleId;if(!o||!i)return null;var l="0"===t.bgStyle?"defaultPic":"customPic";return p.a.createElement("div",{className:"pd_coupon_section "+l,style:{backgroundImage:""+("1"===t.bgStyle?"url("+t.picUrl+")":null),color:t.textColor},onClick:function(t){return n._getCoupon(t,e.couponInfo,e.jsonSrv)}},p.a.createElement("div",{className:"coupon_info",style:{color:t.textColor}},p.a.createElement("span",null,a)),p.a.createElement("div",{className:"action_text",style:{color:t.textColor}},p.a.createElement("span",null,"\u9886")))}},{key:"_getCoupon",value:function(e,t,n){var r=this;e.stopPropagation(),e.preventDefault();var a=t.key,o=t.roleId;this.handledData={isBean:!1,isFinance:!1},this.context.receiveCoupon({type:1,oneCoupon:{scene:"1",args:"key="+a+",roleId="+o,srv:n},moduleName:"coupon_product",invoker:this,eventId:"Babel_CommonCouponGet",jsonSrv:!0,dialog:{from:"5"},noDiaglog:!0,stampCb:function(e){"coupon_receive"===e?(n&&(n.jud="0"),r.context.tracking.sendClickTrackingJSON("Babel_CommonCouponGet",n)):(n&&(n.jud="1"),r.context.tracking.sendClickTrackingJSON("Babel_CommonCouponGet",n))},failCb:function(){n&&(n.jud="1"),r.context.tracking.sendClickTrackingJSON("Babel_CommonCouponGet",n)}})}}]),t}(u.PureComponent),i.propTypes={styleId:d.a.string,waresListConfig:d.a.object.isRequired,wareItem:d.a.object.isRequired,extraWareInfo:d.a.object,soldOutCls:d.a.string,inkTarget:d.a.string,detailEventId:d.a.string.isRequired,cartEventId:d.a.string.isRequired,expoeventid:d.a.string,clientExposalUrl:d.a.string,lazyLoadImgResizeDisable:d.a.bool},i.contextType=g.a,c=function(){var e=this;this._renderPrice=function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=p.a.createElement("div",{className:"pd_now_price",style:r?{color:n.mainPriceColor}:null},"\uffe5",e.pPrice),l=null,c=n.jdPrice;if(n.jdPrice>=1e4){var s=e.shopFieldConfig;if(!s&&!o)return p.a.createElement("section",{className:"pd_price_wrap promotion-price-section no-config "},i);o&&(s=e.shopFieldConfigs[c]);var u=s,f=u.fieldType,d=u.textStyle,m=u.fieldValue,h=u.fieldIcon,v=n.assistPriceColor,b=n.tabColor,y={};if("201"===f)return y={fontSize:"11px",color:b,border:"1"===d?"1px solid "+b:"none",maxWidth:"120px"},p.a.createElement("section",{className:"pd_price_wrap promotion-price-section"},i,p.a.createElement("span",{className:"promotion-price-label",style:y},m));if("202"===f)return p.a.createElement("section",{className:"pd_price_wrap promotion-price-section"},i,p.a.createElement("img",{className:"config-label-picture",src:m,alt:"icon"}));if("203"===f)return y={color:v},p.a.createElement("section",{className:"pd_price_wrap config"},i,p.a.createElement("span",{className:"config-price",style:y},p.a.createElement("span",null,m),h&&p.a.createElement("img",{className:"config-label-picture",src:h,alt:"icon"})))}switch(c){case E.PROMOTION_PRICE:a!==w.BIG_PIC&&a!==w.LIST1&&a!==w.INFINITY_PRODUCT||!e.promotionTag||(l=p.a.createElement("div",{className:"pd_old_price",style:r?{color:n.assistPriceColor}:null},e.promotionTag&&p.a.createElement("span",{className:"replace_price",style:r?{border:"1px solid "+n.tabColor,color:n.tabColor}:null},e.promotionTag)));break;case E.JD_BACKEND_PRICE:l=p.a.createElement("div",{className:"pd_old_price",style:r?{color:n.assistPriceColor}:null},e.pcpPrice&&p.a.createElement("del",{className:"old"},"\uffe5",e.pcpPrice));break;case E.NO_PROMOTION_BACKEND_PRICE:break;case E.IOUS_PRICE:if("N"===e.hasPresale&&t&&t.sInfo){var g=null;t.sInfo.proType>0&&(a===w.BIG_PIC?g="\u60e0":a===w.LIST1&&(g=1===t.sInfo.proType?"\u514d\u606f":"\u4f18\u60e0")),l=p.a.createElement("div",{className:"ious_price"},g&&p.a.createElement("i",{className:"price_text"},g),p.a.createElement("span",{className:"price_stages"},"\uffe5",t.sInfo.price,p.a.createElement("em",{className:"stages"},"x",t.sInfo.stages,"\u671f"))),i=null}break;case E.PLUS_PRICE:l=p.a.createElement("div",{className:"pd_plus_price",style:r?{color:n.plusColor}:null},!!e.plusPrice&&p.a.createElement("span",null,"\uffe5",e.plusPrice,p.a.createElement("i",{className:"pd_plus_icon"})));break;case E.FANS_PRICE:l=p.a.createElement("div",{className:"pd_fans_price",style:r?{color:n.assistPriceColor}:null},!!e.fansPrice&&p.a.createElement("span",null,"\uffe5",e.fansPrice,p.a.createElement("i",{className:"pd_fans_icon"})));break;case E.NEW_PRODUCT_TAG:l=e.newTag===O.SHOW?p.a.createElement("div",{className:"pd_new_product_tag"},p.a.createElement("i",{className:"pd_new_product_tag_icon"})):null;break;case E.NEWER_PRICE:l=p.a.createElement("div",{className:"pd_newer_price",style:r?{color:n.assistPriceColor}:null},!!e.newerPrice&&p.a.createElement("span",null,"\xa5",e.newerPrice,p.a.createElement("i",{className:"pd_newer_price_icon"})));break;case E.ENTERPRISE_PRICE:l=p.a.createElement("div",{className:"pd_enterprise_price",style:r?{color:n.assistPriceColor}:null},!!e.enterPrice&&p.a.createElement("span",null,"\xa5",e.enterPrice,p.a.createElement("i",{className:"pd_enterprise_icon"})));break;case E.STUDENT_PRICE:l=p.a.createElement("div",{className:"pd_student_price",style:r?{color:n.assistPriceColor}:null},!!e.stuPrice&&p.a.createElement("span",null,"\xa5",e.stuPrice,p.a.createElement("i",{className:"pd_student_icon"})));break;case E.FREE_INTEREST:l=p.a.createElement("div",{className:"pd_free_interest",style:r?{color:n.assistPriceColor}:null},e.interestFree&&p.a.createElement("span",{className:"replace_price",style:r?{color:n.tabColor}:null},e.interestFree))}return p.a.createElement("div",{className:"pd_price_wrap"},i,l)},this._renderSimilar=function(e){if(!e.simiJump)return null;var t=function(t){t.stopPropagation(),t.preventDefault();var n=e.simiJump&&e.simiJump.params.url;window.location.href=n||"javascript:void(0)"};return p.a.createElement("div",{className:"similar-button"},p.a.createElement("button",{className:"similar-section pd-similar",onClick:t},"\u770b\u76f8\u4f3c"))},this._checkPlot=function(e){return!e.backUpWords||!e.backUpPictures||(!e.backUpWords.trim().length||!e.backUpPictures.length)},this._renderCart=function(t,n,r){if(r.showBuyCar!==N.SHOW)return null;var a=r.buttonBackgroundColor,o=void 0===a?"#f02b2b":a,i=r.buttonTextColor,l=void 0===i?"#FFF":i;r.buttonText;return p.a.createElement(h.a,{component:"div",className:"pd_buy_car",style:n===w.LIST2?{backgroundColor:o,color:l}:null,onClick:function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];e._addToCart.apply(e,[t].concat(r))},eventId:e.props.cartEventId,params:t.srv&&t.srv.split("_")},p.a.createElement("div",{className:"icon_wrap",style:{backgroundColor:r.cartBackgroundColor}}))},this._addToCart=function(t,n){n.stopPropagation(),n.preventDefault();var r=t.skuId;e.context.addCartItem(r)}},l)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var i,l,c=n(0),s=n.n(c),u=n(6),p=n.n(u),f=n(13),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=f.f,h=(l=i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props.wareItem;if(!e)return null;var t=e.priceType;return t===m.Line?s.a.createElement("div",{className:"pd_preLine",style:{backgroundImage:e.btPic&&"url("+e.btPic+")"}},s.a.createElement("div",{className:"pd_preBest"},e.btContent+e.btTime||"")):t===m.BIG?s.a.createElement("div",{className:"pd_preBig"},s.a.createElement("div",{className:"pd_preBigArea"},s.a.createElement("div",{className:"pd_preBigTitle"},"\u6d3b\u52a8\u4ef7"),s.a.createElement("div",{className:"pd_preBigSale"},"\uffe5",e.ptPrice),s.a.createElement("div",{className:"pd_preBigDate"},e.ptTime))):t===m.BIG_LINE?s.a.createElement("div",{className:"pd_preBigLine"},s.a.createElement("div",{className:"pd_preBest"},e.btContent),s.a.createElement("div",{className:"pd_preBigPos"},s.a.createElement("div",{className:"pd_preBigArea"},s.a.createElement("div",{className:"pd_preBigTitle"},"\u6d3b\u52a8\u4ef7"),s.a.createElement("div",{className:"pd_preBigSale"},"\uffe5",e.ptPrice),s.a.createElement("div",{className:"pd_preBigDate"},e.ptTime)))):null}}]),t}(c.PureComponent),i.propTypes={wareItem:p.a.object.isRequired},l)},function(e,t,n){"use strict";function r(e,t){if(!e||!t)return e;for(var n=new RegExp(/[^\x00-\xff]/),r=0,a=0,o=e.length;a<o;a++){var i=e[a];if(i.match(n)?r+=i.replace(n,"00").length:r+=i.length,r>t)return e.substr(0,a)}return e}function a(e){return null===e?0:("string"!==typeof e&&(e+=""),e.replace(/[^\x00-\xff]/g,"01").length)}t.a=r,t.b=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return f});var i=n(82),l=(n.n(i),n(0)),c=n.n(l),s=n(7),u=n.n(s),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"render",value:function(){return c.a.createElement("div",{className:u()("section-loading",this.props.className)})}}]),t}(l.PureComponent)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return m});var i,l,c=n(95),s=(n.n(c),n(0)),u=n.n(s),p=n(6),f=n.n(p),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=(l=i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.onClickCallback,n=e.videoDuration;return u.a.createElement("div",{className:"start_btn "+(n?"":"no_duration"),onClick:t||null},n&&u.a.createElement("span",{className:"play_time"},n))}}]),t}(s.PureComponent),i.propTypes={onClickCallback:f.a.func,videoDuration:f.a.string},l)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return v});var i,l,c=n(135),s=(n.n(c),n(0)),u=n.n(s),p=n(6),f=n.n(p),d=n(3),m=n(45),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=(l=i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.price,r=e.className,a=e.showStartBtn;return u.a.createElement("div",{className:r},u.a.createElement(d.a,{src:t,resizeDisable:!0}),n&&u.a.createElement("div",{className:"price"},u.a.createElement("span",null,"\uffe5",n)),a&&u.a.createElement(m.a,null))}}]),t}(s.PureComponent),i.propTypes={src:f.a.string,price:f.a.string,className:f.a.string,showStartBtn:f.a.bool},l)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return v});var i,l,c=n(136),s=(n.n(c),n(0)),u=n.n(s),p=n(6),f=n.n(p),d=n(32),m=n(3),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=(l=i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.authorPic,n=e.authorName,r=e.goodsNum,a=e.pv,o=e.className;return u.a.createElement("div",{className:o},t&&u.a.createElement("div",{className:"author_pic"},u.a.createElement(m.a,{src:t,className:"no-default",resizeDisable:!0})),n&&u.a.createElement("div",{className:"author_name"},n),r&&u.a.createElement("div",{className:"goodsNum"},r),u.a.createElement(d.a,{pv:a,className:"fr grey"}))}}]),t}(s.PureComponent),i.propTypes={authorPic:f.a.string,authorName:f.a.string,goodsNum:f.a.string,pv:f.a.string,className:f.a.string},l)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),c=n(14),s=n(9),u=n.n(s),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.a=function(e){return function(t){var n,s;return n=function(e){function n(e){r(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));s.call(t);var o=e.floorData.tabList,i=void 0===o?[]:o,l=i.length>1?i[0]:null;return t.state={selectedTab:l},t}return o(n,e),p(n,[{key:"componentDidUpdate",value:function(e,t){if(this._navSticky&&t.selectedTab!==this.state.selectedTab){var n=u.a.findDOMNode(this._ref);window.scrollTo(0,Math.ceil(window.pageYOffset+n.getBoundingClientRect().top))}}},{key:"render",value:function(){return l.a.createElement(t,Object.assign({},this.props,{setRef:this._setRef,renderTab:this._renderTab,selectedTab:this.state.selectedTab}))}}]),n}(i.PureComponent),s=function(){var t=this;this._navSticky=!1,this._setRef=function(e){t._ref=e},this._renderTab=function(n){var r=n.tabList,a=n.tabStyle,o=n.tabConfig,i=void 0===o?{}:o;return i=Object.assign({},i,{tabBgColor:i.bgColor}),l.a.createElement(c.a,{tabStyle:a,tabList:r,tabConfig:i,selectedTab:t.state.selectedTab,onTabHover:function(){t._selectGroup.apply(t,arguments)},tabClickEventId:e,onNavSticky:t._onNavSticky,onNavUnsticky:t._onNavUnsticky})},this._selectGroup=function(e){var n=t.state.selectedTab;e&&n!==e&&t.setState({selectedTab:e})},this._onNavSticky=function(){t._navSticky=!0},this._onNavUnsticky=function(){t._navSticky=!1}},n}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return E});var i,l,c,s=n(155),u=(n.n(s),n(0)),p=n.n(u),f=n(7),d=n.n(f),m=n(5),h=n(3),v=n(6),b=n.n(v),y=n(1),g=n(12),_=n(2),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=(l=i=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));c.call(n);var o=n.props,i=o.imgWidth,l=o.imgHeight,s=i&&l?n._getRealImgStyle({width:i,height:l}):null;return n.state={imgStyle:s},n}return o(t,e),w(t,[{key:"render",value:function(){var e=this.props,t=e.element,n=e.data,r=e.className,a=e.eventId,o=e.needTransform,i=o?"translate("+Object(y.f)(t.x)+"px, "+Object(y.f)(t.y)+"px)":null,l=Object.assign({width:Object(y.f)(t.w),height:Object(y.f)(t.h)},Object(g.c)(i));return p.a.createElement(m.a,{className:d()([r,"image"]),component:"a",eventId:a,params:Object(y.g)(n),target:"_blank",href:this.context.parseUrl(n),style:l},p.a.createElement(h.a,{src:n.pictureUrl,style:this.state.imgStyle,onLoad:this._resizeImg}))}}]),t}(u.PureComponent),i.contextType=_.a,i.defaultProps={needTransform:!0,disabled:!1},i.propTypes={element:b.a.object.isRequired,data:b.a.object.isRequired,needTransform:b.a.bool,imgWidth:b.a.number,imgHeight:b.a.number,disabled:b.a.bool,onLoad:b.a.func},c=function(){var e=this;this._getRealImgStyle=function(t){var n=t.width,r=t.height,a=e.props.element;return a.w/a.h>=n/r?{height:Object(y.f)(a.h),width:n/r*Object(y.f)(a.h)}:{width:Object(y.f)(a.w),height:r/n*Object(y.f)(a.w)}},this._resizeImg=function(t){e.state.imgStyle||e.setState({imgStyle:e._getRealImgStyle(t)})}},l)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y});var i,l,c=n(160),s=(n.n(c),n(0)),u=n.n(s),p=n(5),f=n(6),d=n.n(f),m=n(1),h=n(12),v=n(2),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=(l=i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),b(t,[{key:"render",value:function(){var e=this.props,t=e.element,n=e.data,r=e.eventId,a=e.className,o=void 0===a?"":a,i=e.needTransform,l={36:"20px",39:"24px",42:"32px",45:"36px",48:"40px",51:"44px",54:"48px",63:"52px"},c=Object.assign({width:Object(m.f)(t.w),height:Object(m.f)(t.h)},Object(h.c)(i?"translate("+Object(m.f)(t.x)+"px, "+Object(m.f)(t.y)+"px)":null),{backgroundColor:"1"===t.bgStyle&&t.bgColor,backgroundImage:"2"===t.bgStyle&&"url("+t.bgPicUrl+")"}),s={fontWeight:"0"===t.bold?"bold":"",textAlign:"0"===t.alignStyle?"left":"center",color:t.textColor,fontSize:l[t.textSize],WebkitLineClamp:t.textLine,height:t.textLine+"em"};return u.a.createElement("div",{className:o+" text",style:c},u.a.createElement(p.a,{component:"a",eventId:r,params:Object(m.g)(t),target:"_blank",href:this.context.parseUrl(t),style:s},n))}}]),t}(s.PureComponent),i.contextType=v.a,i.defaultProps={needTransform:!0},i.propTypes={element:d.a.object.isRequired,data:d.a.string.isRequired,eventId:d.a.string,className:d.a.string,needTransform:d.a.bool},l)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=990},,function(e,t,n){"use strict";var r=n(8),a=n(11),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){},l=function(){},c=function(){},s=function(){};if(!r.isServer){var u=Object(a.loadScript)("//wl.jd.com/wl.js");i=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return u.then(function(){"function"===typeof log&&log.apply(void 0,[e,t].concat(r))})},l=function(e,t){"string"===typeof t&&u.then(function(){"function"===typeof log&&log(e,t)})},c=function(e,t){"string"!==typeof t&&"object"!==("undefined"===typeof t?"undefined":o(t))||("object"===("undefined"===typeof t?"undefined":o(t))&&(t=JSON.stringify(t)),u.then(function(){"function"===typeof log&&log(e,t)}))},s=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return u.then(function(){"function"===typeof expLogJSON&&expLogJSON.apply(void 0,[e,t].concat(r))})}}t.a={sendClickTracking:i,sendClickTracking2:l,sendClickTrackingJSON:c,sendExpoTracking:s}},,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var i,l,c=n(207),s=(n.n(c),n(0)),u=n.n(s),p=n(9),f=n.n(p),d=n(6),m=n.n(d),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=null,b=(l=i=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.timer=null,n.state={show:!0},n}return o(t,e),h(t,[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout(function(){e.setState({show:!1})},this.props.duration)}},{key:"render",value:function(){var e=this.props.options.content;return this.state.show&&e?u.a.createElement("div",{className:"overlay"},u.a.createElement("h3",{className:"content"},e)):null}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.options,r=n.content;n.sign!==this.props.options.sign&&r&&(clearTimeout(this.timer),this.setState({show:!0}),this.timer=setTimeout(function(){t.setState({show:!1})},this.props.duration))}}],[{key:"info",value:function(e){v||(v=document.createElement("div"),document.body.appendChild(v)),f.a.render(u.a.createElement(t,{key:0,options:Object.assign({},e,{sign:Math.random()})}),v)}}]),t}(s.PureComponent),i.propTypes={options:m.a.shape({content:m.a.string}),duration:m.a.number},i.defaultProps={duration:2e3},l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(237);n.n(r);n(249),n(250).polyfill(window)},,,,,,function(e,t,n){"use strict";function r(e){m.isWebpSupport().then(function(){window.__react_data__.isWebpSupport=!0}).catch(function(){window.__react_data__.isWebpSupport=!1}).then(function(){var t=document.getElementById("J_babelOptPage"),n={getCouponManagerInfo:f.a},r=m.getLocalAppInFrontend();window.__react_data__.app&&(window.__react_data__.app=Object.assign({},window.__react_data__.app,r)),"1"===document.body.getAttribute("data-ssr")?c.a.hydrate(i.a.createElement(s.a,Object.assign({data:window.__react_data__},e,{frontParam:n})),t):c.a.render(i.a.createElement(s.a,Object.assign({data:window.__react_data__},e,{frontParam:n})),t)})}t.a=r;var a=n(66),o=(n.n(a),n(0)),i=n.n(o),l=n(9),c=n.n(l),s=n(67),u=n(256),p=(n.n(u),n(257)),f=n.n(p),d=n(211),m=n(8),h=n(258),v=n.n(h),b=n(260),y=n.n(b);Object.assign(window,y.a,{babel:v.a}),Object(d.a)(window.__react_data__&&window.__react_data__.pageData)},function(e,t){},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return x});var l,c,s,u=n(0),p=n.n(u),f=n(9),d=n.n(f),m=n(7),h=n.n(m),v=n(68),b=n(203),y=n(11),g=n(44),_=n(205),w=n(58),E=n(208),O=n(210),N=n(8),C=n(56),I=n.n(C),P=n(57),k=(n.n(P),n(2)),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),j=function(){},T={LOCK:"0",TILE:"1"},x=(c=l=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));s.call(n);var r=n.props.data.pageData;return n.eventHandler={onfullscreenchange:[]},n.state={floorList:r&&r.floorList?r.floorList:[],showLoading:n._hasNextPage(),fetchNextError:!1,ifRenderFloatLayer:!N.isServer,pinData:{},holdBeans:null,popLayerOption:{},overlayOption:{},confirmOption:{},couponManagerInfo:{}},n.expoArr=[],n.floorRefs={},n.clientExposalUrlArray=[],n}return i(t,e),S(t,[{key:"componentDidMount",value:function(){var e=this.props.data.pageData,t=this.props.frontParam.getCouponManagerInfo;if(e){this.$app=d.a.findDOMNode(this._ref);var n=this.state.floorList&&this.state.floorList.length,r=e.paginationParams&&e.paginationParams.length>1;n&&r&&(this._fetchPageIfNeedAfterInitial(),this._eventCollector("onscroll",this._paginationScrollListener));var a=e.head||{},o=a.pageBgPicUrl,i=a.pageBgPicStyle;o&&i===T.LOCK&&(this._headerHeight=this.$app.offsetTop,this._eventCollector("onscroll",this._bgScrollListener)),this._getPinData(t),this._initPublicEvent(),Object(P.debounce)(this._expoTracking,200)()}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this._expoTracking,!1)}},{key:"render",value:function(){var e=this.props.data;if(!e)return null;if(e.error)return p.a.createElement(b.a,{data:e.error});var t=e.pageData.head||{},n=t.pageBgPicUrl,r=t.pageBgPicStyle,a=t.pageBgColor,o={backgroundColor:a};return n&&(o.backgroundImage="url("+n+")",r===T.LOCK&&(o.backgroundRepeat="no-repeat",o.backgroundPositionX="50%",o.backgroundAttachment="scroll")),p.a.createElement(k.a.Provider,{value:{config:this.props.config||{},tracking:this.props.tracking,parseUrl:this.props.parseUrl,code:this.props.code,getCurrMouleIdScroll:this._getCurrMouleIdScroll,addCartItem:N.isServer?j:this.props.addCartItem,starProduct:N.isServer?j:this.props.starProduct,goLogin:N.isServer?j:this.props.goLogin,receiveCoupon:N.isServer?j:this.props.receiveCoupon,channel:this.props.channel,activityData:this.props.data.activityData,pageData:this.props.data.pageData,floorRegistry:v.a,couponManagerInfo:this.state.couponManagerInfo,userData:this.state.pinData.userData||{},pinData:this.state.pinData.floorDataList||{},callPopLayer:this._callPopLayer,callOverlay:this._callOverlay,callConfirm:this._callConfirm,eventCollector:this._eventCollector,resetHoldBeans:this._resetHoldBeans,holdBeans:this.state.holdBeans}},p.a.createElement("div",{className:h()(["babel-app",this.props.className,this.props.channel]),ref:this._setRef,style:o},this._renderFloors(this.state.floorList),this._renderFloatLayer(this.props.data.pageData.floatLayer),this.state.showLoading&&p.a.createElement(g.a,null),this.state.fetchNextError&&this._renderRetryPanel(),p.a.createElement(_.a,{options:this.state.popLayerOption}),p.a.createElement(w.a,{options:this.state.overlayOption}),p.a.createElement(E.a,{options:this.state.confirmOption})))}},{key:"_getPinData",value:function(e){var t=this,n=this.props.data.activityData,r=N.frontInterfaceHost+"/client.action?functionId="+this.props.config.channelExtraDataFunctionId;e("babel").then(function(e){if(t.setState({couponManagerInfo:e}),t.props.config.channelExtraDataFunctionId){var a=Object(y.getBabelUrlParam)(Object.assign({activityId:n.encodeActivityId},n.asyncInterfaceBack,{riskParam:{platform:"0",orgType:"2",openId:"-1",pageClickKey:"",eid:e.eid,fp:e.fp,shshshfp:e.shshshfp,shshshfpa:e.shshshfpa,shshshfpb:e.shshshfpb,childActivityUrl:n.pageUrl}}));Object(y.doJsonP)(r,a).then(function(e){"0"===e.code&&"0"===e.subCode?t.setState({pinData:e,holdBeans:e.userData&&e.userData.holdBeans}):"0"===e.code&&e.subCode})}}).catch(function(e){})}},{key:"report",value:function(e){var t=this;Object.keys(e).forEach(function(n,r){e[n].forEach(function(e,a){setTimeout(function(){t.props.tracking.sendExpoTracking("Babel",n,e)},(r+1)*a*25)})})}},{key:"getClientExposal",value:function(e){e&&Object(y.doJsonP)(e)}}]),t}(u.PureComponent),s=function(){var e=this;this._isFetchingNextPage=!1,this._currentPageIndex=0,this._setRef=function(t){e._ref=t},this._resetHoldBeans=function(t){e.setState({holdBeans:t})},this._renderFloors=function(t){var n=e.props.data,r=n.app,a=n.activityData,o=n.pageData,i=o.head;i=void 0===i?{}:i;var l=i.pageBgColor,c=o.dogeList,s=void 0===c?[]:c;if(!t||!t||!t.length)return null;var u=!1;return t.map(function(t){var n=t.template,o=v.a[n];if(o){var i={callPopLayer:e._callPopLayer,callOverlay:e._callOverlay,callConfirm:e._callConfirm,eventCollector:e._eventCollector};switch(n){case"hotzone":case"float_nav":i=Object.assign({},i,{onScrollToTargetFloor:e._scrollToTargetFloor});break;case"anchor_nav":i=Object.assign({},i,{onScrollToTargetFloor:e._scrollToTargetFloor}),u=!0;break;case"coupon_new":case"finance_coupon":i=Object.assign({},i,{couponManagerInfo:e.state.couponManagerInfo});break;case"free_coupon":if(i=Object.assign({},i,{couponManagerInfo:e.state.couponManagerInfo}),e.state.pinData){var c=e.state.pinData,f=c.floorDataList,d=void 0===f?[]:f,m=c.userData,h=d[t.moduleId];i=Object.assign({},i,{pinData:h,userData:m})}break;case"multiModuleTab":i={renderFloors:e._renderFloors};break;case"choujiang_wheel":if(e.state.pinData){var b=e.state.pinData,y=b.floorDataList,g=void 0===y?[]:y,_=b.userData,w=g[t.moduleId];i=Object.assign({},i,{pinData:w,userData:_,couponManagerInfo:e.state.couponManagerInfo})}break;case"signIn":if(e.state.pinData){var E=e.state.pinData,N=E.floorDataList,C=void 0===N?[]:N,I=E.userData,P=C[t.moduleId];i=Object.assign({},i,{pinData:P,userData:I,couponManagerInfo:e.state.couponManagerInfo})}break;case"rnModule":i=Object.assign({},i,{dogeList:s})}return p.a.createElement(O.a,{key:t.floorNum},p.a.createElement(o,Object.assign({floorData:t,pageBackgroundColor:l,app:r,activityData:a,disableStickyView:u},i,{ref:function(n){e.floorRefs[t.floorNum]=n}})))}return null})},this._renderFloatLayer=function(t){var n=e.props.data,r=n.app,a=n.activityData;if(t&&t.identityId){"3"===t.styleId?t.template="signIn":t.template="float_layer";var o={callPopLayer:e._callPopLayer,callOverlay:e._callOverlay,eventCollector:e._eventCollector},i=v.a[t.template];return p.a.createElement(O.a,null,p.a.createElement(i,Object.assign({floorData:t,app:r,activityData:a,disableStickyView:!1},o)))}},this._renderRetryPanel=function(){return p.a.createElement("div",{className:"retry-panel",onClick:e._loadNextPage},p.a.createElement("div",{className:"retry-text"},"\u52a0\u8f7d\u5931\u8d25\uff0c\u70b9\u51fb\u91cd\u65b0\u52a0\u8f7d"))},this._fetchPageIfNeedAfterInitial=function(){e.$app.offsetHeight<window.innerHeight&&e._loadNextPage().then(e._fetchPageIfNeedAfterInitial).catch(function(e){})},this._paginationScrollListener=function(){var t=window.scrollTop||window.pageYOffset,n=window.innerHeight;document.body.scrollHeight-n-t<=n&&e._loadNextPage().catch(function(t){"NoMorePage"===t.props&&e._removeEventCollector("onscroll",e._paginationScrollListener)})},this._loadNextPage=function(){if(e._isFetchingNextPage)return Promise.reject(new b.a("InFetching"));if(!e._hasNextPage())return Promise.reject(new b.a("NoMorePage"));var t=e.props.data.pageData,n=t.paginationParams,r=t.paginationFlrs,a=t.transParam;e._isFetchingNextPage=!0;var o=n[e._currentPageIndex+1],i={paginationParam:o,paginationFlrs:r,transParam:a};return!e.state.showLoading&&e.setState({showLoading:!0}),e.props.requestNextPage(e.props.data.app,i).then(function(t){t&&"0"===String(t.code)&&"0"===String(t.subCode)?(e._isEventListened("onscroll",e._paginationScrollListener)||e._eventCollector("onscroll",e._paginationScrollListener),e.state.fetchNextError&&e.setState({fetchNextError:!1}),e._currentPageIndex++,t.floorList&&t.floorList.forEach(function(e,t){e.floorNum=o+"_"+t}),e._addFloors(t.floorList),e._currentPageIndex===n.length-1&&e.setState({showLoading:!1}),e._isFetchingNextPage=!1,t.floorList&&t.floorList.length||e._loadNextPage()):e._loadNextPageErrorHandler(t)}).catch(function(t){e._loadNextPageErrorHandler(t)})},this._loadNextPageErrorHandler=function(){e._removeEventCollector("onscroll",e._paginationScrollListener),e._isFetchingNextPage=!1,e.setState({fetchNextError:!0,showLoading:!1})},this._addFloors=function(t){t&&t.length&&e.setState({floorList:[].concat(r(e.state.floorList),r(t))})},this._hasNextPage=function(){var t=e.props.data.pageData;if(!t)return!1;var n=t.paginationParams;return!!n&&!(e._currentPageIndex>=n.length-1)},this._scrollToTargetFloor=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments[2];if(t){var a=e.state.floorList,o=a.find(function(e){return String(e.moduleId)===t});if(o){var i=document.querySelector(".bab-opt-mod.bab-opt-mod-"+o.floorNum);return i&&window.scrollTo(0,(window.scrollTop||window.pageYOffset)+i.getBoundingClientRect().top+n),void(r&&r())}e._hasNextPage()&&e._loadNextPage().then(function(){e._scrollToTargetFloor(t,n,r)})}},this._bgScrollListener=function(){(window.scrollTop||window.pageYOffset)<e._headerHeight?"scroll"!==e.$app.style.backgroundAttachment&&(e.$app.style.backgroundAttachment="scroll"):"fixed"!==e.$app.style.backgroundAttachment&&(e.$app.style.backgroundAttachment="fixed")},this._callPopLayer=function(t){t.sign=Math.random(),e.setState({popLayerOption:t})},this._callOverlay=function(t){e.setState({overlayOption:{content:t,sign:Math.random()}})},this._callConfirm=function(t){t.sign=Math.random(),e.setState({confirmOption:t})},this._getCurrMouleIdScroll=function(){for(var t=e.state.floorList,n=null,r=0;r<t.length;r++){var a=t[r],o=document.querySelector(".bab-opt-mod.bab-opt-mod-"+a.floorNum);if(o){var i=o.getBoundingClientRect();if(i.top<=0&&i.bottom>=0&&"float_nav"!==a.template){n=a.moduleId;break}}}return n},this._eventCollector=function(t,n){e.eventHandler[t]=e.eventHandler[t]?e.eventHandler[t]:[],e.eventHandler[t].push(n)},this._removeEventCollector=function(t,n){var r=e.eventHandler[t];if(r&&r.length){var a=r.indexOf(n);a>-1&&r.splice(a,1)}},this._isEventListened=function(t,n){var r=e.eventHandler[t];return!(!r||!r.length)&&r.indexOf(n)>-1},this._initPublicEvent=function(){I.a.onfullscreenchange=function(){e.eventHandler.onfullscreenchange&&e.eventHandler.onfullscreenchange.forEach(function(e){e()})},window.addEventListener("scroll",function(t){e.eventHandler.onscroll&&e.eventHandler.onscroll.length&&e.eventHandler.onscroll.forEach(function(e){e(t)})},!1),window.addEventListener("scroll",Object(P.debounce)(e._expoTracking,200))},this._expoTracking=function(){for(var t=e.state.floorList,n=window.innerHeight,r=0;r<t.length;r++){var a=t[r],o=document.querySelector(".bab-opt-mod.bab-opt-mod-"+a.floorNum);if(o){var i=o.getBoundingClientRect();if(i.bottom<=n&&i.bottom>0||i.top>=0&&i.top<n){var l=e.floorRefs[a.floorNum];if(l&&l.getList){var c=l.getList();e.findExpo(a.floorNum,c)}}}}},this.findExpo=function(t,n){if(n&&!(n.length<=0)){for(var r=[],a=window.innerHeight,o=window.innerWidth,i=document.querySelectorAll(".bab-opt-mod-"+t+" .expo"),l=0;l<i.length;l++){var c=i[l],s=c.getAttribute("expoeventid"),u=c.getAttribute("clientexposalurl"),p=c.getBoundingClientRect(),f={eventId:s,params:""},d="";if((p.bottom<=a&&p.bottom>0||p.top>=0&&p.top<a)&&(p.left<=o&&p.left>=0||p.right>=0&&p.right<o)){var m=n[l]?n[l].expoSrv:"";f.params=m,d=JSON.stringify(f),u&&e.getClientExposal(u),r.indexOf(d)<=-1&&r.push(d)}}e.addExpo(r)}},this.addExpo=function(t){var n=e.expoArr;t.map(function(e){return n.indexOf(e)<=-1&&n.push(e),!1}),e.addExpoObj()},this.addExpoObj=function(){var t=e.expoArr,n={};t.forEach(function(e){var t=JSON.parse(e);n[t.eventId]?n[t.eventId].push(t.params):n[t.eventId]=[t.params]}),e.report(n)},this._getJshopHeader=function(){var t={venderId:e.props.data.pageData.head.venderId};Object(y.doJsonP)("//mall.jd.com/view/getJshopHeaderByVender.html",t).then(function(e){e.result&&$("#follow_shop_wrapper").replaceWith(e.html)}).catch(function(e){})}},c)},function(e,t,n){"use strict";var r=n(69),a=n(73),o=n(75),i=n(80),l=n(83),c=n(86),s=n(88),u=n(96),p=n(98),f=n(101),d=n(103),m=n(105),h=n(107),v=n(109),b=n(111),y=n(112),g=n(114),_=n(116),w=n(119),E=n(122),O=n(124),N=n(126),C=n(128),I=n(132),P=n(138),k=n(141),S=n(143),j=n(145),T=n(147),x=n(149),L=n(151),D=n(153),R=n(163),z=n(165),A=n(167),U=n(169),B=n(171),M=n(173),F=n(175),H=n(177),G=n(180),W=n(184),V=n(186),q=n(188),J=n(191),Y=n(193),K=n(197),X=n(199),Q=n(201);t.a={hotzone:r.a,loucengbiaoti:a.a,shangpin_putong:o.a,shangpin_wuxianxiala:i.a,shangpin_miaosha:l.a,jiange:c.a,guanggao_tonglan:s.a,guanggao_zuhe:u.a,guanggao_lunbo:p.a,guanggao_beishu:f.a,countDown:d.a,coupon_new:m.a,free_coupon:h.a,finance_coupon:v.a,customcode:b.a,pc_custom_code:b.a,anchor_nav:y.a,basement:g.a,shangpin_cuxiao:_.a,product_banner:w.a,gonggao:E.a,quickentry:O.a,advertsliding:N.a,group_buying:C.a,detailed_list:I.a,preSaleProduct:P.a,articletheme:k.a,waretheme:S.a,float_nav:j.a,full_screen_pic:T.a,shopping_guide:x.a,multiModuleTab:L.a,custom_material:D.a,advertProduct_theme:R.a,custom_advert_product:z.a,advertWords_theme:A.a,medal:U.a,timeline:B.a,float_layer:M.a,live:F.a,signIn:H.a,choujiang_wheel:G.a,advert_try:W.a,panorama:V.a,bookingProduct:q.a,rnModule:J.a,layout_990:Y.a,layout_1125:Y.a,layout_1210:Y.a,layout_full:Y.a,layout_elastic:Y.a,product_auction:K.a,time_limit_activity:X.a,video:Q.a}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return _});var i,l,c=n(70),s=(n.n(c),n(0)),u=n.n(s),p=n(2),f=n(7),d=n.n(f),m=n(22),h=n.n(m),v=n(1),b=n(3),y=n(5),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=(l=i=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._setRef=function(e){n.img_wrap=e},n.setScale=function(){var e=window.innerWidth<990?990:window.innerWidth,t=0;"1"===n.props.floorData.externalBorder&&(t=20),n.setState({scale:(e-t)/(n.props.floorData.width-t)})},n.onLoad=function(){n.img_wrap.style.background="transparent",n.img_wrap.parentNode.style.background="transparent"},n._renderPicture=function(e){var t=e.picList,r=n.props.floorData,a=r.externalBorder,o=r.innerBorder;if(t&&0!==t.length)return n.allHeight=0,t.map(function(e,t){var r=v.e({externalBorder:a,innerBorder:o,height:e.picH,width:e.picW},n.state.scale);return n.allHeight+=r,u.a.createElement("div",{style:{height:r,position:"relative",background:"transparent"},key:"pic-"+t},u.a.createElement(b.a,{resizeDisable:!0,src:e.picUrl,className:"hotzone-pic more",onLoad:n.onLoad,key:t}))});var i=v.e(n.props.floorData,n.state.scale);return n.allHeight=i,u.a.createElement("div",{style:{height:i,position:"relative",background:"transparent"}},u.a.createElement(b.a,{resizeDisable:!0,src:e.pictureUrl,className:"hotzone-pic",onLoad:n.onLoad}))},n._renderHotZonesList=function(e){var t=e.hotZone,r=t.hotZonesList;if(!r||!r.length)return null;var a=n.state.scale;return r.map(function(e,r){return u.a.createElement(y.a,{component:"div",delay:200,eventId:"MapArea",params:e.jump&&e.jump.srv&&e.jump.srv.split("_"),key:"hotzone_"+r,className:"hot_space",target:t.inkTarget,style:{top:e.y*a+"px",left:e.x*a+"px",width:e.w*a+"px",height:e.h*a+"px"},onClick:function(){n._jump(e)}})})},n._renderPrice=function(e){if(e.priceLabel){var t=e.priceLabel,r=t.lblList,a=void 0===r?[]:r,o=t.fontSize,i=t.fontColor,l=t.bgColor,c=t.bgStyle;if(!a.length)return null;var s=n.state.scale;return a.map(function(e,t){var r=e.y*s;return r+(Number(o)+20)*s>n.allHeight&&(r=n.allHeight-(Number(o)+20)*s),u.a.createElement("div",{key:t,className:d()("price_tag_wrap",1==c?"hasBg":"","0"===e.align?"anchor_left":"anchor_right"),style:{top:r,left:e.x*s+"px",fontSize:o*s+"px",lineHeight:1,color:i}},u.a.createElement("div",{className:d()("price_tag_wrap_bg"),style:{color:i||"#000000",backgroundColor:1==c?l:null}}),u.a.createElement("div",{style:{position:"relative"}},u.a.createElement("span",{style:{fontSize:o*s-2+"px"}},"\uffe5"),e.pPrice))})}},n._jump=function(e){if(e&&e.jump){var t=e.jump,r=t.des,a=t.moduleId;if("babelfloor"===r)return void(n.props.onScrollToTargetFloor&&n.props.onScrollToTargetFloor(a));var o=n.context.parseUrl(e);o&&o.indexOf("//")>=0&&Object(v.h)(o)}},n.state={scale:v.d(n.props.floorData)},n.allHeight=0,n}return o(t,e),g(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.floorData,r=t.disableScale,a=n.hotZone,o=v.c(n);return o.className+=" "+d()({"full-screen":!r&&"1"===n.isFullScreen}),u.a.createElement("div",Object.assign({},o,{ref:function(t){return e.rootEle=t}}),u.a.createElement("div",{className:d()({"hot-space-module":!0,outside:"0"!==n.externalBorder}),style:{background:"transparent"}},u.a.createElement("div",{className:"img-wrap",style:{position:"relative",background:"transparent"},ref:this._setRef},this._renderPicture(a),this._renderHotZonesList(n),this._renderPrice(n))))}},{key:"componentDidMount",value:function(){"1"!==this.props.floorData.isFullScreen||this.props.disableScale||(this.throttleEventHandler=h()(this.setScale,30),window.addEventListener("resize",this.throttleEventHandler,!1),this.setScale())}},{key:"componentWillUnmount",value:function(){!this.props.disableScale&&"1"===this.props.floorData.isFullScreen&&window.removeEventListener("resize",this.throttleEventHandler,!1)}}]),t}(s.PureComponent),i.contextType=p.a,l);_.getFloorHeight=function(e){var t=v.d(e),n=e.hotZone,r=n.picList,a=n.externalBorder,o=n.innerBorder;return r&&0!==r.length?r.reduce(function(e,n){return e+v.e({externalBorder:a,innerBorder:o,height:n.picH,width:n.picW},t)},0):v.e(e,t)}},function(e,t){},,function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return N});var i,l,c,s=n(74),u=(n.n(s),n(0)),p=n.n(u),f=n(6),d=(n.n(f),n(7)),m=n.n(d),h=n(1),v=n(3),b=n(5),y=n(4),g=n(2),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w={TEXT_TITLE:"0",IMG_TITLE:"1"},E={CENTER:"0",LEFT:"1"},O={LEFT_OF_TITLE:"0",COVER_TITLE:"1"},N=(c=l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._renderContent=function(e){var t=e.floorHead;if(!t)return null;var r=t.styleId,a=n.context.parseUrl(t);return p.a.createElement("div",{className:m()(["ft-module","ft-module-"+t.styleId]),style:{color:t.color,backgroundColor:r===w.IMG_TITLE?"none":t.backgroundColor}},n._renderTitle(t,a))},n._renderTitle=function(e,t){var r=e.styleId,a=e.pictureUrl,o=!Object(h.a)(e.jump),i={target:e.inkTarget||"_blank",href:t,component:o?"a":"div",eventId:r===w.TEXT_TITLE?"CharacterTitle":"PictureTitle",params:e.jump&&e.jump.srv&&e.jump.srv.split("_")};return r===w.IMG_TITLE&&!n.state.imgLoadFailed&&a?p.a.createElement(b.a,Object.assign({className:m()({"add-link":o})},i),p.a.createElement(v.a,{src:e.pictureUrl,className:"pic-title",onError:function(){n.setState({imgLoadFailed:!0})},height:n.state.imgHeight,resizeDisable:!0})):p.a.createElement("div",{className:"title-wrapper title-wrapper-"+(n.state.imgLoadFailed?E.CENTER:e.position)},p.a.createElement("div",{className:"main-title"},e.subUrl&&p.a.createElement(v.a,{src:e.subUrl,className:"sub-title-pic sub-title-pic-"+e.subPosition,resizeDisable:!0}),(!e.subUrl||e.subPosition!==O.COVER_TITLE)&&p.a.createElement("span",{className:"title"},e.name)),r!==w.IMG_TITLE&&e.subTitle&&p.a.createElement(b.a,Object.assign({className:m()("sub-title sub-title-"+e.subTitle.position+" "+(t?"sub-title-clickable":""),{"add-link":o}),style:{color:"#848589"}},i),p.a.createElement("span",null,e.subTitle.name)))},n.state={imgLoadFailed:!1,imgHeight:0},n}return o(t,e),_(t,[{key:"componentDidMount",value:function(){this.setState({imgHeight:Object(h.e)({width:1125,height:123})})}},{key:"render",value:function(){var e=this.props.floorData;return p.a.createElement("div",Object(h.c)(e),this._renderContent(e))}}]),t}(u.PureComponent),l.contextType=g.a,i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[y.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i);N.getFloorHeight=function(e){return e.floorHead.styleId===w.IMG_TITLE?Object(h.e)({width:1125,height:123}):82}},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return f});var i=n(76),l=(n.n(i),n(0)),c=n.n(l),s=n(40),u=n(14),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"render",value:function(){return c.a.createElement(s.a,Object.assign({},this.props,{detailEventId:"CommonDetails",cartEventId:"CommonCart",tabClickEventId:"CommonTab",className:"expo",expoeventid:"CommonExpo",getClientExposalUrl:!0,lazyLoadImgResizeDisable:!0}))}},{key:"getList",value:function(){var e=this.props.floorData.waresList,t=void 0===e?[]:e;if(t.length){return t[0].groupInfoList}}}]),t}(l.PureComponent);f.getFloorHeight=function(e){var t=e.tabList,n=e.tabStyle,r=e.styleId,a=e.waresList;if(!a||!a.length)return 0;var o=5,i=0;"3"===r||"7"===r?(o=5,i=272):(o=4,i=322);var l=a[0].groupInfoList;if(!l||!l.length)return 0;var c=Math.ceil(l.length/o)*i;return u.a.getComponentHeight({tabList:t,tabStyle:n})+c}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return T});var l,c,s,u=n(81),p=(n.n(u),n(7)),f=n.n(p),d=n(0),m=n.n(d),h=n(2),v=n(9),b=n.n(v),y=n(14),g=n(41),_=n(1),w=n(3),E=n(5),O=n(11),N=n(44),C=n(13),I=n(18),P=n(4),k=n(8),S=n(43),j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),T=(s=c=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._setRef=function(e){n._ref=e},n._navSticky=!1,n._renderTabList=function(){var e=n.props.floorData,t=e.tabList,r=e.tabStyle,a=e.tabConfig,o=void 0===a?{}:a;return m.a.createElement(y.a,{tabStyle:r,tabList:t,tabConfig:o,selectedTab:n.state.selectedTab,onTabHover:function(){n._onTopTabClick.apply(n,arguments)},tabClickEventId:"InfiniteTab1",onNavSticky:n._onNavSticky,onNavUnsticky:n._onNavUnsticky,disableStickyView:n.props.disableStickyView})},n._renderSubTabList=function(){var e=n.state.selectedTab;if(!e)return null;var t=e.secondTabList;if(!t||t.length<=1)return null;var r=n.state.selectedSubTab,a=void 0===r?{}:r,o=n.props.floorData,i=o.tabList,l=o.tabConfig,c=void 0===l?{}:l,s=o.backgroundColor;return i.length<=1?m.a.createElement(y.a,{tabStyle:C.i.TEXT,tabList:t.slice(0,12),tabConfig:c,selectedTab:a,onTabHover:function(){n._onSubTabClick.apply(n,arguments)},tabClickEventId:"InfiniteTab2",onNavSticky:n._onNavSticky,onNavUnsticky:n._onNavUnsticky,disableStickyView:n.props.disableStickyView}):m.a.createElement("div",{className:"dropdown_pd_sub_tab"},m.a.createElement("ul",{className:"pd_nav_wrap",style:{backgroundColor:s}},t.slice(0,12).map(function(e){return m.a.createElement(I.a,{key:e.groupId,component:"li",eventId:"InfiniteTab2",params:e.srv&&e.srv.split("_"),className:f()({"pd_tab-item":!0,selected:a.groupId===e.groupId}),onHover:function(){n._onSubTabClick(e)}},e.name&&Object(S.a)(e.name,8))})))},n._renderProductList=function(){var e=n.state,t=e.selectedSubTab,r=e.wareInfoMap;if(!t||!r)return null;var a=t.secondTabId,o=r[a];if(!o)return m.a.createElement("div",{className:"empty-section"},m.a.createElement(N.a,null));if(!o.wareList)return null;var i=n.props,l=i.floorData,c=i.activityData,s=void 0===c?{}:c,u=l.styleId,p=void 0===u?"999":u,f=l.waresListConfig,d=void 0===f?{}:f,h=s.inkTarget||"_black",v=o.wareList.slice(0,100),b="0"===d.slogan;return v.length?m.a.createElement("div",{className:"dropdown_pd_main_body "+(b&&"no_slogan"),style:{backgroundColor:l.backgroundColor}},v.map(function(e,t){return n._renderWareItem(e,p,d,h,t)}),n._renderNoMorePanel()):m.a.createElement("div",{className:"pd_ex_wrap"},m.a.createElement("div",{className:"pd_ex_img"}),m.a.createElement("div",{className:"pd_ex_text"},"\u8be5\u7c7b\u76ee\u4e0b\u6682\u65e0\u5546\u54c1\u54e6~"))},n._renderWareItem=function(e,t,r,a,o){if(e.ads){var i=Math.floor(100/e.ads.length),l=Math.floor(114/e.ads.length);return m.a.createElement("div",{className:"active_position",key:"prd-"+o},e.ads.map(function(e,t){return m.a.createElement(E.a,{component:"a",eventId:"InfiniteCampaign",params:e.jump&&e.jump.srv&&e.jump.srv.split("_"),className:"active_position_inner",href:n.context.parseUrl(e),target:a,key:"sub-"+t,style:{paddingTop:i+"%",paddingBottom:l+"px"}},m.a.createElement(w.a,{className:"ad-pic",src:e.pictureUrl}))}))}var c=n._getSoldOutCls(e);return m.a.createElement(g.a,{className:"dropdown_pd_common expo",key:"prd-"+o,styleId:t,waresListConfig:r,wareItem:e,soldOutCls:c,inkTarget:a,detailEventId:"InfiniteDetails",cartEventId:"InfiniteCart",sameKindEventId:"InfiniteSame",similarEventId:"InfiniteSimilar",expoeventid:"InfiniteExpo",clientExposalUrl:e.clientExposalUrl,isInfinityProduct:!0})},n._getSoldOutCls=function(e){return"N"===e.realStock?"sold_out":"N"===e.areaStk?"area_sold_out":""},n._renderFooter=function(){return n.state.isFetching?m.a.createElement("div",{className:"empty-section"},m.a.createElement(N.a,null)):null},n._renderNoMorePanel=function(){var e=n.state,t=e.selectedSubTab,r=e.wareInfoMap,a=t.secondTabId,o=r[a];return o&&o.pageNum>=o.totalPageNum?m.a.createElement("div",{className:"no-more"},"\u6ca1\u6709\u66f4\u591a\u5546\u54c1\u5566"):null},n._onTopTabClick=function(e){n.state.selectedTab!==e&&n.setState({selectedTab:e,selectedSubTab:e.secondTabList&&e.secondTabList[0]},n._fetchNextProducts)},n._onSubTabClick=function(e){e&&e!==n.state.selectedSubTab&&n.setState({selectedSubTab:e},n._fetchNextProducts)},n._onScrollHandler=function(){var e=window.scrollTop||window.pageYOffset,t=window.innerHeight;document.body.scrollHeight-t-e<=100&&n._fetchNextProducts()},n._getState=function(){var e=n.props.floorData,t=e.tabList;if(!t||!t.length)return{};var a=t[0].secondTabList&&t[0].secondTabList[0],o=a&&a.secondTabId;return{selectedTab:t[0],selectedSubTab:a,wareInfoMap:r({},o,{pageNum:0,wareList:[]}),isFetching:!1}},n._fetchNextProducts=function(){if(!n.state.isFetching){var e=n.state,t=e.selectedSubTab,a=e.wareInfoMap;if(t){var o=n.props.floorData,i=o.ofn,l=o.passback,c=o.waresListConfig,s=t.secondTabId,u=a[s]||{pageNum:0,wareList:[]};if(!(u.pageNum>=u.totalPageNum)){var p={secondTabId:s,type:t.type,pageNum:String(u.pageNum+1),ofn:i,passback:l,transParam:n.context.pageData.transParam};c.subscript===C.h.RANK&&(p.params=t.params||{}),n.setState({isFetching:!0}),Object(O.doJsonP)(k.frontInterfaceHost+"/client.action?functionId="+n.context.config.infinityFunctionId,Object(O.getBabelUrlParam)(p)).then(function(e){"0"===e.code&&"0"===e.subCode?n.setState({isFetching:!1,wareInfoMap:Object.assign({},a,r({},s,Object.assign({},u,{pageNum:u.pageNum+1,wareList:u.wareList.concat(e.waresPagedList),totalPageNum:Number(e.totalPageNum)})))}):n._errorHandle()}).catch(function(){n._errorHandle()})}}}},n._errorHandle=function(){n.setState({isFetching:!1})},n._onNavSticky=function(){n._navSticky=!0},n._onNavUnsticky=function(){n._navSticky=!1},n.state=n._getState(),n}return i(t,e),j(t,[{key:"componentDidMount",value:function(){this._fetchNextProducts(),window.addEventListener("scroll",this._onScrollHandler,!1)}},{key:"componentDidUpdate",value:function(e,t){if(this._navSticky&&t.selectedSubTab!==this.state.selectedSubTab){var n=b.a.findDOMNode(this._ref);window.scrollTo(0,Math.ceil(window.pageYOffset+n.getBoundingClientRect().top))}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this._onScrollHandler,!1)}},{key:"render",value:function(){var e=this.props.floorData,t=e.styleId,n=void 0===t?"999":t;return m.a.createElement("div",Object.assign({},_.c(e),{ref:this._setRef}),m.a.createElement("div",{className:"dropdown_pd_module pd_module-"+n},this._renderTabList(),this._renderSubTabList(),m.a.createElement("div",{className:"dropdown_pd_main"},this._renderProductList(),this._renderFooter())))}},{key:"getList",value:function(){var e=this.state,t=e.wareInfoMap,n=e.selectedSubTab,r=n&&n.secondTabId,a=t[r],o=[];if(a&&(o=a.wareList.slice(0,100)),o.length)return o}}]),t}(d.PureComponent),c.contextType=h.a,l=s,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(l.prototype,"render",[P.a],Object.getOwnPropertyDescriptor(l.prototype,"render"),l.prototype),l)},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return S});var l,c,s=n(84),u=(n.n(s),n(0)),p=n.n(u),f=n(2),d=n(9),m=n.n(d),h=n(7),v=n.n(h),b=n(1),y=n(30),g=n(5),_=n(13),w=n(3),E=n(16),O=n(24),N=n(18),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),I=_.c,P={FINISHED:"-1",SELLING:"0",UNBEGIN:"1"},k={HIDE:"0",SELL_RATE:"1",SELL_COUNT:"2",GOOD_RATE:"3"},S=(c=l=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._setRef=function(e){n._ref=e},n._navSticky=!1,n._renderTab=function(){var e=n.props.floorData.tabConfig,t=n.state,r=t.tabList,a=t.selectedTab;if(!r||r.length<=1||!r)return null;var o=(100/r.length).toFixed(1);return p.a.createElement("div",{className:"rush_pd_tab"},p.a.createElement(O.a,{onFixed:n._onNavSticky,onUnfixed:n._onNavUnsticky,disable:n.props.disableStickyView},p.a.createElement("ul",{className:"rush_pd_nav_wrap"},r.map(function(t){var r=t.groupId===a.groupId;return p.a.createElement(N.a,{component:"li",eventId:"RushTab",params:t.srv&&t.srv.split("_"),key:t.groupId,className:v()({rush_pd_tab_item:!0,selected:r}),style:{width:o+"%",color:r?e.color:void 0},onHover:function(){n._onTabItemClick(t)}},p.a.createElement("div",{className:"tab_text_one"},t.topText),p.a.createElement("div",{className:"tab_text_two"},t.bottomText))}))))},n._renderMain=function(){var e=n.props.floorData,t=e.tabConfig,r=e.waresList,a=e.waresListConfig;if(!r||!r.length)return null;var o=n.state.selectedTab;if(!o)return null;var i=r.find(function(e){return e.groupId===o.groupId});return i?p.a.createElement("div",{className:"rush_pd_main"},"1"===t.hasCountDown&&p.a.createElement("div",{className:"rush_pd_main_head"},n._renderLeftText(o,t),n._renderCountDown(o)),p.a.createElement("div",{className:"rush_pd_main_body"},n._renderProductList(i,o,a))):null},n._renderLeftText=function(e,t){var n=t.leftText;if(!n||!n.trim())switch(e.stageStatus){case P.FINISHED:n="\u672c\u573a\u6b21\u8fd8\u6709\u5b9d\u8d1d\u53ef\u4ee5\u7ee7\u7eed\u62a2\u8d2d~";break;case P.SELLING:n="\u6b63\u5728\u62a2\u8d2d\uff0c\u5148\u4e0b\u5355\u5148\u5f97\u54e6";break;case P.UNBEGIN:n="\u5373\u5c06\u5f00\u62a2\uff0c\u656c\u8bf7\u671f\u5f85"}return p.a.createElement("div",{className:"left"},p.a.createElement("span",null,n))},n._renderCountDown=function(e){var t=e.stageStatus,r=e.timeRemain;if(t===P.FINISHED||"undefined"===typeof r)return null;var a=Number(r)-((new Date).getTime()-n.state.requestTime);return a<=0?null:p.a.createElement("div",{className:"right"},p.a.createElement("span",{className:"toFinsh"},t===P.SELLING?"\u8ddd\u7ed3\u675f":"\u8ddd\u5f00\u59cb"),p.a.createElement(y.a,{className:"time",remain:a,key:e.groupId}))},n._renderProductList=function(e,t,r){var a=e.groupInfoList,o=e.areaFilterType;if(!r||!a||!a.length)return null;var i="1"===n.props.floorData.isJump,l=r.subscript,c=r.subscriptUrl,s=r.assistPriceColor,u=a,f=n._getSoldOutStatus;return p.a.createElement("div",{className:"rush_pd_main_body_wrap rush_pd_main_body-"+t.stageStatus},u.map(function(e){var a=f(e,t.stageStatus,e,r.stock,o);return p.a.createElement(g.a,{key:e.skuId,component:"a",href:n.context.parseUrl(e),className:"pd_common pd_subscirpt-"+l+" "+a,target:"_blank",eventId:"RushDetails",params:e.srv&&e.srv.split("_"),onClick:i?function(){n.context.tracking.sendClickTracking("Babel","RushEntrance",e.srv&&e.srv.split("_"))}:null},p.a.createElement("div",{className:"pd_common_inner",style:{backgroundColor:r.cardColor}},p.a.createElement("div",{className:"pd_pic_wrap"},p.a.createElement(w.a,{src:e.pictureUrl,className:"pd_pic",resizeDisable:!0}),p.a.createElement(E.a,{wareItem:e,subscript:l,subscriptUrl:c})),p.a.createElement("div",{className:"pd_info"},p.a.createElement("div",{className:"pd_title",style:{color:r.titleColor}},e.name),n._renderProgress(e,t.stageStatus,r),p.a.createElement("div",{className:"pd_wrap"},p.a.createElement("div",{className:"pd_price_wrap"},p.a.createElement("div",{className:"pd_now_price",style:{color:r.mainPriceColor}},"\uffe5",e.pPrice),n._renderPrice(e,t.stageStatus,s)),n._renderCart(e,t.stageStatus,r,o)))))}))},n._renderProgress=function(e,t,n){var r=n.stock,a=n.stockColor;if(r===k.HIDE)return null;var o=e.saledPercent,i=e.saledNum,l=e.goodRate,c="",s=null;if(r===k.SELL_RATE){if(!o||"0%"===o||!o.trim().length)return null;c="\u5df2\u62a2"+("N"===e.canSell?"100%":o),s=p.a.createElement("i",{className:"progress-rest",style:{width:100-parseInt(o.replace("%",""))+"%"}})}else if(r===k.SELL_COUNT){if(null==i||Number(i)<=0)return null;c="\u5df2\u62a2"+(i>9999?Math.round(i/Math.pow(10,4)*10)/10+"\u4e07":i)+"\u4ef6"}else if(r===k.GOOD_RATE){if(!l||"0%"===l||!l.trim().length)return null;c="\u597d\u8bc4\u7387"+l}return p.a.createElement("div",{className:"progress",style:{backgroundColor:a}},p.a.createElement("span",{className:"text"},c),s)},n._renderPrice=function(e,t,n){var r=t!==P.UNBEGIN?e.pcpPrice:e.beiTaiPrice;return"Y"===e.canUseContrast&&r&&r.length>0&&e.pPrice!==r?p.a.createElement("div",{className:"pd_old_price"},p.a.createElement("del",{className:"old",style:{color:n}},"\uffe5",r)):null},n._renderCart=function(e,t,a,o){var i;if(e.hideCart!==I.SHOW)return null;var l=a.stock,c=a.buttonBackgroundColor,s=(i={},r(i,P.FINISHED,{defaultText:"\u5df2\u7ed3\u675f",className:"finished"}),r(i,P.SELLING,{defaultText:"\u7acb\u5373\u62a2\u8d2d",className:"selling"}),r(i,P.UNBEGIN,{defaultText:"\u5373\u5c06\u5f00\u59cb",className:"unbegin"}),i),u=s[t].className;return t===P.SELLING&&n._getSoldOutStatus(e,t,l,o)&&(u="sold_out"),p.a.createElement("div",{className:"pd_buy_car "+u,onClick:"selling"===u?function(t){n._addToCart(e,u,t)}:null,style:"selling"===u&&n.state.isnotIE?{backgroundColor:c}:null})},n._getSoldOutStatus=function(e,t,n,r){return t!==P.UNBEGIN&&"N"===n&&"2"===r?"area_sold_out":t!==P.UNBEGIN&&"N"===e.canSell?"sold_out":""},n._addToCart=function(e,t,r){r.preventDefault(),r.stopPropagation(),n.context.tracking.sendClickTracking("Babel","RushCart",e.srv&&e.srv.split("_")),n.context.addCartItem(e.skuId)},n._onTabItemClick=function(e){e&&e!==n.state.selectedTab&&n.setState({selectedTab:e},function(){n.props.refreshScale&&n.props.refreshScale()})},n._startAutoChangeTimer=function(){var e=n.state,t=e.tabList,r=e.selectedTab,a=e.requestTime;if(t&&!(t.length<=1)){if(!t.find(function(e){return e.stageStatus===P.FINISHED})){var o=0,i=t.find(function(e){return e.stageStatus===P.SELLING});if(i)o=Number(i.timeRemain)-((new Date).getTime()-a);else{var l=t.findIndex(function(e){return e===r}),c=t[l+1];c&&(o=Number(c.timeRemain)-((new Date).getTime()-a))}o&&(n.timeoutId=setTimeout(function(){n._autoChangeToNext()},o))}}},n._autoChangeToNext=function(){var e=n.state,t=e.tabList,r=e.selectedTab;if(t&&!(t.length<=1)){var a=t.findIndex(function(e){return e.stageStatus===P.UNBEGIN});if(!(a<0||t[a]===r)){var o=Object.assign({},t[a],{stageStatus:P.SELLING}),i=t.slice(),l=t.findIndex(function(e){return e.stageStatus===P.SELLING});i[l]=Object.assign({},i[l],{stageStatus:P.FINISHED}),i[a]=o,n.setState({selectedTab:o,tabList:i},function(){n._startAutoChangeTimer()})}}},n._getState=function(){var e=(new Date).getTime(),t=n.props.floorData,r=t.tabList,a=void 0===r?[]:r;return{tabList:a,selectedTab:a.find(function(e){return e.stageStatus===P.SELLING})||a[0]||a[0],requestTime:e,isnotIE:!0}},n._onNavSticky=function(){n._navSticky=!0},n._onNavUnsticky=function(){n._navSticky=!1},n.state=n._getState(),n}return i(t,e),C(t,[{key:"componentDidMount",value:function(){this._startAutoChangeTimer(),"ActiveXObject"in window&&this.setState({isnotIE:!1})}},{key:"componentDidUpdate",value:function(e,t){if(this._navSticky&&t.selectedTab!==this.state.selectedTab){var n=m.a.findDOMNode(this._ref);window.scrollTo(0,Math.ceil(window.pageYOffset+n.getBoundingClientRect().top))}}},{key:"render",value:function(){var e=this.props.floorData,t=e.styleId;return p.a.createElement("div",Object.assign({},Object(b.c)(e),{ref:this._setRef}),p.a.createElement("div",{className:"rush_pd_module pd_module-"+t,style:{backgroundColor:e.backgroundColor}},this._renderTab(),this._renderMain()))}}]),t}(u.PureComponent),l.contextType=f.a,c);S.getFloorHeight=function(e){var t=e.tabList,n=e.waresList,r=e.tabConfig;if(!t||!t.length||!n||!n.length)return 0;var a=t.find(function(e){return e.stageStatus===P.SELLING})||t[0],o=n.find(function(e){return e.groupId===a.groupId});return o?(t.length>1?50:0)+("1"===r.hasCountDown?50:0)+276*Math.ceil(o.groupInfoList.length/5):0}},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return d});var i,l=n(87),c=(n.n(l),n(0)),s=n.n(c),u=n(1),p=n(4),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=(i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"render",value:function(){var e=this.props.floorData,t={backgroundColor:e.backgroundColor},n={height:e.height?e.height+"px":"0px"};return s.a.createElement("div",Object.assign({},Object(u.c)(e),{style:t}),s.a.createElement("div",{className:"opt_floor_gap",style:n}))}}]),t}(c.PureComponent),function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[p.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i);d.getFloorHeight=function(e){return Object(u.f)(e.height)}},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return g});var i,l,c,s=n(89),u=(n.n(s),n(0)),p=n.n(u),f=n(1),d=n(25),m=n(26),h=n(20),v=n(4),b=n(2),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=(c=l=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.floorData,n=e.eventCollector,r=t.themeId,a=t.adsList,o=void 0===a?[]:a,i=t.video,l=void 0===i?{}:i;if("0"===r&&0===o.length)return null;if("1"===r&&!l.videoUrl)return null;var c=d.a(t),s={backgroundColor:t.backgroundColor},u=Object(f.e)(t);return l=Object.assign({},l,{onStartEventId:"BannerVideo",onStartSrv:l.videoSrv,onPauseSrv:l.videoSrv,onExitFullScreenSrv:l.videoSrv,onDragSrv:l.videoSrv,onEndEventId:"BannerVideoVirtual",oneEndSrv:l.srv}),p.a.createElement("div",Object.assign({},Object(f.c)(t),{style:s}),p.a.createElement("div",{className:c},"0"===r&&o.map(function(e,t){return p.a.createElement(m.a,{key:t,oneAdvert:e,imgHeight:u,eventId:"Banner",className:"wrap",lazyLoadImgResizeDisable:!0})}),"1"===r&&p.a.createElement(h.a,{imgHeight:u,video:l,eventCollector:n})))}}]),t}(u.PureComponent),l.contextType=b.a,i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[v.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i);g.getFloorHeight=function(e){var t=e.adsList,n=e.externalBorder,r=e.innerBorder,a=e.themeId;if("0"===a){var o=Object(f.d)(e);if(t&&t.length>0)return t.reduce(function(e,t){return e+Object(f.e)({externalBorder:n,innerBorder:r,height:t.picHeight,width:t.picWidth},o)},0)}else if("1"===a)return Object(f.e)(e);return 0}},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y});var i,l,c=n(92),s=(n.n(c),n(0)),u=n.n(s),p=n(6),f=n.n(p),d=n(7),m=n.n(d),h=n(3),v=n(1),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=(l=i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),b(t,[{key:"render",value:function(){var e=this.props,t=e.puzzle,n=t.bgColorStyle,r=t.bgColor,a=t.skuPicNum,o=t.skuPicFlag,i=t.mainTitleFlag,l=t.mainTitle,c=void 0===l?{}:l,s=t.subTitleFlag,p=t.subTitle,f=void 0===p?{}:p,d=t.picCfgList,b=void 0===d?[]:d,y=e.data,g=y.pictureUrl,_=y.puzzleMainTitle,w=y.puzzleSubTitle,E=y.proList,O=void 0===E?[]:E,N=e.bgImgClassName,C=e.imgStyle;return u.a.createElement("div",{className:"puzzle_wrap"},"0"===n&&u.a.createElement(h.a,{className:m()("bgimg",N),src:g,style:C}),"1"===n&&u.a.createElement("div",{className:"bgcolor_wrap",style:{backgroundColor:r}}),"1"===i&&u.a.createElement("p",{className:"main_title",style:{backgroundColor:"1"===c.bgStyle&&c.bgColor,backgroundImage:"2"===c.bgStyle&&"url("+c.bgPicUrl+")",fontSize:c.fontSize+"px",lineHeight:"2"===c.bgStyle?Object(v.f)(90)+"px":1.5*c.fontSize+"px",color:c.fontColor,textAlign:"0"===c.alignStyle?"left":"center",width:(c.w/c.dw*100).toFixed(2)+"%",left:(c.x/c.dw*100).toFixed(2)+"%",top:(c.y/c.dh*100).toFixed(2)+"%",height:"2"===c.bgStyle?Object(v.f)(90)+"px":1.5*c.fontSize+"px"}},_),"1"===s&&u.a.createElement("p",{className:"sub_title",style:{backgroundColor:"1"===f.bgStyle&&f.bgColor,backgroundImage:"2"===f.bgStyle&&"url("+f.bgPicUrl+")",fontSize:f.fontSize+"px",lineHeight:"2"===f.bgStyle?Object(v.f)(90)+"px":1.5*f.fontSize+"px",color:f.fontColor,textAlign:"0"===f.alignStyle?"left":"center",width:(f.w/f.dw*100).toFixed(2)+"%",left:(f.x/f.dw*100).toFixed(2)+"%",top:(f.y/f.dh*100).toFixed(2)+"%",height:"2"===f.bgStyle?Object(v.f)(90)+"px":1.5*f.fontSize+"px"}},w),"1"===o&&b.map(function(e,t){if(t>=a)return null;var n=O[t]||{},r=n.pictureUrl||e.warePic;if(!r)return null;var o=e.w,i=e.h,l=e.x,c=e.y,s=e.dw,p=e.dh;return u.a.createElement("p",{className:"puzzle_pic_wrap",key:t,style:{width:(o/s*100).toFixed(2)+"%",height:(i/p*100).toFixed(2)+"%",top:(c/p*100).toFixed(2)+"%",left:(l/s*100).toFixed(2)+"%"}},u.a.createElement(h.a,{src:r,className:"lazyload-img-gmh transparent",style:{height:(Number(o),Number(i),"100%"),width:(Number(o),Number(i),"100%")}}))}))}}]),t}(s.PureComponent),i.propTypes={puzzle:f.a.object.isRequired,data:f.a.object.isRequired},l)},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e){return e>=10?e:"0"+e}function a(e){if(null==e||"undefined"===typeof e)return"";var t={},n=parseInt(e/60/60);e-=60*n*60;var a=parseInt(e/60);e-=60*a;var o=parseInt(e%60);return t.minute=r(a),t.second=r(o),n>0?(t.hour=r(n),t.hour+":"+t.minute+":"+t.second):t.minute+":"+t.second}t.a=a},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var i,l=n(97),c=(n.n(l),n(0)),s=n.n(c),u=n(1),p=n(25),f=n(26),d=n(4),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=(i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),m(t,[{key:"render",value:function(){var e=this.props.floorData,t=e.styleId;if("0"!==t&&"1"!==t&&"6"!==t&&"3"!==t&&"2"!==t&&"5"!==t)return null;if(!e.adsList||0===e.adsList.length)return null;var n=p.a(e),r={backgroundColor:e.backgroundColor},a="",o="",i=function(e){return e.adsList.map(function(e,t){return s.a.createElement(f.a,{key:t,oneAdvert:e,eventId:"Group",className:o})})};switch(e.styleId){case"0":o="promo_1big_2sm_wrap",a=i(e);break;case"1":o="promo_1big_2sm_wrap",a=s.a.createElement("div",{className:"wrap_1big_2sm_1"},s.a.createElement("div",{className:"wrap_1big_2sm_2"},i(e)));break;case"6":o="promo_1big_4sm_wrap",a=s.a.createElement("div",{className:"wrap_1big_4sm_1"},s.a.createElement("div",{className:"wrap_1big_4sm_2"},i(e)));break;case"3":o="promo_2big_2sm_wrap",a=i(e);break;case"2":o="promo_1big_3sm_wrap",a=s.a.createElement("div",{className:"promo_1big_3sm"},i(e));break;case"5":o="promo_1big_3sm2_wrap",a=s.a.createElement("div",{className:"promo_1big_3sm2"},i(e))}return s.a.createElement("div",Object.assign({},Object(u.c)(e),{style:r}),s.a.createElement("div",{className:n},a))}}]),t}(c.PureComponent),function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[d.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return w});var i,l,c,s=n(99),u=(n.n(s),n(0)),p=n.n(u),f=n(1),d=n(25),m=n(26),h=n(4),v=n(17),b=n(3),y=n(2),g=n(15),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=(c=l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._getImgHeightWidthFloorHeight=function(){var e=n.props.floorData.adsList;if(!n.isVertical){var t=e[0],r=t.picHeight/t.picWidth,a=v.a-n.padding,o=a*r;return{imgHeight:o,floorHeight:o+n.padding}}if(n.isVertical)return{imgHeight:586,imgWidth:448,floorHeight:778}};var o=n.props.floorData;return n.imgTotalNum=o.adsList.length,n.padding="1"===o.externalBorder?40:0,n.isVertical="1"===o.styleId,n.state={height:0},n}return o(t,e),_(t,[{key:"render",value:function(){var e=this.props.floorData;if("0"!==e.styleId&&"1"!==e.styleId)return null;if(0===this.imgTotalNum)return null;var t=this._getImgHeightWidthFloorHeight(e),n={backgroundColor:e.backgroundColor,height:t.floorHeight+"px"};return p.a.createElement("div",Object.assign({},Object(f.c)(e),{style:n}),!this.isVertical&&this.getNormalCarousel(),this.isVertical&&this.getOneBigTwoSmall())}},{key:"getNormalCarousel",value:function(){var e=this.props,t=e.floorData,n=e.scale;if("0"!==t.styleId&&"1"!==t.styleId)return null;if(0===this.imgTotalNum)return null;var r=d.a(t),a=this._getImgHeightWidthFloorHeight(t),o=void 0,i={};return n&&(n<.7?(o={transform:"scale3d("+.7/n+", "+.7/n+", "+.7/n+") translate3d(0, -50%, 0)"},i={transform:"translate3d(-50%, 0, 0) scale3d("+.7/n+", "+.7/n+", "+.7/n+")"}):n>1&&(o={transform:"scale3d("+1/n+", "+1/n+", "+1/n+") translate3d(0, -50%, 0)"},i={transform:"translate3d(-50%, 0, 0) scale3d("+1/n+", "+1/n+", "+1/n+")"})),this.imgTotalNum>1?p.a.createElement("div",{className:r},p.a.createElement(g.a,{className:"adv_list",loop:!0,speed:500,autoplay:!0,delay:2e3,indicatorsClickable:!0,itemWidth:990,ctlBtnStyle:o,indicatorsStyle:i},t.adsList.map(function(e,t){return p.a.createElement(m.a,{key:t,oneAdvert:e,eventId:"Carousel",imgHeight:a.imgHeight,imgWidth:a.imgWidth,needLazyLoad:!1,lazyLoadImgResizeDisable:!0})}))):p.a.createElement("div",{className:r},p.a.createElement(m.a,{oneAdvert:t.adsList[0],eventId:"Carousel",className:"wrap",imgHeight:a.imgHeight,imgWidth:a.imgWidth,needLazyLoad:!1,lazyLoadImgResizeDisable:!0}))}},{key:"getOneBigTwoSmall",value:function(){var e=this.props.floorData;if("0"!==e.styleId&&"1"!==e.styleId)return null;if(0===this.imgTotalNum)return null;var t=d.a(e),n=this._getImgHeightWidthFloorHeight(e);return p.a.createElement("div",{className:t},this.isVertical&&p.a.createElement(b.a,{src:e.config.backgroundImgUrl}),p.a.createElement(g.a,{className:"adv_list",loop:!0,speed:500,autoplay:!0,delay:2e3,indicatorsClickable:!1,itemWidth:495,offsetSize:305.91},e.adsList.map(function(e,t){return p.a.createElement(m.a,{key:t,oneAdvert:e,eventId:"Carousel",imgHeight:n.imgHeight,imgWidth:n.imgWidth,needLazyLoad:!1,lazyLoadImgResizeDisable:!0})})))}}]),t}(u.PureComponent),l.contextType=y.a,i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[h.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return O});var i,l,c,s=n(102),u=(n.n(s),n(0)),p=n.n(u),f=n(9),d=(n.n(f),n(1)),m=n(25),h=n(26),v=n(4),b=n(17),y=n(2),g=n(15),_=n(57),w=(n.n(_),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),E={0:2,1:3,2:4,5:5,6:6,7:7},O=(c=l=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),w(t,[{key:"render",value:function(){var e=this.props,t=e.floorData,n=e.floorData,r=n.adsList,a=void 0===r?[]:r,o=n.styleHeight,i=n.backgroundColor,l=n.xPadding,c=n.yPadding;if(!a.length)return null;var s=m.a(t),u={backgroundColor:i,padding:"3"===o?c+"px "+l+"px":""};return p.a.createElement("div",Object.assign({},Object(d.c)(t),{style:u}),p.a.createElement("div",{className:s},this.renderAdsList()))}},{key:"renderAdsList",value:function(){var e=this.props,t=e.floorData,n=e.floorData,r=n.interType,a=n.adsList,o=n.dividingLine,i=n.picPuzzle,l=n.puzzle,c=this._getImgSize(t),s=l&&l.bgColor;if("0"===r)return a.map(function(e,t){return p.a.createElement(h.a,{key:t,oneAdvert:e,imgHeight:c.height,style:{width:c.width,margin:"0 "+o+"px "+o+"px 0"},eventId:"Multiple",className:"wrap expo",bgColor:s,expoEventId:"MultipleExpo",lazyLoadImgResizeDisable:!0,puzzleElement:"1"===i&&l,puzzleData:"1"===i&&Object.assign({},e,{puzzleMainTitle:e.name,puzzleSubTitle:e.desc})})});if("1"===r||"2"===r){var u=E[t.styleId],f=Object(_.chunk)(a,u);return p.a.createElement(g.a,{className:"adv_list",height:c.height,loop:!0,speed:500,autoplay:!0,delay:2e3,indicatorsClickable:!0},f.map(function(e,t){return p.a.createElement("div",{className:"oneline",key:t},e.map(function(e,t){return p.a.createElement(h.a,{key:t,oneAdvert:e,imgHeight:c.height,style:{width:c.width,margin:"0 "+o+"px "+o+"px 0"},needLazyLoad:!1,eventId:"Multiple",className:"wrap expo",bgColor:s,expoEventId:"MultipleExpo",lazyLoadImgResizeDisable:!0,puzzleElement:"1"===i&&l,puzzleData:"1"===i&&Object.assign({},e,{puzzleMainTitle:e.name,puzzleSubTitle:e.desc})})}))}))}}},{key:"_getImgSize",value:function(e){var t=(e.width,e.height),n=e.styleHeight,r=(e.adsList,e.xPadding),a=void 0===r?0:r,o=e.dividingLine,i=(e.picPuzzle,E[e.styleId]),l=0,c=0;return"3"===n?(l=(b.a-(o*(i-1)+2*a+.1))/i,c=t):(l=(b.a-(o*(i-1)+.1))/i,c=t),{width:l,height:c}}}]),t}(u.PureComponent),l.contextType=y.a,i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[v.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i);O.getFloorHeight=function(e){var t=E[e.styleId];if(!t)return 0;var n=e.adsList,r=e.height,a=n&&n.length||0;if(a>0){return r*Math.ceil(a/t)}return 0}},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return O});var i,l,c,s,u=n(104),p=(n.n(u),n(0)),f=n.n(p),d=n(9),m=n.n(d),h=n(1),v=n(30),b=n(5),y=n(3),g=n(4),_=n(12),w=n(2),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=(c=l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.call(n),n.state=n._getState(),n}return o(t,e),E(t,[{key:"componentDidMount",value:function(){this._getPositionStyle()}}]),E(t,[{key:"render",value:function(){var e=this.props.floorData;return f.a.createElement("div",Object(h.c)(e),this._renderBody())}}]),t}(p.PureComponent),l.contextType=w.a,s=function(){var e=this;this._setRef=function(t){e._containerRef=t},this._renderBody=function(){var t=e.props.floorData,n=t.countDown,r=e.state,a=r.displayCountdown,o=r.positionStyle;if(!n||!a)return null;var i=e._getAdsInfo(),l=i.pictureUrl,c=i.jump,s="div",u=null;return c&&c.params&&(s=b.a,u={eventId:"Countdown",params:c.params.srv&&c.params.srv.split("_"),component:"a",href:e.context.parseUrl({jump:c}),target:"_blank"}),f.a.createElement(s,Object.assign({className:"count_down_module style-"+n.styleId,style:{backgroundColor:l?null:n.bgColor,color:n.wordColor,height:l?null:"50px"},ref:e._setRef},u),l&&f.a.createElement(y.a,{src:l,className:"bg-pic"}),f.a.createElement("div",{className:"count_down_wrap",style:o||Object.assign({position:"absolute",top:"50%",left:"50%"},Object(_.c)("translate(-50%, -50%)"))},f.a.createElement(v.a,{remain:parseInt(1e3*a.remainMillis),key:a.remainMillis,tickValueFormat:e._formatTickValue,onEnd:e._onEnd,prefixRender:function(){return f.a.createElement("span",{className:"count_down_title"},a.content)}})))},this._formatTickValue=function(t){var n=e.props.floorData.countDown,r=n.numColor,a=n.numBgColor;return(t<10?[0,t]:String(t).split("")).map(function(e,t){return f.a.createElement("span",{className:"tick-value-text",key:t,style:{color:r,backgroundColor:a}},e)})},this._onEnd=function(){var t=e.props.floorData.countDown,n=t.countDown2,r=e.state.displayCountdown;if("1"!==t.hasCountDown2||"C1"!==t.clockStatus||!n||n===r)return void e.setState({displayCountdown:null});n.remainMillis=parseInt(n.remainMillis)-r.remainMillis,e.setState({displayCountdown:n})},this._getAdsInfo=function(){var t=e.props.floorData,n=t.adsList;return n&&n.length?n[0]||{}:{}},this._getPositionStyle=function(){if(e._containerRef){var t=e.props.floorData,n=t.countDown;if(n&&t.height!==n.h){m.a.findDOMNode(e._containerRef);e.setState({positionStyle:{position:"absolute",top:Math.floor(Number(n.y/3))+"px",left:Math.floor(n.x/3)+"px"}}),n.x,n.w}}},this._getState=function(){var t=null,n=e.props.floorData,r=n.countDown;return r&&"C3"!==r.clockStatus&&("C1"===r.clockStatus?t=r.countDown1:"C2"===r.clockStatus&&"1"===r.hasCountDown2&&(t=r.countDown2)),{displayCountdown:t}}},i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[g.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return E});var i,l,c,s=n(106),u=(n.n(s),n(0)),p=n.n(u),f=n(1),d=n(7),m=n.n(d),h=n(5),v=n(4),b=n(3),y=n(12),g=n(2),_=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=(c=l=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.$currClickNode=null,o.currClickData=null,o.handledData=null,o.isReceiving=!1,o._clickCoupon=function(e,t){var n=t.currentTarget;if(!n.className){if(e.degradePic&&e.jump.params.url)return void(window.location.href=e.jump.params.url);var r=o.context,a=r.callPopLayer,i=r.holdBeans,l=o.handledData,c=o.props.floorData,s=c.iouGuideText,u=c.iouGuideUrl;o.currClickData=e;var f=function(){window.jdModelCallCenter={init:function(){window.location.reload()}},a({custom:!0,onClose:function(){o.isReceiving=!1},children:p.a.createElement("div",{className:"loginFrame"},p.a.createElement("div",{className:"title"},"      ",p.a.createElement("span",null,"\u60a8\u5c1a\u672a\u767b\u5f55"),"     "),p.a.createElement("iframe",{className:"content",src:"https://passport.jd.com/uc/popupLogin2013?clstag1=0&clstag2=0&r=0.6454123188319558&t=1565599380779",title:"dialogIframe"}))})};if(l.isBean){var d=Object.assign({},e,{holdBeans:i,beanNotEnough:"number"===typeof i&&i<e.beanNum}),h=function(){d.beanNotEnough||o.isReceiving||(o.isReceiving=!0,o.context.receiveCoupon({type:2,oneCoupon:o.currClickData,invoker:o,dialog:{iouGuideText:s,iouGuideUrl:u},loginMethod:f,stampCb:function(t){if(n.className+=" "+t,"coupon_receive"===t&&"number"===typeof i){var r=i-e.beanNum;o.context.resetHoldBeans(r)}},finishCb:function(){o.isReceiving=!1}}))};a({custom:!0,onClose:function(){o.isReceiving=!1},children:p.a.createElement("div",null,p.a.createElement("div",{className:m()("coupon",d.couponColor)},p.a.createElement("div",{className:"wrapper"},p.a.createElement("div",{className:"price"},"3"!==d.couponStyle&&p.a.createElement("span",{className:"symbol"},"\uffe5"),p.a.createElement("span",{className:"num"},d.val),"3"===d.couponStyle&&p.a.createElement("span",{className:"symbol"},"\u6298")),p.a.createElement("div",{className:"limit"},d.limit)),p.a.createElement("div",{className:"scope"},d.scope),p.a.createElement("div",{className:"special"},"\u6709\u6548\u671f\u81f3:",d.endTime)),p.a.createElement("div",{className:m()("pay_beans",{no_enough_beans:d.beanNotEnough}),onClick:h},"\u652f\u4ed8",d.beanNum,"\u4eac\u8c46\u5151\u6362"),p.a.createElement("div",{className:m()("hold_beans",{no_enough_beans:d.beanNotEnough})},"number"===typeof i&&p.a.createElement("span",null,"\u60a8\u7684\u8d26\u6237\u8fd8\u5269",d.holdBeans,"\u8c46",d.beanNotEnough?",\u6570\u91cf\u4e0d\u8db3\u54e6\uff01":"")))})}else{if(o.isReceiving)return;o.isReceiving=!0,o.context.receiveCoupon({type:1,oneCoupon:o.currClickData,invoker:o,dialog:{iouGuideText:s,iouGuideUrl:u},loginMethod:f,stampCb:function(e){n.className+=" "+e},finishCb:function(){o.isReceiving=!1}})}}},i=n,a(o,i)}return o(t,e),w(t,[{key:"render",value:function(){var e=this,t=this.props.floorData,n=this.context,r=n.pinData,a=n.userData,o=t.type,i=t.styleId,l=t.couponList,c=void 0===l?[]:l;if(!o||["1","2","3"].indexOf(i)<0||0===c.length)return null;if("3-0"===t.type)return null;var s=this._handleData(t,r[t.moduleId],a);return this.handledData=s,p.a.createElement("div",Object.assign({},Object(f.c)(s),{style:s.wrapperStyle}),p.a.createElement("div",{className:s.couponModuleClass},(s.isAutoGenerator||s.isBean)&&s.couponList.map(function(t,n){return t.val?p.a.createElement(h.a,{component:"a",eventId:"Coupon",params:t.srv&&t.srv.split("_"),href:"javascript: void 0;","data-cpid":t.cpId,key:n,className:t.className,onClick:function(n){return e._clickCoupon(t,n)}},(2===s.couponNum||1===s.couponNum)&&!s.isBean&&p.a.createElement(u.Fragment,null,p.a.createElement("div",{className:"price"},p.a.createElement("span",{className:"symbol"},"\uffe5"),p.a.createElement("span",{className:"num"},t.val)),p.a.createElement("div",{className:"limit_special_wrap oneline_ellipsis_wrap"},p.a.createElement("div",{className:"limit"},t.limit),p.a.createElement("div",{className:"special"},t.illus)),p.a.createElement("div",{className:"scope"},t.scope||t.cpName),p.a.createElement("div",{className:"get"},"\u7acb\u5373\u9886\u53d6")),(2===s.couponNum||1===s.couponNum)&&s.isBean&&p.a.createElement(u.Fragment,null,p.a.createElement("div",{className:"main_wrapper"},p.a.createElement("div",{className:"coupon-item_discount"},p.a.createElement("span",{className:m()("money",{d:"3"!==t.couponStyle,z:"3"===t.couponStyle})},t.val)),p.a.createElement("div",{className:"info_wrapper"},p.a.createElement("div",{className:"limit_illus_wrapper"},p.a.createElement("span",{className:"coupon-item_limit"},t.limit),p.a.createElement("span",{className:"coupon-item_illus"},t.illus)),p.a.createElement("div",{className:"coupon-item_scope"},t.scope||t.cpName),"3"===t.couponStyle&&t.maxLimit&&p.a.createElement("div",{className:"coupon-item_maxlimit"},t.maxLimit))),p.a.createElement("div",{className:"bean_exchange"},p.a.createElement("div",{className:"logo"}),p.a.createElement("div",{className:"num"},t.beanNum,"\u4eac\u8c46"),p.a.createElement("div",{className:"exchange"},"\u7acb\u5373\u5151\u6362"))),3===s.couponNum&&p.a.createElement(u.Fragment,null,p.a.createElement("div",{className:"price_limit_wrap oneline_ellipsis_wrap"},p.a.createElement("div",{className:"price"},p.a.createElement("span",{className:"symbol"},"\uffe5"),p.a.createElement("span",{className:"num"},t.val)),p.a.createElement("div",{className:"limit"},t.limit)),p.a.createElement("div",{className:m()("scope",{bean_scope:s.isBean})},t.scope||t.cpName),s.isBean?p.a.createElement("div",{className:"bean_exchange"},p.a.createElement("div",{className:"logo"}),t.beanNum,"\u4eac\u8c46\u5151\u6362"):p.a.createElement("div",{className:"special"},t.illus),p.a.createElement("div",{className:"get"},"\u7acb\u5373\u9886\u53d6"))):null}),s.isUploadImg&&s.isfree&&s.couponList.map(function(t,n){var r=Object(f.f)(t.w),a=Object(f.f)(t.h),o="translate("+Object(f.f)(t.x/3)+"px, "+Object(f.f)(t.y/3)+"px)",i=Object.assign({width:r,height:a},Object(y.c)(o));return p.a.createElement(h.a,{component:"a",eventId:"Coupon",params:t.srv&&t.srv.split("_"),href:"javascript: void 0;",key:n,"data-cpid":t.cpId,className:t.className,style:i,onClick:function(n){return e._clickCoupon(t,n)}},p.a.createElement(b.a,{src:t.degradePic||t.picture,width:r,height:a,resizeDisable:!0}))}),s.isUploadImg&&!s.isfree&&s.couponList.map(function(t,n){var r=Object(f.f)(t.w),a=Object(f.f)(t.h);return p.a.createElement(h.a,{component:"a",eventId:"Coupon",params:t.srv&&t.srv.split("_"),href:"javascript: void 0;",key:n,"data-cpid":t.cpId,className:t.className,onClick:function(n){return e._clickCoupon(t,n)}},p.a.createElement(b.a,{src:t.degradePic||t.picture,width:r,height:a,resizeDisable:!0}))})))}},{key:"_handleData",value:function(e,t){var n=e.type,r=e.styleId,a=e.couponList,o=e.backgroundColor,i=e.innerBorder,l=e.bgStyle,c=e.bgPic,s=e.height,u=e.picHeight,p=e.picWidth,d=e.layoutStyle,h=n.split("-"),v=_(h,1),b=v[0],y="0"===b,g="1"===b,w="2"===b,E="3"===b;if(a.forEach(function(e){if(t&&t.coupon_newList&&t.coupon_newList.length){var n=["","coupon_receive","coupon_empty","coupon_today_receive","coupon_today_empty","coming"],r=!0,a=!1,o=void 0;try{for(var i,l=t.coupon_newList.values()[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var c=i.value;if(e.cpId===c.cpId){e.className=n[1*c.status];break}}}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}}(g||w)&&(e.couponColor="0"===e.color?"red":"blue")}),g||w){var O=Number(r);a=a.slice(0,O);var N={backgroundColor:o},C=m()({coupon_1x:"1"===r,coupon_2x:"2"===r,coupon_3x:"3"===r,inside:"1"===i,custom:g,bean:w,red:"0"===a[0].color,blue:"1"===a[0].color},"coupon_module");return Object.assign({},e,{couponNum:O,couponList:a,wrapperStyle:N,couponModuleClass:C,isUploadImg:y,isAutoGenerator:g,isBean:w,isFinance:E})}if(y){var I=Number(r);a=a.slice(0,I);var P="2"===d,k=!P&&"1"===i,S=P?Object(f.f)(s):this._getUploadNoFreeFloorHeight(p,u,r,k),j={backgroundColor:"0"===l&&o,backgroundImage:"1"===l&&"url("+c+")",backgroundSize:"100%",height:S},T=m()({isfree:P,notfree:!P,coupon_1x:"1"===r,coupon_2x:!P&&"2"===r,coupon_3x:!P&&"3"===r,inside:k},"coupon_module upload_img");return Object.assign({},e,{couponNum:I,couponList:a,wrapperStyle:j,couponModuleClass:T,isfree:P,isUploadImg:y,isAutoGenerator:g,isBean:w,isFinance:E})}}},{key:"_getUploadNoFreeFloorHeight",value:function(e,t,n,r){var a=0;switch(n){case"1":a=990;break;case"2":a=r?484:495;break;case"3":a=r?312.6:330}var o=Math.round(a/e*t);return o=r?o+10:o}}]),t}(u.PureComponent),l.contextType=g.a,i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[v.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return j});var i,l,c,s,u,p,f,d,m,h=n(108),v=(n.n(h),n(0)),b=n.n(v),y=n(2),g=n(7),_=n.n(g),w=n(1),E=n(5),O=n(4),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=[0,990/1065,494/531,328/351,1,1],I={FLAT:"0",DIALOG:"1",SCROLL:"2"},P={ROW_ONE:"0",ROW_TWO:"1",ROW_THREE:"2",ROW_FOUR:"4",ROW_FIVE:"5",FREE:"3"},k=["","coupon_receive","coupon_empty","coupon_today_receive","coupon_today_empty","coming"],S={RED:"0",BLUE:"1",CUSTOM:"2"},j=(c=l=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),N(t,[{key:"render",value:function(){var e=this.props,t=(e.pinData,e.floorData),n=t.config,r=t.styleId,a=t.couponList;if(void 0===r||0===a.length)return"";var o=this.props.pageBackgroundColor,i=n.bgStyle,l=n.sameColor,c=n.backgroundColor,s=n.bgPic,u=n.innerBorder,p={};return"0"===i?p.backgroundColor="0"===l?o:c:p.background='url("'+s+'") no-repeat center/100% 100%',"1"===u&&(p.paddingBottom="10px"),b.a.createElement("div",Object(w.c)(this.props.floorData),b.a.createElement("div",{className:_()("coupon-module"),style:p},r===I.FLAT&&b.a.createElement(T,this.props)))}}]),t}(v.PureComponent),l.contextType=y.a,i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[O.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i),T=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),N(t,[{key:"render",value:function(){var e=this.props.floorData.config,t=e.layoutStyle;return b.a.createElement(v.Fragment,null,t===P.FREE&&b.a.createElement(H,this.props),t!==P.FREE&&b.a.createElement(x,this.props))}}]),t}(v.PureComponent),x=(u=s=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),N(t,[{key:"render",value:function(){var e=this,t=this.props.floorData,n=t.couponList,r=t.config,a=this.getColums(),o="1"===r.jumpGuide?"gotouse":"";return b.a.createElement("div",{className:_()("coupon-module_row","coupon-module_row-"+a+"x",o)},Array.from("a".repeat(a)).map(function(r,o){var i=n[o]||void 0,l=e.getCouponStatus(i);return i?b.a.createElement(L,Object.assign({},e.props,{key:o,config:t.config,colums:a,coupon:i,callPopLayer:e.props.callPopLayer,couponStatus:l})):""}))}},{key:"getCouponStatus",value:function(e){if(e){var t=this.props.floorData,n=this.context.pinData[t.moduleId],r=n&&n.coupon_newList.find(function(t){return String(t.cpId)===String(e.cpId)});return e.status||r&&r.status}}},{key:"getColums",value:function(){return[1,2,3,"",4,5][+this.props.floorData.config.layoutStyle]||0}}]),t}(v.PureComponent),s.contextType=y.a,u),L=(f=p=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clickCoupon=function(){var e=n.state.status,t=n.props,r=t.coupon,a=t.config;if(e=e||n.props.couponStatus,"1"===a.jumpGuide&&("1"===String(e)||"3"===String(e))){var o=r.jumpGd;if(o){var i=n.context.parseUrl({jump:o}),l=o.srv;return n.context.tracking.sendClickTracking("Babel_FreeCouponUse",l),void Object(w.h)(i)}}else if(!e||!["1","2","3","4"].includes(String(e))){var c=function(){window.jdModelCallCenter={init:function(){window.location.reload()}},n.context.callPopLayer({custom:!0,children:b.a.createElement("div",{className:"loginFrame"},b.a.createElement("div",{className:"title"},"      ",b.a.createElement("span",null,"\u60a8\u5c1a\u672a\u767b\u5f55"),"     "),b.a.createElement("iframe",{className:"content",src:"https://passport.jd.com/uc/popupLogin2013?clstag1=0&clstag2=0&r=0.6454123188319558&t=1565599380779",title:"dialogIframe"}))})};n.handledData={isBean:!1},n.context.receiveCoupon({type:1,oneCoupon:r,invoker:n,dialog:{shopId:r.shopId},loginMethod:c,stampCb:function(e){var t=k.indexOf(e);n.setState({status:t})},fansCouponCb:function(e){if(r.jsonSrv){var t=JSON.parse(r.jsonSrv);t.jud="success"===e?"0":"1",t=JSON.stringify(t),n.context.tracking.sendClickTrackingJSON("Babel_FreeCouponFansGet",t)}},noFollowCb:function(){n.context.tracking.sendClickTrackingJSON("Babel_FreeCouponFansGiveup",r.jsonSrv)}})}},n.state={status:e.couponStatus||""},n}return o(t,e),N(t,[{key:"render",value:function(){var e=this.props,t=e.config,n=e.coupon,r=e.style,a=e.colums,o=this.props.floorData.elementList||[],i=t.cpContent,l=t.picBgColor,c=t.picHeight,s="",u=Object.assign({},r),p="1"===i,f="0"===i,d=!(!n.picUrl&&!n.degradePic),m=this.state.status||this.props.couponStatus,h="1"===t.jumpGuide&&("1"===String(m)||"3"===String(m));p?(s=l===S.RED?"red":l===S.BLUE?"blue":"",l===S.CUSTOM&&(u.backgroundImage='url("'+(n.picUrl||n.degradePic)+'")')):f&&(u.backgroundImage='url("'+(n.picUrl||n.degradePic)+'")',a&&(u.height=Math.floor(+c*C[a])));var v=p||f&&!h;return f&&!d?"":b.a.createElement(E.a,{component:"a",eventId:"FreeCoupon",params:n.srv&&n.srv.split("_"),"data-cpid":n.cpId,href:"javascript:void(0);",className:_()("coupon-item",s,k[m],f?"upload":""),onClick:this.clickCoupon,style:u},p?b.a.createElement(D,{picBgColor:l,coupon:n,elementList:o,colums:a}):"",f&&b.a.createElement("div",{className:"use_mask"}),f&&b.a.createElement("div",{className:"use_btn"},"\u7acb\u5373\u4f7f\u7528"),v&&b.a.createElement(F,{status:m}))}}]),t}(v.PureComponent),p.contextType=y.a,f),D=function(e){var t=e.picBgColor,n=e.coupon,r=e.elementList,a=void 0===r?[]:r,o=e.colums;if(t===S.RED||t===S.BLUE){if(1===o||2===o)return b.a.createElement("div",{className:"main_wrapper"},b.a.createElement(z,{cpStyle:n.cpStyle,discount:n.discount}),b.a.createElement("div",{className:"info_wrapper"},b.a.createElement("div",{className:"limit_illus_wrapper"},b.a.createElement(A,{limit:n.limit}),b.a.createElement(B,{illus:n.illus})),b.a.createElement(U,{scope:n.scope}),"1"===n.cpStyle&&b.a.createElement(M,{maxLimit:n.maxLimit})));if(3===o||4===o||5===o)return b.a.createElement(v.Fragment,null,b.a.createElement(z,{cpStyle:n.cpStyle,discount:n.discount}),b.a.createElement(A,{limit:n.limit}),b.a.createElement(U,{scope:n.scope}),b.a.createElement(B,{illus:n.illus}),"1"===n.cpStyle&&b.a.createElement(M,{maxLimit:n.maxLimit}))}return t===S.CUSTOM?b.a.createElement(v.Fragment,null,a.map(function(e){return b.a.createElement(R,{key:e.type,element:e,coupon:n})})):""},R=function(e){var t=e.element,n=e.coupon,r={width:+t.w*(990/1065),height:+t.h*(990/1065),left:.88*+t.x,top:.88*+t.y,fontSize:+t.size,color:t.color,textAlign:"0"===t.align?"left":"center",backgroundColor:"1"===t.bgStyle?t.bgColor:"transparent",WebkitLineClamp:+t.lineCount},a=!n[t.key],o="discount"===t.key,i=!!o&&"0"===n.cpStyle;return t.key?b.a.createElement("div",{className:_()("coupon-element",{"visible-hide":a}),style:r},b.a.createElement("span",{className:_()({"coupon-element_discount":o,d:o&&i,z:o&&!i})},n[t.key])):""},z=function(e){var t=e.cpStyle,n=e.discount,r=!n,a="0"===t;return r&&(n="\u65e0"),b.a.createElement("div",{className:_()("coupon-item_discount",{"visible-hide":r})},b.a.createElement("span",{className:_()("money",{d:a,z:!a})},n))},A=function(e){var t=e.limit,n=!t;return n&&(t="\u65e0"),b.a.createElement("div",{className:_()("coupon-item_limit",{"visible-hide":n})},b.a.createElement("span",null,t))},U=function(e){var t=e.scope,n=!t;return n&&(t="\u65e0"),b.a.createElement("div",{className:_()("coupon-item_scope",{"visible-hide":n})},b.a.createElement("span",null,t))},B=function(e){var t=e.illus,n=!t;return n&&(t="\u65e0"),!n&&b.a.createElement("div",{className:_()("coupon-item_illus",{"visible-hide":n})},b.a.createElement("span",null,t))},M=function(e){var t=e.maxLimit;return t?b.a.createElement("div",{className:"coupon-item_maxlimit"},b.a.createElement("span",null,t)):null},F=function(e){var t=e.status||"";if(0===+t)return"";var n=k[+t];return b.a.createElement("div",{className:_()("coupon-stamp",n)})},H=(m=d=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),N(t,[{key:"render",value:function(){var e=this,t=this.props.floorData,n=t.couponList,r=t.config,a="1"===r.jumpGuide?"gotouse":"",o={position:"relative",height:Math.floor(+r.height*(990/1065))};return b.a.createElement("div",{style:o,className:a},n.map(function(t,n){var a=t.cpLoc,o=a.x,i=a.y,l=a.w,c=a.h,s={position:"absolute",width:Math.floor(.88*l),height:Math.floor(c*(990/1065)),left:Math.floor(.88*o),top:Math.floor(i*(990/1065))},u=e.getCouponStatus(t);return b.a.createElement(L,Object.assign({},e.props,{key:n,coupon:t,config:r,style:s,callPopLayer:e.props.callPopLayer,couponStatus:u}))}))}},{key:"getCouponStatus",value:function(e){if(e){var t=this.props.floorData,n=this.context.pinData[t.moduleId],r=n&&n.coupon_newList.find(function(t){return String(t.cpId)===String(e.cpId)});return e.status||r&&r.status}}}]),t}(v.PureComponent),d.contextType=y.a,m);j.getFloorHeight=function(e){var t=e.config,n=void 0===t?{}:t,r=n.height,a=n.picHeight;return+(r||a||0)}},function(e,t){},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return w});var l,c,s,u=n(110),p=(n.n(u),n(0)),f=n.n(p),d=n(1),m=n(7),h=n.n(m),v=n(4),b=n(3),y=n(2),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_={0:"",1:"coupon_receive",2:"coupon_empty",3:"coupon_today_receive",4:"coupon_today_empty",5:"coming"},w=(s=c=function(e){function t(){var e,n,i,l;a(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),i.$currClickNode=null,i.handledData=null,i._clickCoupon=function(e,t){var n,a=t.currentTarget;if(!a.className){if(e.backupPicUrl){var o,l=e.jump&&e.jump.srv&&e.jump.srv.split("_")||[];return(o=i.context.tracking).sendClickTracking.apply(o,["Babel","FinanceCouponFallback"].concat(r(l))),void(e.jump&&e.jump.params&&e.jump.params.url&&(window.location.href=e.jump.params.url))}var c=function(){window.jdModelCallCenter={init:function(){window.location.reload()}},i.context.callPopLayer({custom:!0,children:f.a.createElement("div",{className:"loginFrame"},f.a.createElement("div",{className:"title"},"      ",f.a.createElement("span",null,"\u60a8\u5c1a\u672a\u767b\u5f55"),"     "),f.a.createElement("iframe",{className:"content",src:"https://passport.jd.com/uc/popupLogin2013?clstag1=0&clstag2=0&r=0.6454123188319558&t=1565599380779",title:"dialogIframe"}))})},s=e.srv&&e.srv.split("_")||[];(n=i.context.tracking).sendClickTracking.apply(n,["Babel","FinanceCoupon"].concat(r(s)));var u=i.props.floorData.config,p=u.iouGuideText,d=u.iouGuideUrl;i.context.receiveCoupon({type:3,oneCoupon:e,invoker:i,loginMethod:c,dialog:{iouGuideText:p,iouGuideUrl:d},stampCb:function(e){a.className+=" "+e}})}},l=n,o(i,l)}return i(t,e),g(t,[{key:"render",value:function(){var e=this,t=this.props.floorData,n=t.styleId,r=t.couponList,a=void 0===r?[]:r;if(["1","2","3"].indexOf(n)<0||!a.length)return"";var o=this._handleData(t);return this.handledData=o,f.a.createElement("div",Object.assign({},Object(d.c)(o),{style:o.wrapperStyle}),f.a.createElement("div",{className:o.couponModuleClass},o.couponList.map(function(t,n){var r=Object(d.f)(t.w),a=Object(d.f)(t.h);return f.a.createElement("a",{href:"javascript: void 0;",key:n,className:t.className,onClick:function(n){return e._clickCoupon(t,n)}},f.a.createElement(b.a,{src:t.backupPicUrl||t.picture,width:r,height:a,resizeDisable:!0}))})))}},{key:"_handleData",value:function(e){var t=e.styleId,n=e.couponList,r=e.config,a=r.backgroundColor,o=r.innerBorder,i=r.bgStyle,l=r.bgPic,c=r.picHeight,s=r.picWidth;n.forEach(function(e){"string"!==typeof e.status&&"number"!==typeof e.status||(e.className=_[1*e.status])});var u=t;n=n.slice(0,u);var p="1"===o,f=this._getUploadNoFreeFloorHeight(s,c,t,p),d={backgroundColor:"0"===i&&a,backgroundImage:"1"===i&&"url("+l+")",backgroundSize:"100% 100%",height:f},m=h()({coupon_1x:"1"===t,coupon_2x:"2"===t,coupon_3x:"3"===t,inside:p},"coupon_module upload_img");return Object.assign({},e,{couponNum:u,couponList:n,wrapperStyle:d,couponModuleClass:m,isFinance:!0})}},{key:"_getUploadNoFreeFloorHeight",value:function(e,t,n,r){var a=0;switch(n){case"1":a=990;break;case"2":a=r?484:495;break;case"3":a=r?312.6:330}var o=Math.round(a/e*t);return o=r?o+10:o}}]),t}(p.PureComponent),c.contextType=y.a,l=s,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(l.prototype,"render",[v.a],Object.getOwnPropertyDescriptor(l.prototype,"render"),l.prototype),l)},function(e,t){},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,o){try{var i=t[a](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return D});var c,s,u,p=n(55),f=n.n(p),d=n(0),m=n.n(d),h=n(9),v=n.n(h),b=n(252),y=n.n(b),g=n(7),_=n.n(g),w=n(71),E=n.n(w),O=n(253),N=n.n(O),C=n(11),I=n(8),P=n(2),k=n(4),S=n(1),j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),T={BETA:"babelcodebeta",PRODUCTION:"babelcode",TEMPLATE_BETA:"babelviewbeta",TEMPLATE_PRODUCTION:"babelview"},x=/\{{3}\s*(advIds|godIds|cmpIds)\s*\}{3}/gi,L=function(e){var t="";return"undefined"===typeof e?t="undefined":y()(e)?t="null":Array.isArray(e)?t="'"+JSON.stringify(e)+"'":E()(e)?t="'"+JSON.stringify(e)+"'":N()(e)&&(t="'"+e+"'"),t},D=(u=s=function(e){function t(){var e;o(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var l=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return l._setRef=function(e){l._ref=e},l.state={codetext:null},l}return l(t,e),j(t,[{key:"componentDidMount",value:function(){function e(){return t.apply(this,arguments)}var t=a(f.a.mark(function e(){var t,n=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchCodeText();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:this.setState({codetext:unescape(t)},function(){var e=v.a.findDOMNode(n._ref);if(e){var t=e.getElementsByTagName("script");n.loadScripts([].filter.call(t,function(e){return e.src||e.textContent&&(!e.type||"text/javascript"===e.type)}).map(function(e){return{src:e.src,innerText:e.textContent}}))}});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchCodeText",value:function(){function e(){return t.apply(this,arguments)}var t=a(f.a.mark(function e(){var t,n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.floorData,n=t.sourceId,r=t.styleId,r||n){e.next=3;break}return e.abrupt("return","");case 3:if(!r){e.next=9;break}return e.next=6,this.fetchSharedCustomCode();case 6:return e.abrupt("return",e.sent);case 9:return e.next=11,this.fetchFloorCustomCode();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchCdnStorage",value:function(){function e(e){return t.apply(this,arguments)}var t=a(f.a.mark(function e(t){var n,r,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(I.isIE)(9)?C.doFetchForIE9:fetch,e.next=3,n(t);case 3:if(r=e.sent,200===r.status||304===r.status){e.next=6;break}throw new Error;case 6:return e.next=8,r.text();case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchFloorCustomCode",value:function(){function e(){return t.apply(this,arguments)}var t=a(f.a.mark(function e(){var t,n,r,a,o,i,l,c,s,u,p,d;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.floorData.sourceId,n=this.context.pageData,r=n.activityId,a=n.pageId,o=n.timestamp,i=I.isBeta?T.BETA:T.PRODUCTION,!I.isPreview){e.next=9;break}return i+="preview",l=i+"/"+r+"/"+a+"/pc/"+this.context.code.getFloorCodeDir()+t+".repl.html",e.abrupt("return",this.fetchCdnStorage("//storage.360buyimg.com/"+l+"?t="+(new Date).getTime()));case 9:if(c=this.context.code.floorCodeCacheKeyPrefiex+"_"+r+"_"+a+"_"+t+"_"+36e4*parseInt((new Date).getTime()/36e4),!(s=localStorage.getItem(c))){e.next=13;break}return e.abrupt("return",s);case 13:return u=i+"/"+r+"/"+a+"/pc/"+this.context.code.getFloorCodeDir()+t+".repl.html",p="//storage.360buyimg.com/"+u+"?key="+c,e.prev=15,e.next=18,this.fetchCdnStorage(p);case 18:return d=e.sent,localStorage.setItem(c,d),e.abrupt("return",d);case 23:return e.prev=23,e.t0=e.catch(15),e.abrupt("return","");case 26:case"end":return e.stop()}},e,this,[[15,23]])}));return e}()},{key:"fetchSharedCustomCode",value:function(){function e(){return t.apply(this,arguments)}var t=a(f.a.mark(function e(){var t,n,r,a,o,i,l,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.floorData,n=t.sourceId,r=t.styleId,a=3e5,o=I.isBeta?T.TEMPLATE_BETA:T.TEMPLATE_PRODUCTION,i=Math.random(),I.isPreview&&(i=(new Date).getTime()),l=o+"/"+r+"/"+n+".repl.html",c="//storage.360buyimg.com/"+l+"?key="+i,e.prev=7,e.next=10,this.fetchCdnStorage(c);case 10:return e.abrupt("return",e.sent);case 13:return e.prev=13,e.t0=e.catch(7),e.abrupt("return","");case 16:case"end":return e.stop()}},e,this,[[7,13]])}));return e}()},{key:"loadScripts",value:function(){function e(){return t.apply(this,arguments)}var t=a(f.a.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",t.reduce(function(e,t){return e.then(function(){return Object(C.gracefullLoadScript)(t)})},Promise.resolve()));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"getCodeText",value:function(){var e=this,t=this.state.codetext;if(!t)return t;var n={};return x.test(t)&&(t=t.replace(x,function(t,r){return n[r]?n[r]:n[r]=L(e.props.floorData[r])})),t}},{key:"render",value:function(){var e=this.props.floorData,t=Object(S.c)(e),n=t.className,a=r(t,["className"]);return m.a.createElement("div",Object.assign({className:_()(n,e.styleId?"shared":"private"),ref:this._setRef,dangerouslySetInnerHTML:{__html:this.getCodeText()}},a))}}]),t}(d.PureComponent),s.contextType=P.a,c=u,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(c.prototype,"render",[k.a],Object.getOwnPropertyDescriptor(c.prototype,"render"),c.prototype),c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return C});var i,l,c,s,u=n(113),p=(n.n(u),n(0)),f=n.n(p),d=n(9),m=n.n(d),h=n(7),v=n.n(h),b=n(1),y=n(4),g=n(3),_=n(5),w=n(12),E=n(8),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N={PIC:"1",TEXT:"0"},C=(c=l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));s.call(n);var o=n.props.floorData.anchorList;return n.picNavCurItemIndex=0,n.picNavCurItemIndexInSight=0,n.itemPerPage=0,n.BEFORE_SCROLL_TOP=n._getScrollTop(),n.state={selectedAnchor:o&&o.length?o[0]:null,fixed:!1,picNavTransLateCount:0,curPageNum:0},n}return o(t,e),O(t,[{key:"componentDidMount",value:function(){var e=m.a.findDOMNode(this._ref);if(e){var t=e.getBoundingClientRect();this.navHeight=t.height,this.navTop=t.top+(window.scrollTop||window.pageYOffset),this.$app=document.querySelector(".babel-app"),this.appHeight=this.$app.offsetHeight,this.anchorFloorInfos=[],this._setBeforeScrollTop(),window.addEventListener("scroll",this._onScroll,!1)}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this._onScroll,!1)}},{key:"render",value:function(){var e=this.props.floorData,t=e.anchorList;return t&&t.length?f.a.createElement("div",Object.assign({},Object(b.c)(e),{ref:this._setRef,style:{height:"51px"}}),this._renderAnchorList()):null}}]),t}(p.PureComponent),s=function(){var e=this;this._setRef=function(t){e._ref=t},this._setSwiperRef=function(t){e._swiperRef=t},this._renderAnchorList=function(){return e.props.floorData.tabStyle===N.PIC?(e.itemPerPage=9,e._renderImgAnchorList()):(e.itemPerPage=6,e._renderTextAnchorList())},this._renderTextAnchorList=function(){var t=e.props.floorData,n=t.anchorList,r=t.config,a=void 0===r?{}:r,o=t.backgroundColor,i=e.state,l=i.selectedAnchor,c=i.fixed,s=i.picNavTransLateCount,u=100/n.length+"%",p=n.length>6;return f.a.createElement("ul",{className:v()({"anchor-list":!0,"anchor-list-text":!0,fixed:c}),style:{backgroundColor:o,color:a.textColor,height:"51px"}},p&&f.a.createElement(_.a,{eventId:"AnchorPage",params:a.srv&&a.srv.split("_"),component:"div",className:"anchor-ctrl left",onClick:e._scrollNavLeft}),f.a.createElement("div",{className:"anchor-content",style:Object.assign({},Object(w.c)("translateX(-"+165*s+"px)"),{width:165*n.length+"px"})},n.map(function(t,n){var r=l===t;return f.a.createElement(_.a,{component:"li",eventId:"AnchorBar",params:t.jump&&t.jump.srv&&t.jump.srv.split("_"),className:v()({"anchor-item":!0,selected:r}),key:"anchor-"+n,style:{width:u},onClick:function(){e._onAnchorClick(t,n)}},f.a.createElement("span",null,t.name))})),p&&f.a.createElement(_.a,{eventId:"AnchorPage",params:a.srv&&a.srv.split("_"),component:"div",className:"anchor-ctrl right",onClick:e._scrollNavRight}))},this._renderImgAnchorList=function(){var t=e.props.floorData,n=t.anchorList,r=t.config,a=void 0===r?{}:r,o=t.backgroundColor,i=e.state,l=i.selectedAnchor,c=i.fixed,s=i.picNavTransLateCount,u=n.length>9;return f.a.createElement("ul",{className:v()({"anchor-list":!0,"anchor-list-pic":!0,fixed:c}),style:{backgroundColor:o,color:a.textColor}},u&&f.a.createElement(_.a,{eventId:"AnchorPage",params:a.srv&&a.srv.split("_"),component:"div",className:"anchor-ctrl left",onClick:e._scrollNavLeft}),f.a.createElement("div",{className:"anchor-content",style:Object.assign({},Object(w.c)("translateX(-"+110*s+"px)"),{width:u?110*n.length+"px":"100%"})},n.map(function(t,n){var r=l===t;return f.a.createElement(_.a,{component:"li",eventId:"AnchorBar",params:t.jump&&t.jump.srv&&t.jump.srv.split("_"),className:v()({"anchor-item":!0,selected:r}),key:"anchor-"+n,style:{width:"110px"},onClick:function(){e._onAnchorClick(t)}},t.tabPic&&t.tabClickPic&&f.a.createElement(g.a,{src:r?t.tabClickPic:t.tabPic,className:"anchor-pic",disabled:!0}))})),u&&f.a.createElement(_.a,{eventId:"AnchorPage",params:a.srv&&a.srv.split("_"),component:"div",className:"anchor-ctrl right",onClick:e._scrollNavRight}))},this._scrollNavLeft=function(){var t=e.state.picNavTransLateCount;if(t>0){var n=void 0;n=t-e.itemPerPage<=0?0:t-e.itemPerPage,e.setState({picNavTransLateCount:n},function(){})}},this._scrollNavRight=function(){var t=e.state.picNavTransLateCount,n=e.props.floorData.anchorList,r=Math.ceil(n.length/e.itemPerPage),a=n.length;if(t/e.itemPerPage<r-1){var o=void 0;o=t+e.itemPerPage>a-e.itemPerPage?a-e.itemPerPage:t+e.itemPerPage,e.setState({picNavTransLateCount:o},function(){})}},this._onAnchorClick=function(t){var n=e.state,r=n.selectedAnchor,a=n.picNavTransLateCount,o=e.props.floorData.anchorList,i=void 0===o?[]:o;r!==t&&(e.picNavCurItemIndex=i.indexOf(t),e.picNavCurItemIndexInSight=e.picNavCurItemIndex-a,e.setState({selectedAnchor:t},function(){})),e.props.onScrollToTargetFloor&&e.props.onScrollToTargetFloor(t.jump&&t.jump.moduleId,-e._calcNavHeight(),e._setBeforeScrollTop)},this._setBeforeScrollTop=function(){e.BEFORE_SCROLL_TOP=e._getScrollTop()},this._getScrollTop=function(){var e=0;return E.isServer||(e=window.scrollTop||window.pageYOffset),e},this._getScrollDirection=function(){var t=e._getScrollTop(),n=t-e.BEFORE_SCROLL_TOP;return e.BEFORE_SCROLL_TOP=t,n>0?"DOWN":n<0?"UP":null},this._scrollToTargetAnchor=function(t){var n=e.state.picNavTransLateCount,r=e.props.floorData.anchorList,a=r.length;"DOWN"===t?(e.picNavCurItemIndex++,e.picNavCurItemIndexInSight++,e.picNavCurItemIndex<=n?e.picNavCurItemIndexInSight=0:e.picNavCurItemIndexInSight>e.itemPerPage-1&&(e.picNavCurItemIndexInSight=e.itemPerPage-1,e.picNavCurItemIndex<=a-1&&e.setState({picNavTransLateCount:n+1},function(){}))):"UP"===t?(e.picNavCurItemIndex--,e.picNavCurItemIndexInSight--,e.picNavCurItemIndex>=n+e.itemPerPage-1&&(e.picNavCurItemIndexInSight=e.itemPerPage-1),e.picNavCurItemIndexInSight<0&&(e.picNavCurItemIndexInSight=0,e.picNavCurItemIndex<0&&(e.picNavCurItemIndex=0),e.setState({picNavTransLateCount:n-1},function(){}))):e.picNavCurItemIndexInSight=e.picNavCurItemIndex-e.state.picNavTransLateCount-1},this._onScroll=function(t){e.$app.offsetHeight;e._calcFloorInfos();var n=e.navHeight,r=e._getScrollTop(),a=e.anchorFloorInfos.find(function(e){var t=e.height,a=e.x,o=a-r-n,i=o+t;return o<=0&&i>0});if(a&&e.state.selectedAnchor!==a.anchorItem){var o=e._getScrollDirection();e.setState({selectedAnchor:a.anchorItem},function(){e._scrollToTargetAnchor(o)})}e.navTop-r<=0?!e.state.fixed&&e.setState({fixed:!0}):e.state.fixed&&e.setState({fixed:!1})},this._calcFloorInfos=function(){var t=e.props.floorData.anchorList,n=e.$app,r=[],a=window.scrollTop||window.pageYOffset;t.forEach(function(e){var t=e.jump.moduleId;if(t){var o=n.querySelector('.bab-opt-mod[data-moduleid="'+t+'"]');if(o){var i=o.getBoundingClientRect();r.push({anchorItem:e,x:i.top+a,height:i.height})}}}),e.anchorFloorInfos=r},this._calcNavHeight=function(){return 50}},i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[y.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return V});var c,s,u,p,f,d,m,h=n(115),v=(n.n(h),n(0)),b=n.n(v),y=n(9),g=n.n(y),_=n(1),w=n(4),E=n(5),O=n(3),N=n(13),C=n(14),I=n(17),P=n(2),k=n(7),S=n.n(k),j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),T={PIC:"2",TEXT:"1",NONE:"0"},x={ONE:"0",TWO:"1",THREE:"2",SCROLL:"3",PC_ONE:"5",PC_THREE:"6",PC_FIVE:"7",PC_TWO:"8",PC_FOUR:"9"},L={PIC:"1",PRICE:"2",TEXT:"3",CART:"4",PROMOTION_TAG:"5",BRAND:"6",SELLED_NUM:"7",SIMILAR:"8",BUTTON:"9"},D={MOBILE:"0",PC:"1",PROMOTION:"2",PLUS:"3",SAM_VIP:"4",MONTH:"5",BEANS:"6",FANS:"8",NEWER:"9",ENTERPRISE_PRICE:"10",YAOJIGNCAI:"11",FACSTORE_JIGUANG:"13",FACSTORE_MARKET:"14",STUDENT_PRICE:"15",VSP_PRICE:"16",PRODUCT_CONFIG_MIN:"20000",PRODUCT_CONFIG_MAX:"29999"},R={PRODUCTION:"0",CUSTOM:"1",CORNER:"2"},z={NAME:"0",TAG:"1",CUSTOM_TEXT:"2",COMMENT:"3",GOOD_RATE:"4",GOOD_COUNT:"5",TIME:"6",VALID_TIME:"7",MEDICAL_SPEC:"8",REBATE:"9",COMMISSION_PERCENTAGE:"10",AURORA_SAVED:"11",VSP_SKU_ID:"12",PRODUCT_CONFIG_MIN:"10000",PRODUCT_CONFIG_MAX:"19999"},A={PROMOTION:"0",COUPON:"1",FREE:"2",BEANS_TAG:"4",NEW_PRODUCT_TAG:"5",FREE_INTEREST:"6",PRODUCT_CONFIG_MIN:"30000",PRODUCT_CONFIG_MAX:"39999"},U={NAME:"0",LOGO:"1",ORIGIN:"2",VENDOR:"3",STORENAME:"4"},B={SELLED:"0",SELL_PROGRESS:"1"},M={NONE:"0",TWO_COLOR:"1",SQUARE:"2",CORNER:"3",PIC:"4",RANKING:"5"},F={MAIN:"0",CONTRASTIVE:"1",HIDE_PART:"2",PROMOTION:"3"},H={ICON:"0",TEXT:"1",CUSTOM_PIC:"2",VSP_ICON:"3"},G={VSP:"1"},W=(c={},l(c,L.PIC,"_renderPic"),l(c,L.PRICE,"_renderPrice"),l(c,L.TEXT,"_renderText"),l(c,L.CART,"_renderCart"),l(c,L.PROMOTION_TAG,"_renderProTag"),l(c,L.BRAND,"_renderBrand"),l(c,L.SELLED_NUM,"_renderSoledNum"),l(c,L.SIMILAR,"_renderSimilar"),l(c,L.BUTTON,"_renderButton"),c),V=(p=u=function(e){function t(){var e;a(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var l=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return f.call(l),l.state=l._getState(),l._setUnit(),l}return i(t,e),j(t,[{key:"componentDidMount",value:function(){var e="webkitLineClamp"in document.body.style;this.setState({isSupportLineClamp:e})}},{key:"componentDidUpdate",value:function(e,t){if(this._navSticky&&t.selectedTab!==this.state.selectedTab){var n=g.a.findDOMNode(this._ref);window.scrollTo(0,Math.ceil(window.pageYOffset+n.getBoundingClientRect().top))}}},{key:"render",value:function(){var e=this.props,t=e.floorData,n=e.eventCollector;if(99===+t.styleId)return b.a.createElement(q,{floorData:t,eventCollector:n});var r=this.state.waresList;if(!t||!t.elementList||!r||!r.length)return null;var a=t.backgroundColor;return b.a.createElement("div",Object.assign({},Object(_.c)(t),{ref:this._setRef,style:{backgroundColor:a}}),this._renderTab(),this._renderProductList())}},{key:"similarBtnClick",value:function(e,t){t.stopPropagation(),t.preventDefault(),window.location.href="//home.m.jd.com/myjd/similar/list.action?skuId="+e.skuId}}]),t}(v.PureComponent),u.contextType=P.a,f=function(){var e=this;this._setRef=function(t){e._ref=t},this.unit=3,this._navSticky=!1,this._renderTab=function(){var t=e.state,n=t.selectedTab,r=t.tabList,a=e.props.floorData;return!n||r.length<2?null:b.a.createElement(C.a,{tabList:r,tabStyle:a.tabStyle,tabConfig:a.tabConfig,selectedTab:n,onTabHover:function(){e._selectGroup.apply(e,arguments)},tabClickEventId:"AgilityTab",onNavSticky:e._onNavSticky,onNavUnsticky:e._onNavUnsticky,disableStickyView:e.props.disableStickyView})},this._setUnit=function(){var t=e.props.floorData.styleId;if(t===x.PC_THREE||t===x.PC_FIVE||t===x.PC_ONE||t===x.PC_TWO||t===x.PC_FOUR)return void(e.unit=1);e.unit=function(e){switch(e){case x.ONE:case x.TWO:return 3*Math.floor(1.28);case x.THREE:return 3*Math.floor(1.92);case x.SCROLL:default:return 3}}(t)},this._mapStyleIdToStyle=function(){var t=e.props.floorData,n=t.udBorderPx,r=void 0===n?0:n,a=(t.lrBorderPx,t.styleId),o=Math.floor(Number(r)/e.unit),i=1;return a!==x.ONE&&a!==x.PC_TWO||(i=2),a!==x.TWO&&a!==x.THREE&&a!==x.SCROLL&&a!==x.PC_FOUR||(i=4),a===x.PC_THREE&&(i=3),a===x.PC_FIVE&&(i=5),{paddingHorizontal:0,paddingVertical:o,realWidth:Math.floor((I.a-0-10*(i-1))/i),itemsOneLine:i}},this._lastLine=function(e,t,n){return e>=parseInt((n-1)/t)*t},this._renderProductList=function(){var t=e.props.floorData,n=t.elementList,r=t.waresListConfig,a=t.styleId,o=t.width,i=r.bgColor,l=e.state.selectedGroup,c=e._mapStyleIdToStyle(),s=c.paddingHorizontal,u=c.paddingVertical,p=c.realWidth,f=c.itemsOneLine,d=1===n.filter(function(e){return"1"===e.type&&"0"===e.source}).length;return b.a.createElement("div",{className:"basement_body oneline"+f,style:{padding:u+"px "+s+"px"}},l.groupInfoList.map(function(r,c){var s=Object(N.j)(r);e._lastLine(c,f,l.groupInfoList.length);return b.a.createElement(E.a,{key:c,component:"a",href:e.context.parseUrl(r),className:"basement_item_con pd_common "+s+" basement_item_type_"+a,target:"_blank",eventId:"AgilityDetails",params:r.srv&&r.srv.split("_"),style:{backgroundImage:r.bgPicUrl?"url("+r.bgPicUrl+")":"none",backgroundRepeat:"no-repeat",backgroundColor:i,height:e._computePosition(t.height,a,p,o),width:p+"px"}},n.map(function(t,n){var i=W[t.type];if(i){t.positionStyle||(t.positionStyle={top:e._computePosition(t.y,a,p,o),left:e._computePosition(t.x,a,p,o)}),t.sizeStyle||(t.sizeStyle={width:e._computePosition(t.w,a,p,o),height:e._computePosition(t.h,a,p,o)});var l=e[i](t,r,a,{isOnlypicture:d,soldOutCls:s}),c=Object.assign({},t.positionStyle);return"_renderSimilar"===i&&(c=Object.assign({},t.positionStyle,t.sizeStyle)),l&&b.a.createElement("div",{key:t.type+"-"+n,className:S()("basement-element-item",{"basement-element-item-pic":t.type===L.PIC&&t.source!==R.CORNER}),style:c},l)}return null}),"sold_out"===s&&!d&&b.a.createElement("span",{className:"pd_basement_sold_out"}),"area_sold_out"===s&&!d&&b.a.createElement("span",{className:"pd_basement_area_sold_out"}))}))},this._renderPic=function(e,t,n,r){var a=t.flexibleData[e.key]||"";if(!a)return null;if(e.source===R.CORNER){var o=a.subPicUrl;return e.style===M.PIC?o?b.a.createElement("div",{className:"pd_common pd_subscirpt-"+e.style,style:e.sizeStyle},b.a.createElement("div",{className:"pd_tip",style:Object.assign({background:"url("+o.replace("http:","")+")",backgroundSize:"100% 100%"},e.sizeStyle)},b.a.createElement("div",{className:"text_1"},a.sub?a.sub:""),b.a.createElement("div",{className:"text_2"},a.subDown?a.subDown:""))):null:e.style===M.RANKING||e.style===M.SQUARE||e.style===M.CORNER?a.sub?b.a.createElement("div",{className:"pd_subscirpt pd_subscirpt-"+e.style,style:e.sizeStyle},b.a.createElement("div",{className:"pd_tip"},b.a.createElement("div",{className:"text_1"},a.sub))):null:a.sub&&a.subDown?b.a.createElement("div",{className:"pd_subscirpt pd_subscirpt-"+e.style,style:e.sizeStyle},b.a.createElement("div",{className:"pd_tip"},b.a.createElement("div",{className:"text_1"},a.sub),b.a.createElement("div",{className:"text_2"},a.subDown))):null}return r.isOnlypicture?b.a.createElement("div",{className:"item_pic_relative"},b.a.createElement(O.a,{src:(a.url||a).replace("http:",""),className:"item_pic pd_basement_pic",style:e.sizeStyle,resizeDisable:!0}),"sold_out"===r.soldOutCls&&b.a.createElement("span",{className:"pd_basement_sold_out"}),"area_sold_out"===r.soldOutCls&&b.a.createElement("span",{className:"pd_basement_area_sold_out"})):b.a.createElement(O.a,{src:(a.url||a).replace("http:",""),className:"item_pic pd_basement_pic",style:e.sizeStyle,resizeDisable:!0})},this._renderPrice=function(t,n){var r=n.flexibleData[t.key];if(!r)return null;var a=t.textSize,o=t.isBold,i=t.textColor,l=t.sizeStyle,c=t.textAlign,s=t.source,u={fontSize:a/e.unit,fontWeight:"0"===o?"normal":"bold",color:i,width:l.width,textAlign:"1"===c?"center":""};if(s===D.SAM_VIP)return b.a.createElement("div",{className:"item_price price_sams",style:u},b.a.createElement("span",{className:"price_text"},"\uffe5",r),"0"!==t.samTab&&b.a.createElement("b",{className:"icon"}),e._renderComparePrice(t,n));if(s===D.PROMOTION){if("3"===t.style)return r.priceText&&r.price?b.a.createElement("div",{className:"item_price item_text",style:u},b.a.createElement("i",{className:"text",style:{color:t.priceTextColor,fontSize:t.priceTextSize/e.unit,marginRight:"5px"}},r.priceText),b.a.createElement("i",{className:"price"},"\uffe5",r.price),e._renderComparePrice(t,n)):null}else{if(s===D.PLUS)return n.flexibleData.plusPrice&&b.a.createElement("div",{className:"item_price price_plus",style:u},b.a.createElement("span",{className:"price_text"},"\uffe5",n.flexibleData.plusPrice),"0"!==t.plusTab&&b.a.createElement("b",{className:"icon"}),e._renderComparePrice(t,n));if(s===D.MONTH){var p=n.flexibleData.leastPlanAmount;if(!p)return null;var f=p.split("/"),d=f[0].substr(1),m="/"+(f[1]||"\u671f");return"1"!==t.stageStyle||p?b.a.createElement("div",{className:"item_price price_least",style:u},b.a.createElement("span",{className:"part1"},"\uffe5",d),b.a.createElement("span",{className:"part2"},m)):null}if(s===D.BEANS){var h=n.flexibleData.promoPrice,v=n.flexibleData.needBeansNum;return h&&v?b.a.createElement("div",{class:"item_price price_beans"},b.a.createElement("span",null,"\xa5promoPrice"),b.a.createElement("span",{className:"beans_num"},"+needBeansNum"),b.a.createElement("i",{className:"icon"})):null}if(s===D.FANS){var y=n.flexibleData.fansPrice;return y?b.a.createElement("div",{className:"item_price price_fans",style:u},"\xa5",y,b.a.createElement("b",{className:"icon"})):null}if(s===D.NEWER){var g=n.flexibleData.newerPrice;return g?b.a.createElement("div",{className:"item_price price_newer",style:u},"\xa5",g,b.a.createElement("b",{className:"icon"})):null}if(s===D.ENTERPRISE_PRICE){var _=n.flexibleData.enterPrice;return _?b.a.createElement("div",{className:"item_price price_enterprise",style:u},b.a.createElement("span",{className:"part1"},"\xa5",_),"0"!==t.samTab&&b.a.createElement("b",{className:"icon"})):null}if(s===D.PC)return r?b.a.createElement("div",{className:"item_price",style:u},b.a.createElement("del",null,"\uffe5",r)):null;if(s===D.YAOJIGNCAI){if(!r)return null;var w=/^[0-9]/.test(r);return b.a.createElement("div",{className:S()({not_number:!w},"item_price price_yjc"),style:Object.assign({},u,{lineHeight:1.5*u.fontSize+"px",height:1.5*u.fontSize+"px"})},w&&"\uffe5"+r,!w&&r)}if(s===D.STUDENT_PRICE){var E=r;return E?b.a.createElement("div",{className:"item_price price_student",style:u},b.a.createElement("span",{className:"part1"},"\xa5",E),b.a.createElement("b",{className:"icon"})):null}if(s===D.FACSTORE_MARKET)return b.a.createElement("div",{className:"item_price facstore",style:u},"\u5e02\u573a\u4ef7:\uffe5",r||"");if(s===D.VSP_PRICE)return/^[0-9]/.test(r)?b.a.createElement("div",{className:"item_price vsp_price",style:u},b.a.createElement("span",{className:"prefix"},"\u91c7\u8d2d\u4ef7\uff1a"),"\uffe5",r):b.a.createElement("div",{className:"item_price",style:u},r);if(s>=D.PRODUCT_CONFIG_MIN&&s<=D.PRODUCT_CONFIG_MAX)return e._renderProductConfig(r,t,u,"item_price")}return t.style===F.CONTRASTIVE?b.a.createElement("div",{className:"item_price",style:u},b.a.createElement("del",null,"\uffe5",r)):b.a.createElement("div",{className:"item_price",style:u},"\uffe5",r||"",e._renderComparePrice(t,n))},this._renderComparePrice=function(t,n){var r=t.showComparePrice,a=t.comparePriceColor,o=t.comparePriceFont,i=t.comparePriceStyle,l=n.pcpPrice||n.flexibleData.pcpPrice;if("1"===r&&l){var c={color:a,fontSize:o/e.unit+"px",display:"1"===i?"block":"inline-block",marginLeft:"1"===i?"0":"5px"};return b.a.createElement("del",{className:"compare_price",style:c},b.a.createElement("span",null,"\uffe5",l))}return null},this._renderText=function(t,n){var r=t.source,a=n.flexibleData[r===z.TIME?"winsdate":t.key]||"",o={width:t.sizeStyle.width,fontSize:t.textSize/e.unit,color:t.textColor,fontWeight:"0"===t.isBold?"normal":"bold",textAlign:"1"===t.textAlign?"center":"left"};if(e.state.isSupportLineClamp||(o.height=t.sizeStyle.height),r===z.COMMENT)return b.a.createElement("div",{className:"item_evaluate text-overflow",style:o},a);if(r===z.GOOD_RATE)return b.a.createElement("div",{className:"item_praise text-overflow",style:o},a);if(r===z.GOOD_COUNT)return!a||1*a<=0?null:b.a.createElement("div",{className:"item_praise_num text-overflow",style:o},a);if(r===z.VALID_TIME||r===z.MEDICAL_SPEC)return b.a.createElement("div",{className:"element_item_text",style:Object.assign({},o,{WebkitLineClamp:t.textLine,height:1.6*t.textLine*(o.fontSize>12?o.fontSize:12)})},b.a.createElement("span",{className:"text",style:{backgroundColor:"#F9F9FB"}},a));if(r===z.AURORA_SAVED){var i=/^[0-9]/.test(a)?"\u7acb\u7701\uff1a":"";return b.a.createElement("div",{className:"element_item_text",style:Object.assign({},o,{WebkitLineClamp:t.textLine,lineHeight:1.6,height:1.6*t.textLine*(o.fontSize>12?o.fontSize:12),backgroundColor:"#ea790f",textAlign:"center"})},b.a.createElement("span",{className:"text"},i+a))}if(r===z.VSP_SKU_ID){var l=function(e){return e.stopPropagation(),e.preventDefault(),!1};return b.a.createElement("div",{className:"element_item_text",style:Object.assign({},o,{WebkitLineClamp:t.textLine,lineHeight:1.6,height:1.6*t.textLine*(o.fontSize>12?o.fontSize:12)}),onClick:l},b.a.createElement("span",{className:"text"},"\u5546\u54c1\u7f16\u53f7\uff1a"),b.a.createElement("span",{className:"skuid_val"},a))}return r>=z.PRODUCT_CONFIG_MIN&&r<=z.PRODUCT_CONFIG_MAX?e._renderProductConfig(a,t,o,"element_item_text"):r===z.NAME?"string"!==typeof a?b.a.createElement("div",{className:"element_item_text",style:Object.assign({},o,{WebkitLineClamp:t.textLine})},"1"===t.style&&b.a.createElement("img",{src:a.worldWidePicUrl,alt:"tag"}),b.a.createElement("span",{className:"text"},a.name)):b.a.createElement("div",{className:"element_item_text",style:Object.assign({},o,{WebkitLineClamp:t.textLine})},b.a.createElement("span",{className:"text"},a)):b.a.createElement("div",{className:"element_item_text",style:Object.assign({},o,{WebkitLineClamp:t.textLine,lineHeight:1.6})},b.a.createElement("span",{className:"text"},a))},this._renderCart=function(t,n){if(n.hideCart===N.c.HIDE)return null;var r=t.style,a=n.flexibleData[t.key]||"";return r===H.ICON?b.a.createElement("div",{className:"item_buycar buycar_icon",style:Object.assign({backgroundColor:t.backgroundColor},t.sizeStyle),onClick:function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];e._addToCart.apply(e,[n.skuId].concat(r))}}):r===H.TEXT?b.a.createElement("div",{className:"item_buycar buycar_text",style:Object.assign({},t.sizeStyle,{lineHeight:t.sizeStyle.height,backgroundColor:t.backgroundColor,color:t.textColor}),onClick:function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];e._addToCart.apply(e,[n.skuId].concat(r))}},a):r===H.CUSTOM_PIC?b.a.createElement("div",{className:"item_buycar",style:t.sizeStyle,onClick:function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];e._addToCart.apply(e,[n.skuId].concat(r))}},b.a.createElement(O.a,{src:a.replace("http:",""),className:"buycar_img"})):r===H.VSP_ICON?b.a.createElement("div",{className:"item_buycar vsp_buycar",style:Object.assign({},t.sizeStyle,{lineHeight:t.sizeStyle.height.slice(0,-2)-2+"px",fontSize:t.textSize?t.textSize/e.unit:12}),onClick:function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];e._addToCart.apply(e,[n.skuId].concat(r))}},b.a.createElement("span",{className:"icon vsp_buycar_icon",style:{width:t.sizeStyle.height,height:t.sizeStyle.height}}),"\u52a0\u5165\u8d2d\u7269\u8f66"):void 0},this._renderSimilar=function(t,n){var r=n.flexibleData[t.key]||"";return b.a.createElement("div",{className:"similar-section similar-section-basement",style:{maxHeight:"100%",maxWidth:"100%"},onClick:function(t){e.similarBtnClick(n,t)}},b.a.createElement("img",{src:r,alt:"",style:{height:"100%",width:"100%"}}))},this._renderButton=function(t,n){if(t.source===G.VSP){var r=e.state.starState,a="\u6536\u85cf",o="vsp_no_star";if(r[n.skuId]){var i=r[n.skuId];"0"===i?(a="\u6536\u85cf",o="vsp_no_star"):"1"===i&&(a="\u5df2\u6536\u85cf",o="vsp_already_star")}else{var l=n.flexibleData[t.key]||null;"0"===l?(a="\u6536\u85cf",o="vsp_no_star"):"1"===l&&(a="\u5df2\u6536\u85cf",o="vsp_already_star")}var c=r[n.skuId]||n.flexibleData[t.key]||null,s="";return"0"===c?s="star":"1"===c&&(s="cancelStar"),b.a.createElement("div",{className:"item_star vsp_star "+o,style:Object.assign({},t.sizeStyle,{lineHeight:t.sizeStyle.height.slice(0,-2)-2+"px",fontSize:t.btnSize?t.btnSize/e.unit:12}),onClick:function(t){e._starProduct(n.skuId,t,s)}},b.a.createElement("span",{className:"vsp_star_icon",style:{width:t.sizeStyle.height,height:t.sizeStyle.height}}),a)}},this._renderProTag=function(t,n){var r=n.flexibleData[t.key]||null;if(!r)return null;var a=t.promotionNum,o=t.source;if(o===A.PROMOTION)return b.a.createElement("div",{className:"item_pro_group"},Object.keys(r).filter(function(e){return!!r[e]}).slice(0,a).map(function(e,t){return b.a.createElement("span",{key:t,className:"item_pro_label"},r[e])}));if(o===A.COUPON){var i=[],l=t.promotionColor;return r.text1&&i.push({c_info:r.text1,bgColor:l}),2===a&&r.text2&&i.push({c_info:r.text2,bgColor:l}),i.length?b.a.createElement("div",{className:"item_coupon"},i.map(function(e,t){return b.a.createElement("div",{className:"c_box",key:t,style:{border:"1px solid "+e.bgColor,color:e.bgColor}},b.a.createElement("label",{className:"prefix",style:{backgroundColor:e.bgColor}},"\u5238"),b.a.createElement("div",{className:"info"},e.c_info))})):null}if(o===A.FREE){var c="";return"1"===r.isSeptax&&(c+="\u5305\u7a0e"),"1"===r.freeMark&&(c+="\u5305\u90ae"),c?b.a.createElement("div",{className:"item-tag-group"},b.a.createElement("span",{className:"item_free_label"},c)):null}return o===A.BEANS_TAG?"1"===r?b.a.createElement("div",{className:"item-tag-group"},b.a.createElement("span",{className:"beans_label"})):null:o===A.NEW_PRODUCT_TAG?"1"===r?b.a.createElement("div",{className:"item-tag-group"},b.a.createElement("span",{className:"new_label"})):null:o===A.FREE_INTEREST?b.a.createElement("div",{className:"free_interest item_pro_group"},new Array(Number(t.promotionNum)).fill(0).map(function(e,n){return b.a.createElement("span",{key:n,className:"item_pro_free_interest item_pro_label",style:{border:"1px solid "+t.promotionColor,color:t.promotionColor}},r)})):o>=A.PRODUCT_CONFIG_MIN&&A.PRODUCT_CONFIG_MAX?e._renderProductConfig(r,t,t.sizeStyle,"item-tag"):null},this._renderBrand=function(t,n){if(t.source===U.NAME){var r=n.flexibleData.brand;return r?b.a.createElement("div",{className:"item_brand brand_name text-overflow",style:{width:t.sizeStyle.width,fontWeight:"0"===t.isBold?"normal":"bold",fontSize:t.brandSize/e.unit,color:t.brandColor}},r):null}if(t.source===U.LOGO){var a=n.flexibleData.brandLogo;return a?b.a.createElement("div",{className:"item_brand brand_logo",style:t.sizeStyle},b.a.createElement(O.a,{src:a,className:"brand_logo_pic"})):null}if(t.source===U.ORIGIN){var o=n.flexibleData[t.key];if(!o)return null;var i=o.nameCn,l=o.naFlagImgM;return b.a.createElement("div",{className:"item_brand brand_origin",style:t.sizeStyle},l&&b.a.createElement("img",{alt:"origin",src:l,className:"brand_origin_pic",style:{height:"100%"}}),i&&b.a.createElement("span",{className:"text text-overflow",style:{fontSize:t.brandSize/e.unit+"px",color:t.brandColor}},i))}if(t.source===U.VENDOR){var c=n.flexibleData.manufacturer;if(!c)return null;var s=t.brandSize/e.unit>12?t.brandSize/e.unit:12;return b.a.createElement("div",{className:"item_brand brand_vendor",style:{width:t.sizeStyle.width,fontWeight:"0"===t.isBold?"normal":"bold",fontSize:s,color:t.brandColor}},b.a.createElement("div",{className:"logo",style:{width:s,height:s,backgroundSize:s}}),b.a.createElement("div",{className:"text text-overflow",style:{}},c))}if(t.source===U.STORENAME){var u=n.flexibleData.venderName,p=n.flexibleData[t.jumpKey];if(!u)return null;var f=t.brandSize/e.unit>12?t.brandSize/e.unit:12;return b.a.createElement("div",{className:"item_brand brand_storename",target:"_blank",style:{width:t.sizeStyle.width,fontWeight:"0"===t.isBold?"normal":"bold",fontSize:f,color:t.brandColor},onClick:function(t){t.preventDefault(),t.stopPropagation(),window.open(e.context.parseUrl({jump:p}))}},b.a.createElement("div",{className:"logo",style:{width:f,height:f,backgroundSize:f}}),b.a.createElement("div",{className:"text text-overflow",style:{}},u,b.a.createElement("span",{className:"arrow",style:{width:f/3,height:f/3}})))}return null},this._renderSoledNum=function(t,n){var r=n.flexibleData[t.key];if(!r||"100%"===r)return null;if(t.source===B.SELLED)return b.a.createElement("div",{className:"item_progress sold_count",style:{width:t.sizeStyle.width,backgroundColor:"rgb(65, 105, 249,0.5)",height:t.sizeStyle.height,fontSize:t.soldSize/e.unit}},b.a.createElement("span",{className:"tip"},r));if(t.source===B.SELL_PROGRESS){var a=parseInt(r);return b.a.createElement("div",{className:"item_progress sold_progress",style:{width:t.sizeStyle.width,backgroundColor:t.soldColor,opacity:.6,border:"2px solid "+t.soldColor,height:t.sizeStyle.height,fontSize:t.soldSize/e.unit}},b.a.createElement("div",{className:"tip",style:{width:a+"%",backgroundColor:t.soldColor,opacity:1}}),b.a.createElement("div",{className:"progress",style:{width:100-a+"%"}}),b.a.createElement("span",{className:"text"},"\u5df2\u62a2\xa0",r))}return null},this._renderProductConfig=function(e,t,n,r){var a=e.fieldType,o=e.textStyle,i=e.fieldValue,l=e.fieldIcon,c=t.textColor;return"201"===a?("1"===o&&(n.border="1px solid "+c),b.a.createElement("div",{className:"filed_tool text "+r,style:n},i)):"202"===a?b.a.createElement("div",{className:"field_tool picture "+r,style:n},b.a.createElement(O.a,{src:i,resizeDisable:!0,style:{height:"100%",width:"100%"}})):"203"===a?b.a.createElement("div",{className:"filed_tool price "+r,style:n},b.a.createElement("span",{className:"price_text"},i),l&&b.a.createElement("img",{src:l,alt:"icon"})):void 0},this._computePosition=function(e,t,n,r){switch("number"!==typeof e&&(e=Number(e)),t){case x.ONE:case x.TWO:return Math.floor(480*e/1125)+"px";case x.THREE:return Math.floor(720*e/1125)+"px";case x.SCROLL:return Math.floor(n*e/r)+"px";case x.PC_ONE:case x.PC_THREE:case x.PC_FIVE:case x.PC_TWO:case x.PC_FOUR:return Math.floor(e)+"px";default:return 0}},this._selectGroup=function(t){var n=e.state,r=n.selectedTab,a=n.waresList;if(t&&r!==t){var o=a.find(function(e){return e.groupId===t.groupId});e.setState({selectedTab:t,selectedGroup:o})}},this._onNavSticky=function(){e._navSticky=!0},this._onNavUnsticky=function(){e._navSticky=!1},this._addToCart=function(t,n){n.stopPropagation(),n.preventDefault(),e.context.addCartItem(t,e.context.callOverlay,e.props.activityData)},this._starProduct=function(t,n,r){t&&r&&(n.stopPropagation(),n.preventDefault(),e.context.starProduct(t,r,e.context.callOverlay,e.props.activityData).then(function(n){if(n){var a="";"star"===r?a="1":"cancelStar"===r&&(a="0"),e.setState({starState:Object.assign({},e.state.starState,l({},t,a))})}}))},this._getState=function(){var t=e.props.floorData,n=t.waresList,r=void 0===n?[]:n,a=t.tabList,o=void 0===a?[]:a,i=t.tabStyle!==T.NONE&&o[0],l=i?r.find(function(e){return e.groupId===i.groupId}):r[0];return{selectedTab:i,selectedGroup:l,tabList:o,waresList:r,isSupportLineClamp:!1,starState:{}}}},s=p,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(s.prototype,"render",[w.a],Object.getOwnPropertyDescriptor(s.prototype,"render"),s.prototype),s),q=(m=d=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.closeWindow=function(e){var t;e.preventDefault(),e.stopPropagation();var a=n.extractProduct(),o=a.srv&&a.srv.split("_")||[];(t=n.context.tracking).sendClickTracking.apply(t,["Babel","GuessYouLikeClose"].concat(r(o))),n._ref&&(n._ref.current.style.display="none",n.isClosed=!0)},n._ref=b.a.createRef(),n.isClosed=!1,n}return i(t,e),j(t,[{key:"componentDidMount",value:function(){var e=this;if(this._ref){var t=this.props.eventCollector;this.recalcPos(),t("onscroll",function(){if(!e.isClosed){var t=e._ref.current,n=window.scrollTop||window.pageYOffset,r=document.documentElement.clientHeight||window.innerHeight;t.style.display=n>=r?"none":"block"}})}}},{key:"render",value:function(){var e=this.props.floorData,t=e.backgroundColor,n=this.extractProduct();if(!n)return null;var r=n.flexibleData,a={position:"fixed",display:"none",width:"auto",height:267,borderRadius:12,bottom:100,left:0,zIndex:99,boxShadow:"0 0 6px 0 #d9d9d9"};return b.a.createElement("div",Object.assign({},Object(_.c)(e),{ref:this._ref,style:Object.assign({backgroundColor:t},a)}),b.a.createElement(E.a,{href:this.context.parseUrl(n),component:"a",eventId:"GuessYouLikePro",params:n.srv&&n.srv.split("_"),target:"_blank",className:"gyl"},b.a.createElement("span",{className:"opt_close",onClick:this.closeWindow}),b.a.createElement("header",null,"\u731c\u4f60\u559c\u6b22"),b.a.createElement("div",{className:"gyl_wrap"},b.a.createElement("section",{className:"pd_cover"},b.a.createElement(O.a,{src:r.pictureUrl,className:"item_pic pd_basement_pic",style:{width:120,height:120},resizeDisable:!0})),!!n.name&&b.a.createElement("section",{className:"pd_name"},"1"===n.label&&b.a.createElement("span",{className:"pd_branch"},"\u81ea\u8425"),b.a.createElement("span",null,n.name)),b.a.createElement("section",{className:"pd_price"},b.a.createElement("span",null,"\xa5",(+r.pPrice).toFixed(2))))))}},{key:"extractProduct",value:function(){var e=this.props.floorData.waresList;return e&&e.length>0&&(e=e[0].groupInfoList)&&e.length>0&&(e=e[0])?e:null}},{key:"recalcPos",value:function(){try{var e=this._ref.current,t=document.documentElement,n=e.getBoundingClientRect(),r=t.clientWidth||window.innerWidth,a=Math.max(Math.floor((r-I.a)/2),0),o=n.width||170;e.style.display="block",e.style.left=a>=o?a-o-5+"px":a+5+"px"}catch(e){}}}]),t}(v.PureComponent),d.contextType=P.a,m);V.getFloorHeight=function(e){var t,n=e.styleId,r=e.height,a=e.waresList,o=void 0===a?[]:a,i=e.tabList,c=void 0===i?[]:i,s=e.tabStyle;if(!o.length)return 0;if(99===+n)return 0;var u=(t={},l(t,x.ONE,2),l(t,x.TWO,4),l(t,x.THREE,4),l(t,x.SCROLL,4),l(t,x.PC_ONE,1),l(t,x.PC_TWO,2),l(t,x.PC_THREE,3),l(t,x.PC_FOUR,4),l(t,x.PC_FIVE,5),t),p=s!==T.NONE&&c[0],f=p?o.find(function(e){return e.groupId===p.groupId}):o[0],d=u[""+n]||1,m=+r;n===x.ONE||n===x.TWO?m=480*r/1125:n===x.THREE&&(m=720*r/1125);var h=f.groupInfoList,v=void 0===h?[]:h;return m*Math.ceil(v.length/d)}},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return m});var i,l=n(117),c=(n.n(l),n(0)),s=n.n(c),u=n(40),p=n(4),f=n(118),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=(i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props.floorData;return e.styleId=String(e.styleId),s.a.createElement(u.a,Object.assign({},this.props,{productItemComponent:f.a,detailEventId:"PromoPdDetails",cartEventId:"PromoPdCart",tabClickEventId:"PromoPdTab",lazyLoadImgResizeDisable:!0}))}}]),t}(c.PureComponent),function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[p.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return C});var i,l,c,s=n(19),u=(n.n(s),n(0)),p=n.n(u),f=n(6),d=n.n(f),m=n(7),h=n.n(m),v=n(3),b=n(5),y=n(13),g=n(16),_=n(2),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=y.c,O=y.f,N={ICON:"0",TEXT:"1"},C=(l=i=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),c.call(o),i=n,a(o,i)}return o(t,e),w(t,[{key:"render",value:function(){var e=this.props,t=e.wareItem,n=e.waresListConfig,r=e.styleId,a=e.soldOutCls,o=e.detailEventId;if(!t)return null;var i=n.subscript,l=n.subscriptUrl,c=n.cartStyle,s="1"===c,u="0"!==n.promotionTip&&t.promoLevel&&p.a.createElement("div",{className:"pd_promotion_tip",style:{color:n.tabColor,border:"1px "+n.tabColor+" solid"}},t.promoLevel);return p.a.createElement(b.a,{component:"a",href:this.context.parseUrl(t),className:"pd_common pd_subscirpt-"+i+" "+a+" "+(s?"pd_text_cart":"pd_icon_cart"),target:"_blank",eventId:o,params:t.srv.split("_")},p.a.createElement("div",{className:"pd_common_inner",style:{backgroundColor:n.cardColor}},p.a.createElement("div",{className:"pd_pic_wrap"},p.a.createElement("div",{className:"pd_pic_content"},p.a.createElement(v.a,{src:t.image,className:"pd_pic"}),a&&p.a.createElement("span",{className:"pd_sold_out"}),p.a.createElement(g.a,{wareItem:t,subscript:i,subscriptUrl:l}))),p.a.createElement("div",{className:"pd_info"},p.a.createElement("div",{className:"pd_title",style:{color:n.titleColor}},t.name),!s&&p.a.createElement("div",{className:"pd_text_wrapper"},u,p.a.createElement("div",{className:"pd_op_text",style:{color:n.sloganColor}},t.tag||"")),p.a.createElement("div",{className:"pd_wrap"},p.a.createElement("div",{className:"pd_price_wrap"},p.a.createElement("div",{className:"pd_now_price",style:{color:n.mainPriceColor}},"\uffe5",t.pPrice),n.jdPrice!==O.NONE&&p.a.createElement("div",{className:"pd_old_price",style:{color:n.assistPriceColor}},t.pcpPrice&&p.a.createElement("del",{className:"old"},"\uffe5",t.pcpPrice)),s&&u),!a&&this._renderCart(t,r,n)))))}}]),t}(u.PureComponent),i.propTypes={styleId:d.a.string,waresListConfig:d.a.object.isRequired,wareItem:d.a.object.isRequired,extraWareInfo:d.a.object,soldOutCls:d.a.string,detailEventId:d.a.string.isRequired,cartEventId:d.a.string.isRequired},i.contextType=_.a,c=function(){var e=this;this._renderCart=function(t,n,r){if(t.hideCart!==E.SHOW)return null;var a=r.buttonComment,o=r.cartStyle,i=N.TEXT===o;return p.a.createElement(b.a,{component:"div",className:h()({pd_buy_car:!0,pd_icon_cart:!i}),onClick:function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];e._addToCart.apply(e,[t].concat(r))},eventId:e.props.cartEventId,params:t.srv&&t.srv.split("_")},p.a.createElement("div",{className:i?"":"icon_wrap",style:{backgroundColor:r.cartBackgroundColor}},i&&a))},this._addToCart=function(t,n){n.stopPropagation(),n.preventDefault();var r=t.skuId;e.context.addCartItem(r)}},l)},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var l,c=n(120),s=(n.n(c),n(0)),u=n.n(s),p=n(1),f=n(4),d=n(15),m=n(121),h=n(13),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=(l=function(e){function t(){var e;a(this,t);for(var n=arguments.length,i=Array(n),l=0;l<n;l++)i[l]=arguments[l];var c=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return c._onSlideStart=function(e,t){-1===c.state.swiperShownIndexs.indexOf(t)&&c.setState({swiperShownIndexs:[].concat(r(c.state.swiperShownIndexs),[t])})},c.state={swiperShownIndexs:[0]},c}return i(t,e),v(t,[{key:"render",value:function(){var e=this.props.floorData,t=e.waresList,n=e.waresListConfig,r=e.backgroundColor;if(t.length<1)return null;for(var a=t[0].groupInfoList,o=this.state.swiperShownIndexs,i=t[0].areaFilterType,l=a,c=[],s=0,f=l.length;s<f;s++){var v=Math.floor(s/4);c[v]||(c[v]=[]),c[v].push(l[s])}return u.a.createElement("div",Object.assign({},Object(p.c)(e),{style:{backgroundColor:r}}),u.a.createElement(d.a,{className:"banner-pd-swiper",loop:!0,showIndicators:!1,autoplay:!0,delay:4e3,onSlideStart:this._onSlideStart},c.map(function(t,r){return u.a.createElement("div",{className:"banner-pd-swiper-page",key:"swiper-"+r},t.map(function(t){var a=Object(h.j)(t,i);return u.a.createElement(m.a,{key:t.skuId,styleId:e.styleId,waresListConfig:n,wareItem:t,soldOutCls:a,swiperIndex:r,swiperShownIndexs:o})}))})))}}]),t}(s.PureComponent),function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(l.prototype,"render",[f.a],Object.getOwnPropertyDescriptor(l.prototype,"render"),l.prototype),l)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return _});var i,l,c=n(19),s=(n.n(c),n(0)),u=n.n(s),p=n(6),f=n.n(p),d=n(3),m=n(5),h=n(13),v=n(16),b=n(2),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=(h.f,h.a),_=(l=i=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o._picLoaded=!1,o._setImgRef=function(e){o._imgRef=e},o._renderPrice=function(e,t){return t.jdPrice===g.NONE?null:t.jdPrice!==g.PLUS?u.a.createElement("div",{className:"pd_old_price",style:{color:t.assistPriceColor}},e.pcpPrice&&u.a.createElement("del",{className:"old"},"\uffe5",e.pcpPrice)):e.plusPrice?u.a.createElement("div",{className:"pd_plus_price",style:{color:t.plusColor}},"\uffe5",e.plusPrice,u.a.createElement("i",{className:"pd_plus_icon"})):null},o._renderSimilar=function(e){var t=function(t){t.stopPropagation(),t.preventDefault();var n=e.simiJump&&e.simiJump.params.url;window.location.href=n||"javascript:void(0)"};return u.a.createElement("div",{className:"similar-button"},u.a.createElement("button",{className:"similar-section pd-similar",onClick:t},"\u770b\u76f8\u4f3c"))},o._onLoad=function(){o._picLoaded=!0},i=n,a(o,i)}return o(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.swiperIndex,n=e.swiperShownIndexs;t&&n&&this._imgRef&&(this._picLoaded||-1===n.indexOf(t)||this._imgRef.doLoad())}},{key:"render",value:function(){var e=this.props,t=e.wareItem,n=e.waresListConfig,r=e.soldOutCls;if(!t)return null;var a=n.subscript,o=n.subscriptUrl;return u.a.createElement(m.a,{component:"a",href:this.context.parseUrl(t),className:"pd_common pd_subscirpt-"+a+" "+r,target:"_blank",eventId:"CarouselDetails",params:t.srv&&t.srv.split("_")},u.a.createElement("div",{className:"pd_common_inner",style:{backgroundColor:n.cardColor}},u.a.createElement("div",{className:"pd_pic_wrap"},u.a.createElement("div",{className:"pd_pic_content"},u.a.createElement(d.a,{src:t.image,className:"pd_pic",onLoad:this._onLoad,ref:this._setImgRef,resizeDisable:!0}),r&&u.a.createElement("span",{className:"pd_sold_out"}),u.a.createElement(v.a,{wareItem:t,subscript:a,subscriptUrl:o}))),u.a.createElement("div",{className:"pd_info"},u.a.createElement("div",{className:"pd_title",style:{color:n.titleColor}},t.name),u.a.createElement("div",{className:"pd_wrap"},u.a.createElement("div",{className:"pd_price_wrap pd_price_wrap-"+n.jdPrice},u.a.createElement("div",{className:"pd_now_price",style:{color:n.mainPriceColor}},"\uffe5",t.pPrice),this._renderPrice(t,n),"2"===n.similar&&this._renderSimilar(t))))))}}]),t}(s.PureComponent),i.propTypes={styleId:f.a.string,waresListConfig:f.a.object.isRequired,wareItem:f.a.object.isRequired,soldOutCls:f.a.string,swiperIndex:f.a.number,swiperShownIndexs:f.a.array},i.contextType=b.a,l)},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y});var l,c,s,u=n(123),p=(n.n(u),n(0)),f=n.n(p),d=n(4),m=n(1),h=n(5),v=n(2),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=(s=c=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.swiperIns=null,n.swiperDom=null,n}return i(t,e),b(t,[{key:"render",value:function(){var e=this.props.floorData,t={backgroundColor:e.backgroundColor},n={backgroundImage:"url("+e.annConfig.pictureUrl+")"};return f.a.createElement("div",Object.assign({},Object(m.c)(e),{style:t}),f.a.createElement("div",{className:"notice"},f.a.createElement("span",{className:"notice_img",style:n}),this._renderNoticeTexts(),"1"===e.annConfig.showMore?this._renderMore():null))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.floorData,n=t.adsList;this.swiperDom&&(this.swiperIns=$(this.swiperDom).swiper({loop:!0,grabCursor:!0,autoplay:2e3,speed:500,mode:"vertical",onSlideClick:function(t,a){var o,i=n[t.activeIndex];if(!e.context.parseUrl(i))return a.preventDefault(),a.stopPropagation(),!1;var l=i&&i.jump&&i.jump.srv&&i.jump.srv.split("_")||[];(o=e.context.tracking).sendClickTracking.apply(o,["Babel","NoticeLabel"].concat(r(l)))},loopedSlides:t.adsList.length}))}},{key:"_renderNoticeTexts",value:function(){var e=this,t=this.props.floorData,n=t.adsList||[],r={width:("1"===t.annConfig.showMore?566:660)+"px"};return 0===n.length?null:n.length>1?f.a.createElement("div",{className:"notice_text_items swiper-container",ref:function(t){return e.swiperDom=t},id:"notice_text_container_"+t.floorNum,style:r},f.a.createElement("div",{className:"swiper-wrapper"},n.map(function(t,n){return f.a.createElement("div",{className:"swiper-slide",key:n},e._renderNoticeText(t))}))):f.a.createElement("div",{className:"notice_text_items"},this._renderNoticeText(n[0]))}},{key:"_renderNoticeText",value:function(e){var t=e.desc.substring(0,5),n=this.props.floorData.annConfig;return f.a.createElement(h.a,{component:"a",eventId:"NoticeLabel",params:e.jump&&e.jump.srv&&e.jump.srv.split("_"),className:"notice_text_item",target:"_blank",href:this.context.parseUrl(e)},"1"===n.showTag&&t?f.a.createElement("span",{className:"notice_text_label"},t):null,f.a.createElement("span",{className:"notice_text_text"},e.name))}},{key:"_renderMore",value:function(){var e=this.props.floorData,t=e.annConfig;return f.a.createElement(h.a,{component:"a",eventId:"NoticeMore",params:t.jump&&t.jump.srv&&t.jump.srv.split("_"),className:"notice_more",target:"_blank",href:this.context.parseUrl(t)},f.a.createElement("span",{className:"notice_more_text"},"\u66f4\u591a"))}}]),t}(p.PureComponent),c.contextType=v.a,l=s,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(l.prototype,"render",[d.a],Object.getOwnPropertyDescriptor(l.prototype,"render"),l.prototype),l)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var i,l,c,s=n(125),u=(n.n(s),n(0)),p=n.n(u),f=n(4),d=n(1),m=n(5),h=n(2),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=(c=l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.swiperIns=null,n.swiperDom=null,n.itemMarginBottom={1:"78px",2:"91px"},n}return o(t,e),v(t,[{key:"render",value:function(){var e=this.props.floorData,t={};return e.config&&"0"===e.config.bgStyle&&(t={backgroundColor:e.config.bgColor}),e.config&&"1"===e.config.bgStyle&&(t={backgroundImage:"url("+e.config.backgroundImgUrl+")",backgroundPosition:"center",backgroundSize:"cover"}),p.a.createElement("div",Object.assign({},Object(d.c)(e),{style:t}),p.a.createElement("div",{className:"quick_entry",style:t},this._renderItems()))}},{key:"componentDidMount",value:function(){}},{key:"_renderItems",value:function(){var e=this,t=this.props.floorData,n=t.adsList||[],r={marginBottom:t.config&&this.itemMarginBottom[t.config.lineCount]};return n.map(function(n,a){return p.a.createElement("div",{key:a,className:"quick_entry_item quick_entry_item_"+t.styleId,style:r},e._renderItem(n))})}},{key:"_renderItem",value:function(e){return p.a.createElement(m.a,{component:"a",eventId:"Entrance",params:e.jump&&e.jump.srv&&e.jump.srv.split("_"),target:"_blank",href:this.context.parseUrl(e)},p.a.createElement("img",{src:e.pictureUrl,className:"quick_entry_item_icon",alt:"img"}),p.a.createElement("span",{className:"quick_entry_item__text"},e.name))}}]),t}(u.PureComponent),l.contextType=h.a,i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[f.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return g});var l,c,s,u=n(127),p=(n.n(u),n(0)),f=n.n(p),d=n(4),m=n(1),h=n(5),v=n(3),b=n(2),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=(s=c=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._swipePrevImg=function(){n.swiperIns.swipePrev()},n._swipeNextImg=function(){n.swiperIns.swipeNext()},n.swiperIns=null,n.swiperDom=null,n.state={currentIndex:0},n}return i(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.floorData,n=e.floorData.adsList,r=void 0===n?[]:n,a={backgroundColor:t.backgroundColor},o=t.styleId;return"1"===o?null:0===r.length?null:f.a.createElement("div",Object.assign({},Object(m.c)(t),{style:a}),f.a.createElement("div",{className:"advert_slide advert_slide_"+o},this._renderSlide(),this._renderSlideTotal()))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.floorData,n=t.adsList,a=this;"1"!==t.tyleId&&(this.swiperIns=$(this.swiperDom).swiper({grabCursor:!0,mode:"horizontal",spaceBetween:"18",slidesPerView:"auto",onSlideClick:function(t,a){var o,i=n[t.activeIndex];if(!e.context.parseUrl(i))return a.preventDefault(),a.stopPropagation(),!1;var l=i.jump&&i.jump.srv&&i.jump.srv.split("_")||[];(o=e.context.tracking).sendClickTracking.apply(o,["Babel","Notice"].concat(r(l)))},loopedSlides:t.adsList.length,onSlideChangeEnd:function(e){a.setState({currentIndex:e.activeIndex})}}))}},{key:"_renderSlide",value:function(){var e=this,t=this.props.floorData,n=t.adsList||[],r=t.styleId,a=this.state.currentIndex,o=!1;return 0===n.length?null:(o="3"===r?n.length>4&&a<n.length-4:a<n.length-1,n.length>1?f.a.createElement("div",{className:"advert_slide_items_container"},f.a.createElement("div",{className:"advert_slide_items swiper-container advert_slide_style_"+r,ref:function(t){return e.swiperDom=t},id:"advert_slide_container_"+t.floorNum},f.a.createElement("div",{className:"swiper-wrapper"},n.map(function(t,n){return f.a.createElement("div",{className:"swiper-slide",key:n},e._renderSlideItem(t))}))),a>0?f.a.createElement("i",{className:"swiper-button arrow arrow-left",onClick:this._swipePrevImg}):null,o?f.a.createElement("i",{className:"swiper-button arrow arrow-right",onClick:this._swipeNextImg}):null):f.a.createElement("div",{className:"advert_slide_items"},this._renderSlideItem(n[0])))}},{key:"_renderSlideItem",value:function(e){return f.a.createElement(h.a,{component:"a",eventId:"",params:e.jump&&e.jump.srv&&e.jump.srv.split("_"),className:"advert_slide_item",target:"_blank",href:this.context.parseUrl(e)},f.a.createElement(v.a,{src:e.pictureUrl,disabled:!0}))}},{key:"_renderSlideTotal",value:function(){var e=this.props.floorData,t=e.styleId,n=e.adsList||[],r=this.state.currentIndex;return"1"===t?f.a.createElement("div",{className:"advert_slide_num"},r+1,"/",n.length):null}}]),t}(p.PureComponent),c.contextType=b.a,l=s,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(l.prototype,"render",[d.a],Object.getOwnPropertyDescriptor(l.prototype,"render"),l.prototype),l)},function(e,t){},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return O});var l,c,s,u=n(129),p=(n.n(u),n(0)),f=n.n(p),d=n(9),m=n.n(d),h=n(4),v=n(1),b=n(14),y=n(130),g=n(3),_=n(2),w=n(13),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=(s=c=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._renderTab=function(e){var t=e.tabList,r=e.tabStyle,a=e.tabConfig,o=void 0===a?{}:a,i=e.waresList,l=e.styleId;if(o.tabBgColor="#fff","0"===r)return null;var c=[];return t.map(function(e){return i.map(function(t){return t.groupId===e.groupId&&"3"!==l&&t.groupInfoList.length>=n.showSlideCount[l]?c.push(e):null})}),f.a.createElement(b.a,{tabStyle:r,tabList:c,tabConfig:o,selectedTab:n.state.selectedTab,onTabHover:function(){n._selectGroup.apply(n,arguments)},tabClickEventId:"PackageTab",onNavSticky:n._onNavSticky,onNavUnsticky:n._onNavUnsticky,disableStickyView:!1})},n._getState=function(){var e=n.props.floorData,t=e.waresList,r=e.waresListConfig,a=e.tabList;return t&&t.length&&r&&a&&a.length?{selectedTab:a[0],extraWareListInfos:null,currentIndex:0}:{}},n._getGroupInfoList=function(e,t){n.state.selectedTab;return t?t.groupInfoList:[]},n._selectGroup=function(e){var t=n.state.selectedTab;e&&t!==e&&n.setState({selectedTab:e})},n._onNavSticky=function(){n._navSticky=!0},n._onNavUnsticky=function(){n._navSticky=!1},n._swipePrevImg=function(){n.swiperIns[n.state.selectedTab.groupId].swipePrev(),g.a.triggerLoadCheck()},n._swipeNextImg=function(){n.swiperIns[n.state.selectedTab.groupId].swipeNext(),g.a.triggerLoadCheck()},n.swiperIns={},n.swiperDom={},n.state=n._getState(),n.showSlideCount={0:4,1:4,2:4},n._navSticky=!1,n._setRef=function(e){n._ref=e},n}return i(t,e),E(t,[{key:"render",value:function(){var e=this.props.floorData;3==e.styleId&&(e.styleId=0);var t={backgroundColor:e.backgroundColor},n=e.styleId;return f.a.createElement("div",Object.assign({},Object(v.c)(e),{style:t,ref:this._setRef}),f.a.createElement("div",{className:"group_buy group_buy_"+n},this._renderTab(e),this._renderSlide()))}},{key:"componentDidMount",value:function(){this._slideItem()}},{key:"componentDidUpdate",value:function(e,t){if(this._navSticky&&t.selectedTab!==this.state.selectedTab){var n=m.a.findDOMNode(this._ref);window.scrollTo(0,Math.ceil(window.pageYOffset+n.getBoundingClientRect().top))}this._slideItem()}},{key:"_renderSlide",value:function(){var e=this,t=this.props,n=t.floorData,r=t.productItemComponent,a=this.context.activityData,o=n.styleId,i=n.waresList,l=n.waresListConfig,c=void 0===l?{}:l,s=this.state,u=s.selectedTab,p=s.extraWareListInfos,d=s.currentIndex,m=r||y.a,h=a.inkTarget||"_blank";return i.map(function(t){var r=t.areaFilterType,a=e._getGroupInfoList(o,t);return f.a.createElement("div",{className:"pd_module pd_module-"+o+" "+("2"===o?"swiper-container":""),style:{backgroundColor:n.backgroundColor,display:t.groupId===u.groupId?"block":"none"},key:t.groupId,ref:function(n){return e.swiperDom[t.groupId]=n}},f.a.createElement("div",{className:"pd_common_wrap "+("2"===o?"swiper-wrapper":""),style:"2"===o?{width:250*a.length+"px"}:{}},a.map(function(e){var t=w.j(e,r);return"2"===o?f.a.createElement("div",{className:"swiper-slide",key:e.skuId},f.a.createElement(m,{styleId:o,waresListConfig:c,wareItem:e,extraWareInfo:p&&p[e.skuId],soldOutCls:t,inkTarget:h,detailEventId:"PackagePd",lazyLoadImgResizeDisable:!0})):f.a.createElement(m,{key:e.skuId,styleId:o,waresListConfig:c,wareItem:e,extraWareInfo:p&&p[e.skuId],soldOutCls:t,inkTarget:h,detailEventId:"PackagePd",lazyLoadImgResizeDisable:!0})})),"2"===o&&a.length-e.showSlideCount[o]>0&&d<a.length-e.showSlideCount[o]?f.a.createElement("i",{className:"swiper-button arrow arrow-left",onClick:e._swipeNextImg}):null,"2"===o&&a.length-e.showSlideCount[o]>0&&d>0?f.a.createElement("i",{className:"swiper-button arrow arrow-right",onClick:e._swipePrevImg}):null)})}},{key:"_slideItem",value:function(){var e=this,t=this.state.selectedTab,n=this;if("2"===this.props.floorData.styleId&&!this.swiperIns[t.groupId]){var a=this.props.floorData.waresList.find(function(e){return e.groupId===t.groupId});this.swiperIns[t.groupId]=$(this.swiperDom[t.groupId]).swiper({grabCursor:!0,spaceBetween:"18",slidesPerView:"auto",onSlideClick:function(t,n){var o,i=a.groupInfoList[t.activeIndex];if(!e.context.parseUrl(i))return n.preventDefault(),n.stopPropagation(),!1;var l=i.jump&&i.jump.srv&&i.jump.srv.split("_")||[];(o=e.context.tracking).sendClickTracking.apply(o,["Babel","PackagePd"].concat(r(l)))},onSlideChangeEnd:function(e){n.setState({currentIndex:e.activeIndex})}})}}}]),t}(p.PureComponent),c.contextType=_.a,l=s,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(l.prototype,"render",[h.a],Object.getOwnPropertyDescriptor(l.prototype,"render"),l.prototype),l)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return _});var i,l,c=n(19),s=(n.n(c),n(131)),u=(n.n(s),n(0)),p=n.n(u),f=n(6),d=n.n(f),m=n(3),h=n(5),v=n(42),b=n(16),y=n(2),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=(l=i=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o._renderSlogan=function(e,t){if("1"===t.sloganStyle){if("1"===e.groupStauts&&e.groupedCount)return p.a.createElement("div",{className:"pd_op_text",style:{color:t.sloganColor}},e.groupedCount)}else if("0"===t.sloganStyle)return"2"===e.activityType?p.a.createElement("div",{className:"pd_op_text",style:{color:"#F0250F"}},e.prizeText):p.a.createElement("div",{className:"pd_op_text",style:{color:t.sloganColor}},e.tag);return null},o._renderPrice=function(e,t,n,r){var a=p.a.createElement("div",{className:"pd_now_price",style:r?{color:n.mainPriceColor}:null},"\uffe5",e.groupPrice),o=p.a.createElement("div",{className:"pd_old_price",style:r?{color:n.assistPriceColor}:null},e.opPrice&&p.a.createElement("del",{className:"old"},"\uffe5",e.opPrice));return p.a.createElement("div",{className:"pd_price_wrap"},a,o)},i=n,a(o,i)}return o(t,e),g(t,[{key:"render",value:function(){var e=this.props,t=e.wareItem,n=e.waresListConfig,r=e.styleId,a=e.soldOutCls,o=e.inkTarget,i=void 0===o?"_blank":o,l=e.className,c=e.detailEventId,s=e.extraWareInfo,u=e.lazyLoadImgResizeDisable;if(!t)return null;var f=n.subscript,d=n.subscriptUrl;return p.a.createElement(h.a,{component:"a",href:this.context.parseUrl(t),className:"pd_common pd_subscirpt-"+f+" "+a+" "+(l||""),target:i,eventId:c,params:(t.jump&&t.jump.srv||"").split("_")},p.a.createElement("div",{className:"pd_common_inner",style:{backgroundColor:n.cardColor}},p.a.createElement("div",{className:"pd_pic_wrap"},p.a.createElement("div",{className:"pd_pic_content"},p.a.createElement(m.a,{src:t.image,className:"pd_pic",resizeDisable:u}),a&&p.a.createElement("span",{className:"pd_sold_out"}),!a&&p.a.createElement(v.a,{wareItem:t}),p.a.createElement(b.a,{wareItem:t,subscript:f,subscriptUrl:d}))),p.a.createElement("div",{className:"pd_info"},p.a.createElement("div",{className:"pd_title",style:{color:n.titleColor}},t.name),this._renderSlogan(t,n),p.a.createElement("div",{className:"pd_wrap"},this._renderPrice(t,s,n,!0,r))),this._renderBottom()))}},{key:"_renderBottom",value:function(){var e=this.props,t=e.wareItem,n=e.waresListConfig,r=t.isSoldOut,a=t.groupStatus,o=t.buttonText,i="";0!==r&&"2"!==a||(i="disable");var l="1"===a&&0!==r?{backgroundColor:n.buttonColor}:null;return p.a.createElement("div",{className:"bottom-container"},p.a.createElement("div",{className:"left-bottom bottom",style:{color:n.consumerColor}},t.groupCount),p.a.createElement("div",{className:"right-bottom bottom "+i,style:l},o))}}]),t}(u.PureComponent),i.propTypes={styleId:d.a.string,waresListConfig:d.a.object.isRequired,wareItem:d.a.object.isRequired,extraWareInfo:d.a.object,soldOutCls:d.a.string,inkTarget:d.a.string,detailEventId:d.a.string.isRequired,lazyLoadImgResizeDisable:d.a.bool},i.contextType=y.a,l)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return C});var i,l,c,s,u=n(133),p=(n.n(u),n(0)),f=n.n(p),d=n(1),m=n(4),h=n(31),v=n(46),b=n(47),y=n(2),g=n(11),_=n(8),w=n(32),E=n(5),O=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=(c=l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));s.call(n);var o=n.props.floorData;return n.config=n._initConfig(o),n.floorData=n._initFloorData(o),n.state={productInfo:{}},n}return o(t,e),N(t,[{key:"render",value:function(){var e=this,t=this.floorData.adsList;if(!t||0===t.length||!this.config.styleClassName)return null;var n=this.config,r="0"===n.bgStyle?{backgroundColor:n.bgColor}:n.bgPic?{backgroundImage:"url("+n.bgPic+")",backgroundSize:"100%",backgroundRepeat:"no-repeat"}:null;return f.a.createElement("div",Object.assign({},Object(d.c)(this.floorData),{style:{backgroundColor:n.floorBgColor}}),f.a.createElement("div",{className:n.styleClassName},t.map(function(t,a){var o=t.inventory||{},i=n.hasPro?o.pro:e.state.productInfo[t.relatedId]||[{},{},{}];i=i.slice(0,3);var l=e.context.parseUrl(t);return f.a.createElement(E.a,{className:"one_adv_wrap",key:a,component:"a",eventId:"Inventory",params:Object(d.g)(t),target:"_blank",href:l,style:r},f.a.createElement(h.a,{showLogoOrHot:n.showLogoOrHot,logoUrl:n.logoUrl,mainTitle:o.mainTitle,subTitle:"2"!==n.styleId?o.subTitle:"",alignCenter:n.attStyle,subTitleColor:n.subTitleColor}),f.a.createElement("div",{className:"product_list"},i.map(function(e,t){return f.a.createElement(v.a,{key:t,className:"guide_img_wrap",src:e.image,price:n.isShowPrice?e.pPrice:""})}),!n.showSubInfo&&n.isShowPv&&f.a.createElement(w.a,{pv:o.pv,className:"in_product_list white"})),n.showSubInfo&&f.a.createElement(b.a,{className:"guide_subinfo_wrap",authorPic:n.isShowPub&&"0"===n.styleId?o.authorPic:"",authorName:n.isShowPub?o.authorName:"",goodsNum:n.isShowProNum?o.goodsNum:"",pv:n.isShowPv?o.pv:"",goodsNumAlign:n.goodsNumAlign}))})))}},{key:"componentDidMount",value:function(){this.config.hasPro||this._getProInfo()}}]),t}(p.PureComponent),l.contextType=y.a,s=function(){var e=this;this.config={},this.floorData={},this._initConfig=function(e){if(!e)return{};var t={hasPro:"0"!==e.hasPro,styleId:e.styleId},n=!0,r=!1,a=void 0;try{for(var o,i=Object.entries(e.config)[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value,c=O(l,2),s=c[0],u=c[1];0===s.indexOf("is")||"attStyle"===s?t[s]="0"!==u:t[s]=u}}catch(e){r=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}switch(t.styleId){case"0":t.styleClassName="one_line_one_high",t.showLogoOrHot=t.isShowLogo?"logo":t.isHot?"hot":"",t.showSubInfo=t.isShowPub||t.isShowProNum;break;case"1":t.styleClassName="one_line_one_low",t.showSubInfo=!0;break;case"2":t.styleClassName="one_line_two",t.showSubInfo=t.isShowPub||t.isShowProNum,t.goodsNumAlign="right"}return t},this._initFloorData=function(e){return"2"===e.styleId&&e.adsList&&e.adsList.length%2!==0&&e.adsList.pop(),e},this._getProInfo=function(){var t=e.props.activityData,n=void 0===t?{}:t,r=e.floorData,a=r.adsList.map(function(e){return e.relatedId}).join(","),o=r.moduleId,i=_.frontInterfaceHost+"/client.action?functionId=queryRealatedPros",l=Object(g.getBabelUrlParam)({relatedIds:a,isBasic:"1",skuNum:"3",pageId:n.pageId,moduleId:o});Object(g.doJsonP)(i,l).then(function(t){"0"===t.code&&"0"===t.subCode?e.setState({productInfo:t.skuInfoList}):"3"===t.code&&e.context.goLogin()}).catch(function(){})}},i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[m.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return g});var l,c,s,u=n(139),p=(n.n(u),n(0)),f=n.n(p),d=n(1),m=n(4),h=n(15),v=n(140),b=n(48),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=(l=Object(b.a)("PreSaleTab"))((s=function(e){function t(){var e;a(this,t);for(var n=arguments.length,i=Array(n),l=0;l<n;l++)i[l]=arguments[l];var c=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return c._renderProductList=function(){return c._isScrollableStyle()?c._renderSwiperProductList():c._renderNormalProductList()},c._renderNormalProductList=function(){var e=c.props,t=e.floorData,n=e.selectedTab,r=t.waresList,a=t.waresListConfig,o=void 0;return o=n?r.filter(function(e){return e.groupId===n.groupId})[0].groupInfoList:r?r[0].groupInfoList:t.preSaleList,f.a.createElement("div",{className:"pre_pd_module_wrap"},o.map(function(e){return f.a.createElement(v.a,{key:e.skuId,styleId:t.styleId,waresListConfig:a,wareItem:e,lazyLoadImgResizeDisable:!0})}))},c._renderSwiperProductList=function(){var e=c.props,t=e.floorData,n=e.selectedTab,r=t.waresList,a=t.waresListConfig,o=c.state.swiperShownIndexs,i=void 0;i=n?r.filter(function(e){return e.groupId===n.groupId})[0].groupInfoList:r?r[0].groupInfoList:t.preSaleList;for(var l=[],s=0,u=i.length;s<u;s++){var p=Math.floor(s/4);l[p]||(l[p]=[]),l[p].push(i[s])}return f.a.createElement(h.a,{className:"pre-pd-swiper",loop:!0,showIndicators:!1,autoplay:!1,delay:4e3,onSlideStart:c._onSlideStart},l.map(function(e,n){return f.a.createElement("div",{className:"banner-pd-swiper-page",key:"swiper-"+n},e.map(function(e){return f.a.createElement(v.a,{key:e.skuId,styleId:t.styleId,waresListConfig:a,wareItem:e,swiperIndex:n,swiperShownIndexs:o,lazyLoadImgResizeDisable:!0})}))}))},c._onSlideStart=function(e,t){-1===c.state.swiperShownIndexs.indexOf(t)&&c.setState({swiperShownIndexs:[].concat(r(c.state.swiperShownIndexs),[t])})},c._isScrollableStyle=function(){return"1"===c.props.floorData.styleId},c.state={swiperShownIndexs:[0]},c}return i(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.floorData,n=e.floorData.backgroundColor,r=t.waresList,a=void 0===r?[]:r,o=t.preSaleList,i=void 0===o?[]:o;return a.length||i.length?f.a.createElement("div",Object.assign({},Object(d.c)(t),{style:{backgroundColor:n},ref:this.props.setRef}),this.props.renderTab(t),this._renderProductList()):null}}]),t}(p.PureComponent),function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(s.prototype,"render",[m.a],Object.getOwnPropertyDescriptor(s.prototype,"render"),s.prototype),c=s))||c},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return g});var i,l,c=n(19),s=(n.n(c),n(0)),u=n.n(s),p=n(6),f=n.n(p),d=n(3),m=n(5),h=n(16),v=n(2),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y={UN_BEGIN:"0",DEPOSIT:"1",SELLING:"2"},g=(l=i=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o._picLoaded=!1,o._setImgRef=function(e){o._imgRef=e},o._getMainPrice=function(e){if("1"===e.hidePsP){var t=e.bpt;return t&&t.length>0?t:"\u5f85\u53d1\u5e03"}return"\u9884\u552e\u4ef7\uff1a\uffe5"+e.pPrice},o._renderPsCount=function(e,t){if("Y"!==e.presaleStartedStatus||e.presaleStatus!==y.DEPOSIT)return null;var n=parseInt(e.psCount);return n?u.a.createElement("div",{className:"ps-count",style:{color:t}},n,"\u4ef6\u5df2\u9884\u8ba2"):u.a.createElement("div",{className:"ps-count",style:{color:t}},"\u706b\u70ed\u9884\u552e\u4e2d")},o._renderButton=function(e,t){var n="1"===t.advanceDeposit,r=t.buttonBackgroundColor;if(!n&&e.psDps)return u.a.createElement("div",{className:"pd_btn book_price",style:{backgroundColor:r}},"\uffe5",e.psDps,"\u9884\u8ba2");var a=o._isSoldOut(e);if(a)return u.a.createElement("div",{className:"pd_btn "+(a?"sold_out":"")},"\u5df2\u62a2\u5149");var i=e.presaleStartedStatus,l=e.presaleStatus,c=e.bookingPriceInfo;return"N"===i&&(c="\u7b49\u5f85\u9884\u8ba2"),l===y.SELLING&&(c="\u7acb\u5373\u62a2\u8d2d"),u.a.createElement("div",{className:"pd_btn pd_deposit"},c)},o._isSoldOut=function(e){return"N"===e.realStock&&"Y"===e.presaleStartedStatus},o._onLoad=function(){o._picLoaded=!0},i=n,a(o,i)}return o(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.swiperIndex,n=e.swiperShownIndexs;t&&n&&this._imgRef&&(this._picLoaded||-1===n.indexOf(t)||this._imgRef.doLoad())}},{key:"render",value:function(){var e=this.props,t=e.wareItem,n=e.waresListConfig,r=e.lazyLoadImgResizeDisable;if(!t)return null;var a=n.subscript,o=n.subscriptUrl,i=(n.slogan,n.sloganColor,n.peopleNumColor),l=n.assistPriceColor;return u.a.createElement(m.a,{component:"a",href:this.context.parseUrl(t),className:"pd_common pd_subscirpt-"+a,target:"_blank",eventId:"PreSale",params:t.srv.split("_")},u.a.createElement("div",{className:"pd_common_inner",style:{backgroundColor:n.cardColor}},u.a.createElement("div",{className:"pd_pic_wrap"},u.a.createElement("div",{className:"pd_pic_content"},u.a.createElement(d.a,{src:t.image,className:"pd_pic",onLoad:this._onLoad,ref:this._setImgRef,resizeDisable:r}),this._isSoldOut(t)&&u.a.createElement("span",{className:"pd_sold_out"}),u.a.createElement(h.a,{wareItem:t,subscript:a,subscriptUrl:o}))),u.a.createElement("div",{className:"pd_info"},u.a.createElement("div",{className:"pd_title",style:{color:n.titleColor}},t.name),u.a.createElement("div",{className:"pd_wrap"},u.a.createElement("div",{className:"pd_price_wrap"},u.a.createElement("div",{className:"pd_now_price",style:{color:n.mainPriceColor}},this._getMainPrice(t)),t.pcpPrice&&t.pcpPrice!==t.pPrice&&u.a.createElement("div",{className:"listed_price"},u.a.createElement("div",{className:"text"},"\u4e0a\u5e02\u4ef7:"),u.a.createElement("del",{className:"price",style:{color:l}},t.pcpPrice)),this._renderPsCount(t,i)),this._renderButton(t,n)))))}}]),t}(s.PureComponent),i.propTypes={styleId:f.a.string,waresListConfig:f.a.object.isRequired,wareItem:f.a.object.isRequired,swiperIndex:f.a.number,swiperShownIndexs:f.a.array,lazyLoadImgResizeDisable:f.a.bool},i.contextType=v.a,l)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return O});var i,l,c,s,u=n(142),p=(n.n(u),n(0)),f=n.n(p),d=n(1),m=n(4),h=n(31),v=n(46),b=n(47),y=n(2),g=n(32),_=n(20),w=n(5),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=(c=l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));s.call(n);var o=n.props.floorData;return n.config=n._initConfig(o),n}return o(t,e),E(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.floorData,r=void 0===n?{}:n,a=t.eventCollector,o=r.contentInfos,i=r.video,l=r.themeId,c=this.config,s="";if("0"===l){if(!o||0===o.length)return null}else if("1"===l){if(!i)return null;i.playType="0",s=this.context.parseUrl(i),i=Object.assign({},i,{onStartEventId:"InfoGuideVideo",onStartSrv:i.srv,onPauseSrv:i.vedioSrv,onExitFullScreenSrv:i.vedioSrv,onDragSrv:i.vedioSrv})}return f.a.createElement("div",Object(d.c)(r),f.a.createElement("div",{className:c.styleClassName,style:c.floorStyle},"0"===l&&o.map(function(t,n){return s=e.context.parseUrl(t),f.a.createElement(w.a,{className:"one_info img_guide",key:n,component:"a",eventId:"Infoshoppingguide",params:Object(d.g)(t),target:"_blank",href:s},("1"===c.styleId||"3"===c.styleId||"2"===c.styleId)&&f.a.createElement(h.a,{mainTitle:t.name,subTitle:t.content}),f.a.createElement("div",{className:"info_img"},"0"===l&&f.a.createElement(v.a,{className:"guide_img_wrap",src:t.pictureUrl,showStartBtn:"2"===t.style}),"inInfoImg"===c.showPVPlace&&f.a.createElement(g.a,{pv:t.browseNum,className:"in_info_img white"})),"0"===c.styleId&&f.a.createElement(h.a,{mainTitle:t.name,subTitle:t.content}),c.showSubInfo&&f.a.createElement(b.a,{className:"guide_subinfo_wrap",authorPic:c.isShowPub?t.authorPic:"",authorName:c.isShowPub?t.authorName:"",pv:"subInfo"===c.showPVPlace?t.browseNum:""}))}),"1"===l&&f.a.createElement("div",{className:"one_info video_guide"},f.a.createElement("div",{className:"info_img"},f.a.createElement(_.a,{className:"guide_video_wrap",video:i,eventCollector:a,imgHeight:c.imgHeight})),f.a.createElement(w.a,{component:"a",eventId:"InfoGuideEntrance",params:i.guideEntranceSrv&&i.guideEntranceSrv.split("_"),target:"_blank",href:s},f.a.createElement(h.a,{mainTitle:i.advertName,subTitle:i.advertDesc})))))}}]),t}(p.PureComponent),l.contextType=y.a,s=function(){this.config={},this.floorData={},this._initConfig=function(e){if(!e)return{};var t={styleId:e.styleId,showPV:"0"!==e.showPV,floorStyle:{backgroundColor:e.backgroundColor}};switch(t.styleId){case"0":t.styleClassName="bigimg_high",t.showPVPlace=t.showPV?"inInfoImg":"",t.showSubInfo=!1,t.imgHeight=665;break;case"1":case"3":t.styleClassName="list",t.showSubInfo=!0,t.showPVPlace=t.showPV?"subInfo":"",t.imgHeight=294;break;case"2":t.styleClassName="bigimg_low",t.isShowPub="0"!==e.showPublisher,t.showSubInfo=!!t.isShowPub,t.showPV&&(t.showPVPlace=t.isShowPub?"subInfo":"inInfoImg");break;default:t.styleClassName="bigimg_high",t.showPVPlace=t.showPV?"inInfoImg":"",t.showSubInfo=!1}return t}},i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[m.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y});var i,l,c,s=n(144),u=(n.n(s),n(0)),p=n.n(u),f=n(1),d=n(4),m=n(2),h=n(5),v=n(3),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=(c=l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._bindSwipe=function(){setTimeout(function(){n.swiperIns=$(n.swiperDom).swiper({pagination:n.paginationDom,loop:!1,paginationClickable:!0,speed:500,slidesPerView:2,autoplayDisableOnInteraction:!1})},1)},n._swipePrevImg=function(){n.swiperIns.swipePrev()},n._swipeNextImg=function(){n.swiperIns.swipeNext()},n.swiperDom=null,n.paginationDom=null,n.swiperIns=null,n}return o(t,e),b(t,[{key:"render",value:function(){var e=this,t=this.props.floorData,n=void 0===t?{}:t;if(!n.guideInfos||!n.guideInfos.length)return null;var r=n.styleId;if("0"===r||"1"===r||"2"===r){var a=n.guideInfos[0],o=a.waresList,i=a.jdPrice;if(!o||o.length<4)return null;var l={0:"bottom",1:"right",2:"left"},c=l[r];return p.a.createElement("div",Object(f.c)(n),p.a.createElement(h.a,{className:c+" adv_prd_wrap single",component:"a",eventId:"Singleshoppingguide",params:Object(f.g)(a),target:"_blank",href:this.context.parseUrl(a)},p.a.createElement(v.a,{className:"adv_img",src:a.pictureUrl}),p.a.createElement("div",{className:"products_wrap"},o.map(function(e,t){return t<4&&p.a.createElement("div",{className:"one_product_wrap",key:t},p.a.createElement(v.a,{className:"product_image",src:e.image}),"1"===i&&p.a.createElement("div",{className:"price"},"\uffe5",e.pPrice))}))))}if("3"===r||"4"===r){var s=n.guideInfos;if(!s||!s.length||s.length<=1)return null;if(s=s.filter(function(e){return e.waresList&&e.waresList.length>=r}),!s.length)return null;var u="3"===r?"three":"four";return p.a.createElement("div",Object(f.c)(n),p.a.createElement("div",{className:"slide"},p.a.createElement("div",{className:"swiper-container",ref:function(t){return e.swiperDom=t}},p.a.createElement("div",{className:"swiper-wrapper"},s.map(function(t,n){return p.a.createElement("div",{className:"swiper-slide",key:n},p.a.createElement(h.a,{className:"adv_prd_wrap",component:"a",eventId:"Slideshoppingguide",params:Object(f.g)(t),target:"_blank",href:e.context.parseUrl(t)},p.a.createElement("img",{className:"adv_img",alt:"",src:t.pictureUrl}),p.a.createElement("div",{className:u+" products_wrap"},t.waresList.map(function(e,n){return n<r&&p.a.createElement("div",{className:"one_product_wrap",key:n},p.a.createElement("img",{className:"product_image",src:e.image,alt:""}),"1"===t.jdPrice&&p.a.createElement("div",{className:"price"},"\uffe5",e.pPrice))}))))}))),p.a.createElement("div",{className:"pagination",ref:function(t){return e.paginationDom=t}}),p.a.createElement("a",{className:"arrow arrow-left",href:"javascript:void(0);",onClick:this._swipePrevImg}),p.a.createElement("a",{className:"arrow arrow-right",href:"javascript:void(0);",onClick:this._swipeNextImg})))}}},{key:"componentDidMount",value:function(){this._bindSwipe()}}]),t}(u.PureComponent),l.contextType=m.a,i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[d.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return w});var i,l,c,s,u=n(146),p=(n.n(u),n(0)),f=n.n(p),d=n(2),m=n(22),h=n.n(m),v=n(1),b=n(3),y=n(5),g=n(4),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=(c=l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));s.call(n);var o=!(!e.floorData||!e.floorData.config||"1"!==e.floorData.config.above);return n.state={navShow:o,currMouleId:"",listShow:!0},n}return o(t,e),_(t,[{key:"componentDidMount",value:function(){this.state.navShow||window.addEventListener("scroll",this._scrollListener,!0),this.throttleEventHandler=h()(this._scrollListener1,30),window.addEventListener("scroll",this.throttleEventHandler,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.throttleEventHandler,!1),window.removeEventListener("scroll",this._scrollListener,!1)}},{key:"render",value:function(){var e=this.props.floorData,t=e.config&&(e.config.pageHead?Number(e.config.pageHead)+165:e.config.top),n={width:(e.config&&e.config.bgPicWidth)+"px",height:(e.config&&e.config.bgPicHeight)+"px",top:t+"px",display:this.state.navShow?"block":"none",backgroundColor:e.config&&e.config.bgColor},r=0;if(e)return e.config&&"1"===e.config.navStyle?(r=e.config.navWidth,n.width=r+"px",n.height="auto"):r=e.config.bgPicWidth,"1"===e.styleId?n.right=e.config.pageSide?-Number(r)-Number(e.config.pageSide)+"px":-Number(r)+"px":n.left=e.config.pageSide?-Number(r)-Number(e.config.pageSide)+"px":-Number(r)+"px",f.a.createElement("div",Object(v.c)(e),f.a.createElement("div",{className:"fn_container",style:n},"1"===e.config.navStyle?this._renderTextNav(e):this._renderImgNav(e)))}},{key:"textNavUnHover",value:function(e,t){t.stopPropagation(),t.preventDefault();var n=null;n="BUTTON"===t.target.tagName?t.target:t.target.parentNode,n.style.backgroundColor=e.tabDefaultColor,n.style.color=e.textDefaultColor}},{key:"textNavHover",value:function(e,t){t.stopPropagation(),t.preventDefault();var n=null;n="BUTTON"===t.target.tagName?t.target:t.target.parentNode,n.style.backgroundColor=e.tabChooseColor,n.style.color=e.textChooseColor}}]),t}(p.PureComponent),l.contextType=d.a,s=function(){var e=this;this._renderImgNav=function(t){return f.a.createElement("div",null,f.a.createElement(b.a,{src:t.config&&t.config.bgPicUrl,alt:t.config&&t.config.bgPicName,className:"fn_container_img",disabled:!1,resizeDisable:!0}),e._renderNavList(t.navList))},this._renderTextNav=function(t){if(t.tabList&&t.tabList.length){var n=e.state.listShow,r={height:n?31*t.tabList.length-1+"px":"0px"};return f.a.createElement("div",null,"1"===t.config.showHead?f.a.createElement("div",{className:"fn_container_text_imghead"},f.a.createElement(b.a,{src:t.config&&t.config.headPicUrl,alt:t.config&&t.config.headPicName,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAAAyCAYAAAC9F+53AAAAAXNSR0IArs4c6QAAA8hJREFUeAHtmtmOozAQRZ19T/7/F/OUfV9Gx9IdORZpmpYsuZBLogG7YEyd3HIZprNer9+umLkIdM2NuAzYR6CAM/pDKOAKOKMRMDrsorgCzmgEjA67KK6AMxoBo8MuijMKrm903LXDfr/frtfr+W0wGLjRaOT6/c/HvVwu7na7ucfj4Z7PZ+09c3L4fJKcRvbHsQALSMPh0IPqdDqVd7per759Pp+7+/3u4Z1Op0rfHBtbAw41TSYTDy2EhZKAGRsqfL1eXmlSJOeo0IKZBwek6XTqxuOx63Y/p2xSIFsVOHxj//g8Z4DmwJECURbKIMUtl0uHYqoMFcbzWpWf2lCcFTMHDmjAY6MACdNiHHRAqEiJ+6rOLRUon7ml6mkyagOSFASQOsNf6bLOF/WyWTFT4KgWNQ+hJlWG34INOJQpX8CgKs7ZOAYsZqmiZLxmUiUQKEJknB+PR69AqVB94V7wUKighf3Mj9bUxvjNgENtYXWI2lDNdrt1i8XCKysEEh8DsAowMHe7nZ8L42tyPjeVKgkkyqGiPBwOPq7AI/Coj+MmhtI2m03j65r8G6l8zSgOWEp17EMDJnMUKmQ9F6sz9OWY68/ns/8B/KbIia/P4bzTxv/lRQFDWqQwYa91HgoDrtJsDgD+OgZzqfI3D0rK5OUx6RRYMoChtKYpVdfntG8lOAUYpZE6ZRQobTEzc1yTgAMMVc1ms//rvibXW/BtpeIoOMJ3mBQjVouQbz+iVoLTHMYcBzTWelY+13wDFbe3MlXyIlrQqCqBR5ESLuDjQFg7byU4VY56LQYUKspSnGT+81SqZF4L57bwOPNHqB1eq+Y4wPykqp/6aiOVmYPpVMkbEuYzKYllAHCUFumnKKFdb1DoCwHLP1yoZ8aocjimwQEAIADiWBvvKgFCyqSNb258EmIfLw3kVxmdjBvNg6NSBAivuICAAYt2YAkefbyI5pyFOV8ULJtpcIKE4kiHGIAAxx51YSiQNl5/ARTf1WrlIeLHJyH5+gsM/DFdnABD6zWWABgQURYg9vu9h8O8hiKZ77QQxwelMrdZg+af0z+t0T+oRfMZEACJCQSFCz76vBNC4lgqtPj4phUHFIoTVEcKBBDqwlAU/bQDFx+MeU+VpRbq9Fsz8x9SAYfaSJFsHMuAhqrCduCSNmX0AVgqVXvue/PFiUBRLbKFJhhhewgN37AvvDb3Y9OpMvfgphxfAZcyugnvXcAlDG7KWxdwKaOb8N4FXMLgprx1AZcyugnvXcAlDG7KWxdwKaOb8N4FXMLgprz1P7uWLfweaFNrAAAAAElFTkSuQmCC",disabled:!0,resizeDisable:!0})):null,f.a.createElement("div",{className:"fn_container_text_items",style:r},e._renderTextList(t.tabList)),"1"===t.config.navFold?e._renderShowNavButton():null)}},this._renderNavList=function(t){if(!t||!t.length)return null;var n=e.props.floorData;return f.a.createElement("div",{className:"fn_container_items"},t.map(function(t,r){return t.url||t.moduleId?f.a.createElement(y.a,{component:"button",delay:200,eventId:"FloatNav",params:n.config&&n.config.srv&&n.config.srv.split("_"),key:"float_nav_hotzone_"+r,className:"fn_container_item",target:"_blank",style:{width:t.w+"px",height:t.h+"px",top:t.y+"px",left:t.x+"px"},onClick:function(){e._jump(t)}},"dsfsdfsdf"):null}))},this._renderTextList=function(t){var n=e.props.floorData,r=e;return t.map(function(t,a){var o={backgroundColor:t.tabDefaultColor,color:t.textDefaultColor};return"0"===t.urlType&&t.moduleId&&""+r.state.currMouleId===""+t.moduleId?(o.backgroundColor=t.tabChooseColor,o.color=t.textChooseColor):"1"===t.urlType&&e.context.activityData.pageUrl&&e.context.activityData.pageUrl.indexOf(t.url)>-1&&(o.backgroundColor=t.tabChooseColor,o.color=t.textChooseColor),t.url||t.moduleId?f.a.createElement(y.a,{component:"button",delay:200,eventId:"Babel_FloatNav",params:n.config&&n.config.srv&&n.config.srv.split("_"),key:"float_nav_hotzone_"+a,className:"fn_container_text_item",target:"_blank",onClick:function(){e._jump(t)},style:o,onMouseEnter:function(n){e.textNavHover(t,n)},onMouseLeave:function(n){e.textNavUnHover(t,n)}},"1"===n.config.anchorIcon?f.a.createElement("span",{className:"fn_container_text_item_mao"}):null,f.a.createElement("span",null,t.content),"1"===n.config.navArrow?f.a.createElement("span",{className:"fn_container_text_item_arrow"}):null):null})},this._renderShowNavButton=function(){var t=e.state.listShow?"\u6536\u8d77":"\u5c55\u5f00";return f.a.createElement("button",{className:"show_nav",onClick:e._clickShowNavButton},f.a.createElement("span",{className:"show_nav_text"},t,"\u5bfc\u822a"),f.a.createElement("span",{className:"show_nav_icon "+(e.state.listShow?"":"close")}))},this._clickShowNavButton=function(){e.setState({listShow:!e.state.listShow})},this._jump=function(t){if(t){var n=t.urlType,r=t.moduleId;if("1"===t.isHead)return void window.scrollTo(0,0);if("0"===n)return e.props.onScrollToTargetFloor&&e.props.onScrollToTargetFloor(r,10),void e.setState({currMouleId:r});var a=t.url;a&&a.indexOf("//")>=0&&Object(v.h)(a)}},this._scrollListener=function(){var t=0,n=window.innerHeight;document.documentElement&&document.documentElement.scrollTop?t=document.documentElement.scrollTop:document.body&&(t=document.body.scrollTop),t>=n?e.state.navShow||e.setState({navShow:!0}):e.state.navShow&&e.setState({navShow:!1})},this._scrollListener1=function(){var t=e.context.getCurrMouleIdScroll();t!==e.state.currMouleId&&e.setState({currMouleId:t})}},i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[g.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return _});var i,l,c,s=n(148),u=(n.n(s),n(0)),p=n.n(u),f=n(22),d=n.n(f),m=n(1),h=n(3),v=n(5),b=n(4),y=n(2),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=(c=l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._renderNavList=function(e){var t=(n.props.floorData,n.state.scale);return e.map(function(e,r){return p.a.createElement(v.a,{component:"button",delay:200,eventId:"Babel_FullScreenHotTab",params:e.jump&&e.jump.srv&&e.jump.srv.split("_"),key:"full_screen_pic_"+r,className:"fn_container_item",style:{width:e.w*t+"px",height:e.h*t+"px",top:e.y*t+"px",left:e.x*t+"px"},onClick:function(t){n._jump(t,e)}},"dsfsdfsdf")})},n._jump=function(e,t){if(e.stopPropagation(),e.preventDefault(),t){var r=n.context.parseUrl(t);r&&r.indexOf("//")>=0&&Object(m.h)(r)}},n._getScale=function(){var e=document.documentElement?document.documentElement.clientWidth:document.body.clientWidth;n.setState({scale:e/990,width:e})},n.state={scale:1,width:990},n}return o(t,e),g(t,[{key:"componentDidMount",value:function(){this._getScale(),this.throttleEventHandler=d()(this._getScale,30),window.addEventListener("resize",this.throttleEventHandler,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.throttleEventHandler,!1)}},{key:"render",value:function(){var e=this,t=this.props.floorData,n=t.config,r=t.adsList,a={backgroundColor:n&&n.bgColor,width:"100%"},o=this.state.width,i="full_scrren_item "+(n&&"1"===n.isSplitLine?"full_scrren_item_split":"");return p.a.createElement("div",Object.assign({},Object(m.c)(t),{style:a}),r.map(function(t,n){return p.a.createElement(v.a,{component:"a",delay:200,eventId:"FullScreenPic",params:t.jump&&t.jump.srv&&t.jump.srv.split("_"),key:"fullScreenPic-"+n,className:i,target:t.inkTarget||"_blank",href:e.context.parseUrl(t)},p.a.createElement(h.a,{src:t.pictureUrl,className:"full_scrren_item_pic",width:"100%",height:parseInt(o/t.picWidth*t.picHeight,10),resizeDisable:!0}))}),this._renderNavList(n.hotZoneList||[]))}}]),t}(u.PureComponent),l.contextType=y.a,i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[b.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return P});var l,c,s,u,p=n(150),f=(n.n(p),n(0)),d=n.n(f),m=n(1),h=n(4),v=n(2),b=n(5),y=n(3),g=n(11),_=n(8),w=n(27),E=(n.n(w),n(7)),O=n.n(E),N=n(15),C=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P=(s=c=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));u.call(n);var r=n.props.floorData;return n.config=n._initConfig(r),n.floorData=n._initFloorData(r),n.swiperDom=null,n.swiperIns=null,n.paginationDom=null,n.state={hasFollowedMap:n.floorData.hasFollowedMap||{}},n}return i(t,e),I(t,[{key:"render",value:function(){var e=this,t=this.floorData,n=t.shopList,r=t.tplCfg;if(!n||!n.length)return null;var a=this.config,o=this.state.hasFollowedMap,i=r.btncfg,l=i?"0"===i.style?{backgroundColor:i.bgColor}:{backgroundImage:"url("+i.picUrl+")",backgroundColor:"transparent"}:null,c=function(t,n){return d.a.createElement(b.a,{className:"one_store",component:"a",eventId:"Shop",params:Object(m.g)(t),target:"_blank",href:e.context.parseUrl(t),key:n},d.a.createElement(y.a,{className:"logo",src:t.logo,disabled:"3"===a.styleId,resizeDisable:!0}),d.a.createElement("div",{className:"infos"},d.a.createElement("div",{className:"name"},a.showAuxPic&&t.auxPic&&d.a.createElement(y.a,{src:t.auxPic,className:"aux-pic",resizeDisable:!0}),t.name),a.storeEntrance&&d.a.createElement("div",{className:"comecomemyfriend",style:l},i&&"1"===i.style?"":"\u8fdb\u5e97\u770b\u770b"),d.a.createElement("div",{className:"coupon_focusnum"},a.showCps&&d.a.createElement("div",{className:"coupon"}),a.showLbl&&t.label&&d.a.createElement("div",{className:"label"},t.label),a.showAttn&&d.a.createElement("div",{className:"focus"},t.atten))),d.a.createElement("div",{className:"product_list"},t.skuInfoList&&t.skuInfoList.map(function(t,n){return d.a.createElement(y.a,{className:"product",src:t.image,key:n,disabled:"3"===a.styleId,onClick:function(n){e._goProductDetail(t,n)},resizeDisable:!0})})),a.showSlgn&&d.a.createElement("div",{className:"des"},t.slogan))},s=function(t,n){return d.a.createElement(b.a,{className:"one_store",component:"a",eventId:"Shop",params:Object(m.g)(t),target:"_blank",href:e.context.parseUrl(t),key:n},d.a.createElement("div",{className:"adv"},d.a.createElement(y.a,{src:t.pictureUrl,resizeDisable:!0})),d.a.createElement("div",{className:a.typeClass+" info"},a.showCoupon&&d.a.createElement("div",{className:"logo"},d.a.createElement(y.a,{src:t.logo})),d.a.createElement("div",{className:"name"},t.name),d.a.createElement("div",{className:"sub"},t.subTitle),a.showFollowGift&&"1"===t.followGift&&d.a.createElement(b.a,{className:"follow_gift",component:"div",eventId:"ShopFollowGift",params:t.showFollowGiftSrv,onClick:function(n){n.preventDefault(),n.stopPropagation(),window.open(e.context.parseUrl(t))}}),a.showCoupon&&d.a.createElement("div",{className:"coupon_info"},d.a.createElement("div",{className:"coupon_img",onClick:function(n){return e._receive(n,t)}},d.a.createElement("span",null,t.couponInfo.discount)),d.a.createElement("div",{className:"comecome"},"\u8fdb\u5e97\u901b\u901b"))))};return d.a.createElement("div",Object.assign({},Object(m.c)(this.floorData),{style:a.floorStyle}),["0","1","2"].includes(a.styleId)&&n.map(function(e,t){return["1","2"].includes(a.styleId)?d.a.createElement("div",{className:a.styleClassName+" one_line",key:t},c(e,t)):"0"===a.styleId&&t%2!==1&&n[t+1]?d.a.createElement("div",{className:a.styleClassName+" one_line",style:a.floorStyle,key:t},c(e,t),c(n[t+1],t+1)):null}),"3"===a.styleId&&d.a.createElement(N.a,{className:"swiper-container",loop:!0,indicatorsClickable:!0},n.map(function(e,t){return d.a.createElement("div",{className:a.styleClassName+" one_line swiper-slide",key:t},c(e,t))})),"4"===a.styleId&&n.map(function(t,n){return d.a.createElement("div",{className:a.styleClassName+" one_line",key:n},d.a.createElement(b.a,{className:"adv",component:"a",eventId:"Shop",params:Object(m.g)(t),target:"_blank",href:e.context.parseUrl(t)},d.a.createElement(y.a,{className:"bg",src:t.pictureUrl,resizeDisable:!0}),a.showLogo&&d.a.createElement(y.a,{className:"logo",src:t.logo}),d.a.createElement("div",{className:"info"},a.showName&&d.a.createElement("div",{className:"name"},t.name),a.showSlgn&&d.a.createElement("div",{className:"des"},t.slogan)),a.showAttn&&d.a.createElement("div",{className:(o[t.rid]?"starred":"")+" star",onClick:function(n){return e._focus(t,n)}},d.a.createElement("span",null,o[t.rid]?"\u5df2\u5173\u6ce8":t.atten)),a.showFollowGift&&d.a.createElement(b.a,{className:"follow_gift",component:"div",eventId:"ShopFollowGift",params:t.showFollowGiftSrv&&t.showFollowGiftSrv.split("_"),onClick:function(n){n.preventDefault(),n.stopPropagation(),window.open(e.context.parseUrl(t))}})),t.skuInfoList&&t.skuInfoList.length>0&&d.a.createElement("div",{className:"product_list"},t.skuInfoList.map(function(t,n){var r=/^[0-9]/.test(t.pPrice);return d.a.createElement(b.a,{className:"product",component:"a",eventId:"ShopPd",key:n,params:Object(m.g)(t),target:"_blank",href:e.context.parseUrl(t)},d.a.createElement(y.a,{src:t.image,onClick:function(n){e._goProductDetail(t,n)},resizeDisable:!0}),d.a.createElement("p",{className:"name"},t.name),t.pPrice&&d.a.createElement("p",{className:O()({not_number:!r},"price")},r&&"\uffe5"+t.pPrice,!r&&t.pPrice))})))}),"5"===a.styleId&&n.map(function(e,t){return t%2!==1&&n[t+1]?d.a.createElement("div",{className:a.styleClassName+" one_line",style:a.floorStyle,key:t},s(e,t),s(n[t+1],t+1)):null}))}},{key:"componentDidMount",value:function(){"3"===this.config.styleId&&this._bindSwipe()}}]),t}(f.PureComponent),c.contextType=v.a,u=function(){var e=this;this.config={},this._goProductDetail=function(t,n){var r=e.context.parseUrl(t);r&&(n.preventDefault(),Object(m.h)(r))},this._initConfig=function(e){if(!e)return{};var t=e.styleId,n=e.tplCfg,r=void 0===n?{}:n,a={styleId:t,showAttn:"1"===r.showAttn,showCps:"1"===r.showCps,showLbl:"1"===r.showLbl,showAuxPic:"1"===r.showAuxPic,floorStyle:{backgroundColor:e.backgroundColor}};switch(a.styleId){case"0":a.styleClassName="small_pic";break;case"1":case"2":a.styleClassName="three_pic",a.showSlgn="1"===r.showSlgn,a.storeEntrance=!0;break;case"3":a.styleClassName="carousel",a.showSlgn="1"===r.showSlgn,a.storeEntrance=!0;break;case"4":a.styleClassName="pic_product",a.showSlgn="1"===r.showSlgn,a.showName="1"===r.showName,a.showAttn="1"===r.showAttn,a.showLogo="1"===r.showLogo,a.showFollowGift="1"===r.showFollowGift;break;case"5":a.styleClassName="store_coupon",a.typeClass="1"===r.couponStyle?"coupon":"follow",a.showCoupon="1"===r.couponStyle,a.showFollowGift="2"===r.couponStyle;break;default:a.styleClassName="small_pic"}return a},this._initFloorData=function(t){if(!t)return{};var n=t.shopList,r=void 0===n?[]:n;"3"===t.styleId?r.length>6&&(r=r.slice(0,6)):r.length>30&&(r=r.slice(0,30));var a=[],o={};return r.forEach(function(t){var n="";n=t.groupId?t.groupId:"4"===e.config.styleId&&"0"===e.config.autoPullPrds?0:t.shopId,a.push(n),t.rid=n,o[t.rid]="Y"===t.hasFollowed}),Object.assign({},t,{shopList:r,relatedIds:a,hasFollowedMap:o})},this._bindSwipe=function(){if(e.swiperDom){var t=e.floorData.shopList,n=[t[t.length]].concat(r(t),[t[0]]);e.swiperIns=$(e.swiperDom).swiper({pagination:e.paginationDom,loop:!0,grabCursor:!0,paginationClickable:!0,speed:500,onSlideClick:function(t,a){var o,i=n[t.activeIndex];if(!e.context.parseUrl(i))return a.preventDefault(),a.stopPropagation(),!1;var l=Object(m.g)(i)||[];(o=e.context.tracking).sendClickTracking.apply(o,["Babel","Shop"].concat(r(l)))},autoplayDisableOnInteraction:!1})}},this._swipePrevImg=function(){e.swiperIns&&e.swiperIns.swipePrev()},this._swipeNextImg=function(){e.swiperIns&&e.swiperIns.swipeNext()},this._focus=function(t,n){var a=Object.assign({},e.state.hasFollowedMap),o=a[t.rid],i=o?"0":"1",l=_.frontInterfaceHost+"/client.action?functionId=followVender",c=Object(g.getBabelUrlParam)({isFollow:i,shopId:t.rid});Object(g.doJsonP)(l,c).then(function(n){if("0"===n.code){var i;a[t.rid]=!o,e.setState({hasFollowedMap:a});var l=o?"ShopFollowCancel":"ShopFollow",c=t.followVenderSrv&&t.followVenderSrv.split("_")||[];(i=e.context.tracking).sendClickTracking.apply(i,["Babel",l].concat(r(c)))}else"3"===n.code&&e.context.goLogin()}).catch(function(){}),n.stopPropagation(),n.preventDefault()},this._receive=function(t,n){t.stopPropagation(),t.preventDefault();var a=n.couponInfo,o=n.shopId,i=e.context,l=i.activityData,c=i.callPopLayer,s=_.frontInterfaceHost+"/client.action?functionId=newBabelAwardCollection",u=Object(g.getBabelUrlParam)({activityId:l.encodeActivityId,scene:a.scene||"",args:a.args,cpId:a.cpId});Object(g.doJsonP)(s,u).then(function(t){if("0"===t.code){var i,l=t.subCode,s=t.subCodeMsg,u={coupon_receive:"A1\u3001A12\u3001B1\u3001B13",coupon_empty:"A6\u3001A15\u3001B3\u3001B4\u3001B9\u3001B10\u3001B11\u3001A3\u3001A4\u3001A5\u3001B5\u3001B6",coupon_today_receive:"A13",coupon_today_empty:"A9\u3001A14\u3001B12\u3001B14",coming:"A7\u3001A8\u3001B2"},p="icon-wrong",f=!0,m=!1,h=void 0;try{for(var v,b=Object.entries(u)[Symbol.iterator]();!(f=(v=b.next()).done);f=!0){var y=v.value,w=C(y,2),E=w[0];if(null!==w[1].match(l)){p="coupon_receive"===E?"icon-right":"icon-wrong";break}}}catch(e){m=!0,h=e}finally{try{!f&&b.return&&b.return()}finally{if(m)throw h}}if("A66"===l&&o)return void c({iconClass:"icon-wrong",closeText:"\u4e0d\u9886\u4e86",confirmText:"\u5173\u6ce8\u5e97\u94fa\u5e76\u9886\u53d6",content:"\u6b64\u5238\u4e3a\u5e97\u94fa\u7c89\u4e1d\u7528\u6237\u4e13\u4eab\uff0c\u6210\u4e3a\u7c89\u4e1d\u624d\u53ef\u9886\u53d6\u54e6",autoClose:!1,onClose:function(){e.context.tracking.sendClickTrackingJSON("Babel_ShopCouponFansGiveup",a.jsonSrv)},onConfirm:function(){e.context.tracking.sendClickTrackingJSON("Babel_ShopCouponFansGet",a.jsonSrv);var r=_.frontInterfaceHost+"/client.action?functionId=followVender",i=Object(g.getBabelUrlParam)({isFollow:"1",shopId:o});Object(g.doJsonP)(r,i).then(function(t){"0"!==t.code||"0"!==t.subCode&&"4"!==t.subCode?c({iconClass:"icon-wrong",content:t.returnMsg}):e._receive({stopPropagation:function(){},preventDefault:function(){}},n)}).catch(function(e){c({iconClass:"icon-wrong",content:t.returnMsg})})}});c({iconClass:p,content:s});var O=a.srv.split("_");(i=e.context.tracking).sendClickTracking.apply(i,["Babel","ShopCoupon"].concat(r(O)))}else if("3"===t.code){!function(){window.jdModelCallCenter={init:function(){window.location.reload()}},c({custom:!0,onClose:function(){e.isReceiving=!1},children:d.a.createElement("div",{className:"loginFrame"},d.a.createElement("div",{className:"title"},"      ",d.a.createElement("span",null,"\u60a8\u5c1a\u672a\u767b\u5f55"),"     "),d.a.createElement("iframe",{className:"content",src:"https://passport.jd.com/uc/popupLogin2013?clstag1=0&clstag2=0&r=0.6454123188319558&t=1565599380779",title:"dialogIframe"}))})}()}else c({iconClass:"icon-wrong",content:"\u6b64\u65f6\u6392\u961f\u9886\u5238\u7684\u4eba\u592a\u591a\uff0c\u4f11\u606f\u4e00\u4f1a\u513f\u518d\u8bd5\u8bd5\u5427\uff01"})}).catch(function(){})}},l=s,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(l.prototype,"render",[h.a],Object.getOwnPropertyDescriptor(l.prototype,"render"),l.prototype),l)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return g});var i=n(152),l=(n.n(i),n(0)),c=n.n(l),s=n(9),u=n.n(s),p=n(7),f=n.n(p),d=n(1),m=n(24),h=n(3),v=n(12),b=n(18),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._navSticky=!1,n._setRef=function(e){n._ref=e},n._setMultiBodyRef=function(e){n._multiBodyRef=e},n._setLazyLoadImgRef=function(e){n.lazyLoadImgRefArray.push(e)},n._setSwiperRef=function(e){n._swiperRef=e},n._renderTab=function(){var e=n.props.floorData,t=e.tabList,r=e.tabConfig;if(!t||!r||t.length<2)return null;var a=n.state,o=a.selectedTab,i=a.selectedSecondTab,l=a.picNavTransLateCount,s=t.length>6,u=100/t.length+"%";return c.a.createElement(m.a,{onFixed:n._onNavSticky,onUnfixed:n._onNavUnsticky,disable:n.props.disableStickyView},c.a.createElement("ul",{className:"mmt-tablist",style:{backgroundColor:r.tabBgColor}},s&&c.a.createElement("div",{onClick:n._scrollNavLeft,className:"multimodule-ctrl left"}),c.a.createElement("div",{className:"multimodule-content",style:Object.assign({},Object(v.c)("translateX(-"+165*l+"px)"),{width:(t.length<=6?990:165*t.length)+"px"})},t.map(function(e,t){var a=o===e;return c.a.createElement(b.a,{component:"li",eventId:"MultipleTab",params:e.srv,key:e.groupId,className:f()({"mmt-tabitem":!0,selected:a}),style:{color:a?r.color:r.unSelectColor,width:u},onHover:function(){n._onTabHover(e,t)},jsonSrv:"1"},"1"===r.styleId&&e.name&&c.a.createElement("span",null,e.name),"1"===r.styleId&&e.name&&a&&c.a.createElement("span",{className:"line",style:{backgroundColor:r.color}}),"2"===r.styleId&&e.defaultPicUrl&&c.a.createElement(h.a,{className:"tab-img",src:a?e.activePicUrl:e.defaultPicUrl,ref:n._setLazyLoadImgRef,index:t,resizeDisable:!0}))})),s&&c.a.createElement("div",{onClick:n._scrollNavRight,className:"multimodule-ctrl right"})),o.secondTabList&&o.secondTabList.length>1&&c.a.createElement("ul",{className:"second-tablist",style:{backgroundColor:r.subTabCfg.tabBgColor}},o.secondTabList.map(function(e,t){var a=i===e;return c.a.createElement(b.a,{component:"li",eventId:"MultipleSTab",params:e.srv,key:e.groupId,className:f()({"second-tabitem":!0,selected:a}),style:{color:a?r.subTabCfg.color:r.subTabCfg.unSelectColor,borderColor:a?r.subTabCfg.color:r.subTabCfg.unSelectColor},onHover:function(){n._onSecondTabHover(e,t)},jsonSrv:"1"},c.a.createElement("span",null,e.name))})))},n.onNextControlButtonClick=function(){n.lazyLoadImgRefArray.forEach(function(e){"function"===typeof e._tryLoad&&e._tryLoad()})},n._renderModuleFloor=function(){var e=n.state,t=e.selectedTab,r=e.selectedSecondTab,a=n.props.floorData.multiModuleList,o="",i=a.find(function(e){if(t.secondTabList.length>1)o=String(r.groupId);else{var n=t.secondTabList||[],a=n[0]||{};o=String(a.groupId||"")}return String(e.groupId)===o});return i&&n.props.renderFloors?c.a.createElement("div",{key:o,className:"multi-module-body",ref:n._setMultiBodyRef},n.props.renderFloors(i.multiModuleFloorList)):null},n._onTabHover=function(e,t){if(e===n.state.selectedTab)return void(n._navSticky&&window.scrollTo(0,n._multiBodyRef.getBoundingClientRect().x-100));var r=n.props.floorData.tabList;t>r.length-5?t=r.length-6:t>1?t-=2:t=0,n._swiperRef&&n._swiperRef._slide(t),n.setState({selectedTab:e,selectedSecondTab:e.secondTabList.length>1?e.secondTabList[0]:{}},function(){setTimeout(function(){n.onNextControlButtonClick()},300)})},n._onSecondTabHover=function(e){if(e===n.state.selectedSecondTab)return void(n._navSticky&&window.scrollTo(0,n._multiBodyRef.getBoundingClientRect().x-100));n.setState({selectedSecondTab:e},function(){setTimeout(function(){n.onNextControlButtonClick()},300)})},n._getState=function(){var e=n.props.floorData.tabList;return e.length?{selectedTab:e[0],selectedSecondTab:e[0].secondTabList?e[0].secondTabList[0]:{},picNavTransLateCount:0}:{}},n._onNavSticky=function(){n._navSticky=!0},n._onNavUnsticky=function(){n._navSticky=!1},n._scrollNavLeft=function(){var e=n.state.picNavTransLateCount;if(e>0){var t=void 0;t=e-n.itemPerPage<=0?0:e-n.itemPerPage,n.setState({picNavTransLateCount:t},function(){})}},n._scrollNavRight=function(){var e=n.state.picNavTransLateCount,t=n.props.floorData.tabList,r=Math.ceil(t.length/n.itemPerPage),a=t.length;if(e/n.itemPerPage<r-1){var o=void 0;o=e+n.itemPerPage>a-n.itemPerPage?a-n.itemPerPage:e+n.itemPerPage,n.setState({picNavTransLateCount:o},function(){})}},n.state=n._getState(),n.lazyLoadImgRefArray=[],n.itemPerPage=6,n}return o(t,e),y(t,[{key:"componentDidUpdate",value:function(e,t){if(this._navSticky){var n=!1;if(t.selectedTab!==this.state.selectedTab?n=!0:t.selectedTab===this.state.selectedTab&&t.selectedSecondTab!==this.state.selectedSecondTab&&(n=!0),n){var r=u.a.findDOMNode(this._ref);window.scrollTo(0,Math.ceil(window.pageYOffset+r.getBoundingClientRect().top))}}}},{key:"render",value:function(){var e=this.props.floorData,t=e.multiModuleList,n=e.tabList;return t&&t.length&&n&&n.length?c.a.createElement("div",Object.assign({},d.c(e),{ref:this._setRef}),this._renderTab(),this._renderModuleFloor()):null}}]),t}(l.PureComponent);g.getFloorHeight=function(e,t,n){var r=e.multiModuleList,a=e.tabList,o=e.tabConfig;if(!r||!r.length||!a||!a.length)return 0;var i=a[0].secondTabList,l=r.find(function(e){return String(e.groupId)===String(i[0].groupId)});return l&&l.multiModuleFloorList?(o&&a.length<2?0:50)+(i.length>1?50:0)+n(l.multiModuleFloorList):0}},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return O});var i,l,c,s=n(154),u=(n.n(s),n(0)),p=n.n(u),f=n(1),d=n(4),m=n(2),h=n(49),v=n(156),b=n(20),y=n(158),g=n(50),_=n(161),w=n(12),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=(c=l=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o._initWrapperStyle=function(e,t){return{backgroundColor:"0"===e.bgStyle&&e.bgColor,backgroundImage:"1"===e.bgStyle&&"url("+e.bgPicUrl+")",backgroundSize:"100%",height:Object(f.f)(t)}},o._getElements=function(e,t){var n=o.props.eventCollector,r=[];return e.forEach(function(e,a){switch(e.type){case"1":r.push(p.a.createElement(h.a,{key:a,element:e,data:t[e.key],eventId:"DIYPic"}));break;case"101":r.push(p.a.createElement(v.a,{key:a,element:e,data:t[e.key],eventId:"DIYAd"}));break;case"80":var o=t[e.key],i=Object(f.f)(e.h),l={playType:"1"===o.playType?"0":"1",pictureUrl:o.pictureUrl,videoDuration:o.duration,videoUrl:o.videoUrl,onEndEventId:"DIYVideoEndVirtual",oneEndSrv:o.srv},c="translate("+Object(f.f)(e.x)+"px, "+Object(f.f)(e.y)+"px)",s=Object.assign({width:Object(f.f)(e.w)},Object(w.c)(c));r.push(p.a.createElement(b.a,{key:a,video:l,imgHeight:i,className:"custom_ads_video_wrap",eventCollector:n,style:s}));break;case"103":r.push(p.a.createElement(y.a,{key:a,element:e,data:t[e.key],eventCollector:n}));break;case"3":r.push(p.a.createElement(g.a,{key:a,element:e,data:t[e.key],eventId:"DIYBase",className:"c-ads-text"}));break;case"102":r.push(p.a.createElement(_.a,{key:a,element:e,data:t[e.key],eventId:"DIYWord"}))}}),r},i=n,a(o,i)}return o(t,e),E(t,[{key:"render",value:function(){var e=this.props.floorData,t=void 0===e?{}:e,n=t.flexibleFloor,r=void 0===n?{}:n,a=r.elementList,o=r.flexibleData,i=r.config;if(!a||!a.length||!o||!Object.keys(o).length)return null;var l=this._initWrapperStyle(i,t.height),c=this._getElements(a,o);return p.a.createElement("div",Object(f.c)(t),p.a.createElement("div",{className:"custom_ads_wrapper",style:l},c))}}]),t}(u.PureComponent),l.contextType=m.a,i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[d.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return O});var l,c,s=n(27),u=(n.n(s),n(157)),p=(n.n(u),n(0)),f=n.n(p),d=n(6),m=n.n(d),h=n(1),v=n(49),b=n(17),y=n(12),g=n(15),_=n(3),w=n(2),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=(c=l=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onSlideEnd=function(){_.a.triggerLoadCheck()},n.state={slideRight:0},n}return i(t,e),E(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.element,n=e.data;if("1"===t.style){var r=n.reduce(function(e,t){return e+Number(t.w)},0),a=Number(t.x)+r-b.b;a>0&&this.setState({slideRightSize:Object(h.f)(a),slideRight:0,slideDisplaySize:Object(h.f)(b.b-Number(t.x))})}}},{key:"render",value:function(){var e=this.props,t=e.element,n=e.data,a=r(e,["element","data"]);if("0"===t.style)return f.a.createElement("div",{className:"adv_list spread"},n.map(function(e,t){return f.a.createElement(v.a,Object.assign({key:t,element:e,data:e,imgWidth:e.picWidth,imgHeight:e.picHeight},a))}));if("1"===t.style){var o="translate("+Object(h.f)(t.x)+"px, "+Object(h.f)(t.y)+"px)",i=Object.assign({height:Object(h.f)(n[0].h),width:Object(h.f)(n[0].w)},Object(y.c)(o)),l={x:t.x,y:t.y,w:n[0].w,h:n[0].h};return f.a.createElement(g.a,{className:"adv_list slide",loop:!0,speed:500,autoplay:!1,delay:2e3,indicatorsClickable:!0,style:i,onSlideEnd:this._onSlideEnd},n.map(function(e,t){return f.a.createElement(v.a,Object.assign({key:t,element:l,data:e,imgWidth:e.picWidth,imgHeight:e.picHeight,needTransform:!1,disabled:!0},a))}))}if("2"===t.style||"3"===t.style){var c="translate("+Object(h.f)(t.x)+"px, "+Object(h.f)(t.y)+"px)",s=Object.assign({width:Object(h.f)(t.w),height:Object(h.f)(t.h)},Object(y.c)(c));return f.a.createElement(g.a,{className:"adv_list carousel",loop:!0,speed:500,autoplay:!0,delay:2e3,indicatorsClickable:!0,style:s,onSlideEnd:this._onSlideEnd,isVertical:"3"===t.style,needCtlBtnStyle:"3"!==t.style,showIndicators:"2"===t.style},n.map(function(e,n){return f.a.createElement(v.a,Object.assign({className:"swiper-slide",key:n,element:t,data:e,imgWidth:e.picWidth,imgHeight:e.picHeight,needTransform:!1,disabled:!0},a))}))}return null}}]),t}(p.PureComponent),l.contextType=w.a,l.propTypes={element:m.a.object.isRequired,data:m.a.array.isRequired},c)},function(e,t){},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return w});var l,c,s=n(159),u=(n.n(s),n(0)),p=n.n(u),f=n(6),d=n.n(f),m=n(1),h=n(20),v=n(27),b=(n.n(v),n(15)),y=n(12),g=n(2),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=(c=l=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._getVideoCompObj=function(e){return{imgHeight:Object(m.f)(e.h),video:{playType:"1"===e.playType?"0":"1",pictureUrl:e.pictureUrl,videoDuration:e.duration,videoUrl:e.videoUrl,onStartEventId:"DIYVideoGroup",onStartSrv:e.srv,onEndEventId:"DIYVideoEndVirtual",oneEndSrv:e.videoEndVirtualSrv},style:{width:Object(m.f)(e.w),transform:"translate("+Object(m.f)(e.x)+"px, "+Object(m.f)(e.y)+"px)"}}},n._onVideoPlay=function(){n.swiperDom.stop(),n.setState({showIndicators:!1})},n._onVideoPause=function(){n.swiperDom.start(),n.setState({showIndicators:!0})},n.swiperDom=null,n.state={showIndicators:!0},n}return i(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.element,a=t.data,o=r(t,["element","data"]);if("0"===n.style)return p.a.createElement("div",{className:"video_list spread"},a.map(function(t,n){var r=e._getVideoCompObj(t);return p.a.createElement(h.a,Object.assign({key:n,className:"custom_ads_video_wrap",video:r.video,imgHeight:r.imgHeight,style:r.style},o))}));if("1"===n.style){var i=Object.assign({height:Object(m.f)(n.h),width:Object(m.f)(n.w/n.count)},Object(y.c)("translate("+Object(m.f)(n.x)+"px, "+Object(m.f)(n.y)+"px)"));return p.a.createElement(b.a,{className:"video_list slide",loop:!0,autoplay:!0,delay:2e3,speed:500,indicatorsClickable:!0,style:i,ref:function(t){return e.swiperDom=t},showIndicators:this.state.showIndicators},a.map(function(t,n){var r=e._getVideoCompObj(t),a={width:Object(m.f)(t.w)};return p.a.createElement(h.a,Object.assign({key:n,className:"custom_ads_video_wrap",video:r.video,imgHeight:r.imgHeight,style:a,onVideoPlay:e._onVideoPlay,onVideoPause:e._onVideoPause},o))}))}if("2"===n.style){var l="translate("+Object(m.f)(n.x)+"px, "+Object(m.f)(n.y)+"px)",c=Object.assign({width:Object(m.f)(n.w),height:Object(m.f)(n.h)},Object(y.c)(l));return p.a.createElement(b.a,{className:"video_list carousel",loop:!0,autoplay:"1"===n.isRolling,delay:2e3,speed:500,indicatorsClickable:!0,style:c,ref:function(t){return e.swiperDom=t},showIndicators:this.state.showIndicators},a.map(function(t,n){var r=e._getVideoCompObj(t),a={width:Object(m.f)(t.w)};return p.a.createElement(h.a,Object.assign({key:n,className:"custom_ads_video_wrap",video:r.video,imgHeight:r.imgHeight,style:a,onVideoPlay:e._onVideoPlay,onVideoPause:e._onVideoPause},o))}))}return null}}]),t}(u.PureComponent),l.contextType=g.a,l.propTypes={element:d.a.object.isRequired,data:d.a.array.isRequired},c)},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return w});var l,c,s=n(162),u=(n.n(s),n(0)),p=n.n(u),f=n(6),d=n.n(f),m=n(1),h=n(50),v=n(27),b=(n.n(v),n(12)),y=n(2),g=n(15),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=(c=l=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.element,n=e.data,a=r(e,["element","data"]);if("0"===t.showStyle)return p.a.createElement("div",{className:"text_list spread"},n.map(function(e,n){var r=Object.assign({},t,e,{w:e.picWidth,h:e.picHeight,x:e.left,y:e.up});return p.a.createElement(h.a,Object.assign({key:n,element:r,data:e.text},a))}));if("1"===t.showStyle){var o="translate("+Object(m.f)(t.x)+"px, "+Object(m.f)(t.y)+"px)",i=Object.assign({width:Object(m.f)(t.w),height:Object(m.f)(t.h)},Object(b.c)(o));return p.a.createElement(g.a,{className:"text_list carousel",loop:!0,speed:500,autoplay:!0,delay:2e3,style:i,isVertical:!0,showIndicators:!1,needCtlBtnStyle:!1},n.map(function(e,n){var r=Object.assign({},t,e,{w:e.picWidth,h:e.picHeight,x:e.left,y:e.up}),o={height:Object(m.f)(1*e.picHeight+1*t.interval)+"px"};return p.a.createElement("div",{key:n,className:"swiper-slide",style:o},p.a.createElement(h.a,Object.assign({element:r,data:e.text,needTransform:!1,eventId:"DIYAd"},a)))}))}return null}}]),t}(u.PureComponent),l.contextType=y.a,l.propTypes={element:d.a.object.isRequired,data:d.a.array.isRequired},c)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return E});var i,l,c,s,u=n(164),p=(n.n(u),n(0)),f=n.n(p),d=n(1),m=n(4),h=n(5),v=n(3),b=n(8),y=n(11),g=n(51),_=n(2),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=(c=l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));s.call(n);var o=n.props.floorData;return n.config=n._initConfig(o),n.floorData=n._initFloorData(o),n.state={skuInfoList:null},n.swiperDom={},n.paginationDom=null,n.swiperIns={},n}return o(t,e),w(t,[{key:"render",value:function(){var e=this,t=this.floorData;if("2"!==t.styleId)return null;var n=t.adsList,r=void 0===n?[]:n,a=this.config,o=this.state.skuInfoList||{};if(!r.length)return null;var i={backgroundColor:t.backgroundColor};return f.a.createElement("div",Object.assign({},Object(d.c)(t),{style:i}),r.map(function(t,n){var r=o[t.groupId]||[];return r.length<3&&(r=null),f.a.createElement("div",{className:"one_line",key:n},f.a.createElement(h.a,{className:"adv",component:"a",eventId:"CombiPic",params:Object(d.g)(t),target:"_blank",href:e.context.parseUrl(t),style:{height:g.a/t.picWidth*t.picHeight+"px"}},f.a.createElement(v.a,{className:"bg",src:t.pictureUrl,resizeDisable:!0})),r&&!a.isSlide&&f.a.createElement("div",{className:"product_list noslide"},r.map(function(t,n){return f.a.createElement(h.a,{className:"product",component:"a",eventId:"CombiPd",key:n,params:t.srv&&t.srv.split("_"),target:"_blank",href:e.context.parseUrl(t)},f.a.createElement(v.a,{src:t.image,disabled:a.isSlide,width:324,height:324,resizeDisable:!0}),f.a.createElement("p",{className:"name"},t.name),f.a.createElement("p",{className:"price"},"\uffe5",t.pPrice))})),r&&a.isSlide&&f.a.createElement("div",{className:"product_list slide"},f.a.createElement("div",{className:"swiper-container",ref:function(t){return e.swiperDom["dom"+n]=t}},f.a.createElement("div",{className:"swiper-wrapper"},o[t.groupId].map(function(t,n){return f.a.createElement(h.a,{className:"product swiper-slide",component:"a",eventId:"CombiPd",params:t.srv&&t.srv.split("_"),target:"_blank",key:n,href:e.context.parseUrl(t)},f.a.createElement(v.a,{src:t.image,disabled:a.isSlide,resizeDisable:!0}),f.a.createElement("p",{className:"name"},t.name),f.a.createElement("p",{className:"price"},"\uffe5",t.pPrice))}))),f.a.createElement("div",{className:"pagination",ref:function(t){return e.paginationDom=t}}),f.a.createElement("a",{className:"arrow arrow-left",href:"javascript:void(0);",onClick:function(t){return e._swipePrevImg("dom"+n)}}),f.a.createElement("a",{className:"arrow arrow-right",href:"javascript:void(0);",onClick:function(t){return e._swipeNextImg("dom"+n)}})))}))}},{key:"componentDidMount",value:function(){this.state.skuInfoList||this._getProInfo()}},{key:"componentDidUpdate",value:function(){this.config.isSlide&&this._bindSwipe()}},{key:"_getProInfo",value:function(){var e=this,t=this.props.activityData,n=void 0===t?{}:t,r=this.floorData,a=r.relatedIds.join(","),o=r.moduleId,i=b.frontInterfaceHost+"/client.action?functionId=queryRealatedPros",l=Object(y.getBabelUrlParam)({relatedIds:a,isBasic:"1",skuNum:this.config.isSlide?"":"3",pageId:n.pageId,moduleId:o,prodSrvPrefix:""});Object(y.doJsonP)(i,l).then(function(t){"0"===t.code?e.setState({skuInfoList:t.skuInfoList}):"3"===t.code&&e.context.goLogin()}).catch(function(){})}}]),t}(p.PureComponent),l.contextType=_.a,s=function(){var e=this;this._initConfig=function(e){var t=e.tplCfg;return{isSlide:"1"===(void 0===t?{}:t).slide}},this._initFloorData=function(e){if(!e)return{};var t=e.adsList,n=void 0===t?[]:t,r=[];return n.forEach(function(e){r.push(e.groupId)}),Object.assign({},e,{relatedIds:r})},this._bindSwipe=function(){setTimeout(function(){for(var t in e.swiperDom)e.swiperIns[t]=$(e.swiperDom[t]).swiper({loop:!0,paginationClickable:!0,autoplay:2e3,speed:500,slidesPerView:3,autoplayDisableOnInteraction:!1})},1)},this._swipePrevImg=function(t){e.swiperIns[t].swipePrev()},this._swipeNextImg=function(t){e.swiperIns[t].swipeNext()}},i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[m.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y});var i,l,c,s=n(166),u=(n.n(s),n(0)),p=n.n(u),f=n(2),d=n(1),m=n(4),h=n(5),v=n(3),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=(c=l=function(e){function t(){var e;r(this,t);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];var l=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));return l._renderList=function(){return l.state.elements.map(function(e){return"advert"===e.colType?l._renderAdvert(e):"product"===e.colType?l._renderProduct(e):null})},l._renderAdvert=function(e){var t=l.props.floorData.colInterval,n=l.context.parseUrl(e),r=n?"a":"div";return p.a.createElement(h.a,{component:r,key:e.colNo,className:"custom-ap-item advert",target:"_blank",eventId:"PCAD",params:Object(d.g)(e),style:{width:e.w+"px",backgroundColor:e.colBgColor,marginLeft:"1"!==e.colNo?t+"px":0},href:n},p.a.createElement(v.a,{src:e.advertPicUrl,className:"advert-pic"}))},l._renderProduct=function(e){var t=l.props.floorData.colInterval,n=l.props.floorData,r=e.titleColor,a=e.cartBgColor,o=e.productInterval,i=e.isTransProductPic,c=e.mainPriceColor,s=e.subPriceColor,u=e.comparePriceType,f=e.isShowCartBtn,d=e.productWidth,m=e.productHeight,b=e.products,y=e.column,g=e.row,_="1"===e.isSetProductColor,w=Math.floor((n.floorHeight-m*g-10*(g-1))/2)+"px";return p.a.createElement("div",{className:"custom-ap-item product",key:e.colNo,style:{width:e.w+"px",backgroundColor:e.colBgColor,marginLeft:"1"!==e.colNo?t+"px":0}},b.map(function(e,t){return p.a.createElement(h.a,{component:"a",key:e.skuId,className:"pd_common custom-product-item",eventId:"PCADPro",params:e.srv&&e.srv.split("_"),style:{width:d+"px",height:m+"px",backgroundColor:_?a:null,marginLeft:t%y===0?0:o+"px",marginTop:t<y?w:"10px"},href:l.context.parseUrl(e),target:"_blank"},p.a.createElement("div",{className:"pd_pic_wrap",style:"0"===i?{backgroundColor:"#FFFFFF"}:null},p.a.createElement(v.a,{src:e.image,className:"pd_pic"})),p.a.createElement("div",{className:"pd_title",style:{color:_?r:null}},e.name),p.a.createElement("div",{className:"pd_price_wrap"},p.a.createElement("div",{className:"pd_now_price",style:{color:_?c:null}},"\uffe5",e.pPrice),"1"===u&&e.pcpPrice&&p.a.createElement("div",{className:"pd_old_price"},p.a.createElement("del",{className:"old",style:{color:_?s:null}},"\uffe5",e.pcpPrice))),"1"===f&&p.a.createElement("div",{className:"pd_buy_car",onClick:function(t){l._addToCart(e.skuId,t)}},p.a.createElement("div",{className:"icon_wrap"})))}))},l._addToCart=function(e,t){t.preventDefault(),t.stopPropagation(),l.context.addCartItem&&l.context.addCartItem(e)},l._getState=function(){var e=l.props.floorData,t=e.floorHeight,n=e.colElementList,r=e.waresList;if(!t||!n||!n.length)return{};var a=n.map(function(e){if("advert"===e.colType)return e;var n=parseInt(e.productStyleId),a=Math.floor((t-10)/e.productHeight);return r&&r.length?!r[0].groupInfoList||r[0].groupInfoList.length<n*a?null:Object.assign({},e,{column:n,row:a,products:r[0].groupInfoList.slice(0,n*a)}):null});return a.indexOf(null)>-1?{}:{elements:a}},l.state=l._getState(),l}return o(t,e),b(t,[{key:"render",value:function(){if(!this.state||!this.state.elements)return null;var e=this.props,t=e.pageBackgroundColor,n=e.floorData,r=this.state.sameColor,a="0"===r?t:n.backgroundColor;return p.a.createElement("div",Object.assign({},Object(d.c)(n),{style:{backgroundColor:a,height:n.floorHeight+"px"}}),this._renderList())}}]),t}(u.PureComponent),l.contextType=f.a,i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[m.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return g});var i,l,c,s=n(168),u=(n.n(s),n(0)),p=n.n(u),f=n(1),d=n(4),m=n(31),h=n(5),v=n(3),b=n(2),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=(c=l=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.config={},o.floorData={},i=n,a(o,i)}return o(t,e),y(t,[{key:"render",value:function(){var e=this,t=this.props.floorData,n=void 0===t?{}:t,r=n.adsList,a="";return r&&0!==r.length?p.a.createElement("div",Object(f.c)(n),r.map(function(t,r){a=e.context.parseUrl(t);var o={height:Math.round(650/t.picWidth*t.picHeight)};return p.a.createElement(h.a,{className:"oneAdvWord",key:r,component:"a",eventId:"CombiPic2",params:Object(f.g)(t),target:"_blank",href:a},p.a.createElement(v.a,{className:"guide_img_wrap",src:t.pictureUrl,style:o}),p.a.createElement(m.a,{className:"title",mainTitle:t.name,subTitle:"1"===n.subTitle?t.content:""}))})):null}}]),t}(u.PureComponent),l.contextType=b.a,i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[d.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y});var i,l,c,s=n(170),u=(n.n(s),n(0)),p=n.n(u),f=n(1),d=n(4),m=n(5),h=n(3),v=n(2),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=(c=l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=n.props.floorData;return n.config=n._initConfig(o),n}return o(t,e),b(t,[{key:"render",value:function(){var e=this,t=this.props.floorData,n=void 0===t?{}:t,r=n.medal,a=n.medalCoupons,o=void 0===a?[]:a;if(!r)return null;var i=this.config;return p.a.createElement("div",Object(f.c)(n),p.a.createElement("div",{className:"medal_wrapper",style:i.wrapperStyle},p.a.createElement(m.a,{className:i.couponNumClass+" head",component:"a",eventId:"MedalHot",params:Object(f.g)(r),target:"_blank",href:this.context.parseUrl(r)},p.a.createElement("div",{className:"portrait"},p.a.createElement(h.a,{src:r.icon})),p.a.createElement("div",{className:"medal_type"},r.name),p.a.createElement("div",{className:"medal_info"},r.info),p.a.createElement("div",{className:"link"},r.right)),i.hasCoupon&&p.a.createElement("div",{className:i.couponNumClass+" coupon_wrapper"},o.map(function(t,n){switch(!0){case/1|3|4/.test(i.couponNum):return p.a.createElement(m.a,{className:i.couponColorClass+" coupon",component:"a",eventId:"MedalRights",params:Object(f.g)(t),key:n,target:"_blank",href:e.context.parseUrl(t)},p.a.createElement("div",{className:"price_limit_wrap oneline_ellipsis_wrap"},p.a.createElement("div",{className:"price"},p.a.createElement("span",{className:"symbol"},"\uffe5"),p.a.createElement("span",{className:"num"},t.discount)),p.a.createElement("div",{className:"limit"},t.limitStr)),p.a.createElement("div",{className:"scope"},t.name),p.a.createElement("div",{className:"get"},"\u7acb\u5373\u9886\u53d6"));case/2/.test(i.couponNum):return p.a.createElement(m.a,{className:i.couponColorClass+" coupon",component:"a",eventId:"MedalRights",params:Object(f.g)(t),key:n,target:"_blank",href:e.context.parseUrl(t)},p.a.createElement("div",{className:"price"},p.a.createElement("span",{className:"symbol"},"\uffe5"),p.a.createElement("span",{className:"num"},t.discount)),p.a.createElement("div",{className:"limit_special_wrap price_limit_wrap oneline_ellipsis_wrap"},p.a.createElement("div",{className:"limit"},t.limitStr)),p.a.createElement("div",{className:"scope"},t.name),p.a.createElement("div",{className:"get"},"\u7acb\u5373\u9886\u53d6"));case/5|6/.test(i.couponNum):return p.a.createElement(m.a,{className:i.couponColorClass+" coupon",component:"a",eventId:"MedalRights",params:Object(f.g)(t),key:n,target:"_blank",href:e.context.parseUrl(t)},p.a.createElement("div",{className:"price"},p.a.createElement("span",{className:"symbol"},"\uffe5"),p.a.createElement("span",{className:"num"},t.discount)),p.a.createElement("div",{className:"limit"},t.limitStr),p.a.createElement("div",{className:"scope"},t.name))}}))))}},{key:"_initConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="1"===e.styleId,n=e.medalCoupons||[],r=n.length,a=n[0]&&"0"===n[0].colorStyle?"orange":"blue";return{hasCoupon:t,couponNum:r,wrapperStyle:{backgroundColor:e.backgroundColor},couponNumClass:t?"num_"+r+"x":"",couponColorClass:a}}}]),t}(u.PureComponent),l.contextType=v.a,i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[d.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y});var i,l,c,s=n(172),u=(n.n(s),n(0)),p=n.n(u),f=n(2),d=n(1),m=n(3),h=n(4),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b={5:147,6:94,7:83,8:72},y=(c=l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={imgLoadFailed:!1,imgHeight:0},n}return o(t,e),v(t,[{key:"componentDidMount",value:function(){setTimeout(function(){m.a.triggerLoadCheck()},0)}},{key:"render",value:function(){var e=this,t=this.props.floorData,n=t.timelineConfig&&t.timelineConfig.pointList,r={backgroundColor:t.timelineConfig&&t.timelineConfig.timelineColor},a={};return n.length>5?(a.paddingLeft=b[n.length]+"px",a.paddingRight=b[n.length]+"px"):(a.paddingLeft=b[5]+"px",a.paddingRight=b[5]+"px"),p.a.createElement("div",Object(d.c)(t),p.a.createElement(m.a,{src:t.timelineConfig&&t.timelineConfig.picUrl,className:"line-bg"}),p.a.createElement("div",{style:a},p.a.createElement("div",{className:"line",style:r},n.map(function(t,n){return e._getPoint(t,n)}))))}},{key:"_getPoint",value:function(e,t){var n=this.props.floorData,r=n.timelineConfig&&n.timelineConfig.pointList,a={left:100/(r.length-1)*t+"%"},o={color:n.timelineConfig&&n.timelineConfig.pointTextColor},i={backgroundColor:n.timelineConfig&&n.timelineConfig.pointTextColor},l={color:n.timelineConfig&&n.timelineConfig.timeColor,backgroundColor:n.timelineConfig&&n.timelineConfig.timeBgColor};return 0===e.isActive&&(o.color=n.timelineConfig&&n.timelineConfig.pointTextActiveColor,i.backgroundColor=n.timelineConfig&&n.timelineConfig.pointTextActiveColor,l.color=n.timelineConfig&&n.timelineConfig.timeActiveColor,l.backgroundColor=n.timelineConfig&&n.timelineConfig.timeActiveBgColor),p.a.createElement("div",{className:"line-point line-point-"+r.length,style:a,key:t},p.a.createElement("div",{className:"line-point-circle",style:i}),p.a.createElement("div",{className:"line-time",style:l},e.startTime===e.endTime?e.startTime:e.startTime+"-"+e.endTime),p.a.createElement("div",{className:"line-text",style:o},e.pointText1?p.a.createElement("div",{className:"text1"},e.pointText1):null,e.pointText2?p.a.createElement("div",{className:"text2"},e.pointText2):null))}}]),t}(u.PureComponent),l.contextType=f.a,i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[h.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return g});var i,l,c,s=n(174),u=(n.n(s),n(0)),p=n.n(u),f=n(2),d=n(1),m=n(3),h=n(5),v=n(4),b=n(35),y=(n.n(b),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),g=(c=l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._jump=function(e){if(e&&e.jump){var t=n.props.floorData,r=t.srv,a=n.context.parseUrl(e);a&&a.indexOf("//")>=0&&(b.set("babelFloatlayer",r.split("_")[0]),Object(d.h)(a))}},n._close=function(){var e=n.props.floorData,t=e.srv;n.setState({show:!1}),b.set("babelFloatlayer",t.split("_")[0])},n.state={show:!1},n}return o(t,e),y(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.floorData,n=t.styleId,r=t.srv,a=t.floatTime,o=b.get("babelFloatlayer");if("3"===n?this.setState({show:!1}):o||"0"!==n||(this.setState({show:!0}),b.set("babelFloatlayer",r.split("_")[0])),!t.jump&&"0"===n){var i=parseInt(a,10);setTimeout(function(){e.setState({show:!1})},1e3*i)}setTimeout(function(){m.a.triggerLoadCheck()},0)}},{key:"render",value:function(){var e=this.props.floorData,t=e.styleId;return"0"!==t&&"1"!==t?null:this.state.show?p.a.createElement("div",Object(d.c)(e),"0"===t?this._renderStaticStyle():null):null}},{key:"_renderStaticStyle",value:function(){var e=this,t=this.props.floorData;return p.a.createElement("div",{className:"fn-static"},p.a.createElement("div",{className:"fn-static-modal"},p.a.createElement(h.a,{component:"button",delay:200,eventId:"Babel_FloatingPic",params:t&&t.srv&&t.srv.split("_"),key:"float_layer",className:"fn-static-modal-imgcontent",target:"_blank",onClick:function(){e._jump(t)}},p.a.createElement(m.a,{src:t.pictureUrl,className:"fn-static-img"})),p.a.createElement(h.a,{component:"button",delay:200,eventId:"Babel_FloatingPicClose",params:t&&t.srv&&t.srv.split("_"),key:"float_layer_close",className:"fn-static-close",onClick:function(){e._close()}})))}},{key:"_renderIconStyle",value:function(){var e=this,t=this.props.floorData;return this.state.show?p.a.createElement("div",{className:"fn-icon"},p.a.createElement(h.a,{component:"button",delay:200,eventId:"Babel_FloatingIcon",params:t&&t.srv&&t.srv.split("_"),key:"float_layer",className:"fn-icon-button",onClick:function(){e._jump(t)}},p.a.createElement(m.a,{src:t.pictureUrl,className:"fn-static-img"}))):null}}]),t}(u.PureComponent),l.contextType=f.a,i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[v.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return g});var i,l,c,s=n(176),u=(n.n(s),n(0)),p=n.n(u),f=n(2),d=n(1),m=n(3),h=n(5),v=n(4),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){if(isNaN(e))return 0;var t=parseInt(e);return t/1e4>=1?(t/1e4).toFixed(1)+"\u4e07":t},g=(c=l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),b(t,[{key:"componentDidMount",value:function(){setTimeout(function(){m.a.triggerLoadCheck()},0)}},{key:"render",value:function(){var e=this,t=this.props.floorData,n=t.styleId,r=t.config,a=t.backgroundColor,o=t.lives||[],i={backgroundColor:a,overflow:"hidden"};return p.a.createElement("div",Object.assign({},Object(d.c)(t),{style:i}),o.map(function(t,a){return p.a.createElement(h.a,{component:"a",delay:200,eventId:"Babel_LiveShow",params:t&&t.jump&&t.jump.srv.split("_"),key:"float_layer-"+a,className:"live-content "+("1"!==n?"live-content-high":"live-content-short"),target:"_blank",href:e.context.parseUrl(t)},p.a.createElement("div",{className:"live-content-left"},p.a.createElement(m.a,{src:t.img,className:"live-content-left-img"}),"1"===t.status?p.a.createElement("div",{className:"live-content-left-layer"},p.a.createElement("span",{className:"live-content-left-icon"})):null),p.a.createElement("div",{className:"live-content-right"},p.a.createElement("h4",{className:"live-content-right-tag"},""===t.tag?"":"-"+t.tag+"-"),p.a.createElement("h3",{className:"live-content-right-title"},t.title),p.a.createElement("div",{className:"live-content-right-bottom"},r&&"Y"===r.showAth?p.a.createElement(m.a,{src:t.athPic,className:"live-content-right-bottom-img"}):null,r&&"Y"===r.showAth?p.a.createElement("span",null,t.athName):null,p.a.createElement("div",{className:"live-content-right-status status"+t.status},p.a.createElement("span",{className:"live-content-right-status-left live-content-right-status-left-"+t.status},{0:"\u9884\u544a",1:"\u76f4\u64ad\u4e2d",2:"\u76f4\u64ad\u7ed3\u675f",3:"\u56de\u653e"}[t.status]),p.a.createElement("span",{className:"live-content-right-status-right"},function(e){switch(e){case 0:return t.pubSTime;case 1:return y(t.onlines)+"\u4eba\u89c2\u770b";case 2:return"\u76f4\u64ad\u56de\u653e\u751f\u6210\u4e2d";case 3:return y(t.views)+"\u4eba\u89c2\u770b";default:return y(t.views)+"\u6b21\u89c2\u770b"}}(t.status))))))}))}}]),t}(u.PureComponent),l.contextType=f.a,i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[v.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return C});var l,c,s,u=n(178),p=(n.n(u),n(0)),f=n.n(p),d=n(2),m=n(1),h=n(33),v=n(3),b=n(5),y=n(4),g=n(11),_=n(8),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E={0:"no",1:"wait",2:"now",3:"has",4:"no_gift",5:"wait_gift",6:"now_gift",7:"has_gift"},O={0:"signIn_btnIng",1:"signIn_btnAlready",2:"signIn_btnNone"},N={0:"signIn_free",1:"signIn_coupon",2:"signIn_bean",3:"signIn_code"},C=(s=c=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._renderRule=function(){return f.a.createElement("button",{className:"fn-normal-rule",onClick:function(){n._showRule()}},"\u67e5\u770b\u89c4\u5219")},n._renderLayer=function(){var e=n.state,t=e.showLayer,r=e.awardList;return t?f.a.createElement(h.a,null,f.a.createElement("div",{className:"sign-confirm-modal"},f.a.createElement("div",{className:"sign-confirm-modal-header"},r.length>0?f.a.createElement("div",{className:"sign-confirm-modal-header-awardtitle"},f.a.createElement("div",null,"\u7b7e\u5230\u5956\u54c1"),f.a.createElement("div",{className:"sign-confirm-modal-header-awardsubtitle"})):f.a.createElement("div",{className:"sign-confirm-modal-header-title"},"\u5df2\u7b7e\u5230")),f.a.createElement("div",{className:"sign-confirm-modal-close",onClick:function(){return n._closeLayer()}}),f.a.createElement("div",null,r.length>0?f.a.createElement("ul",{className:"sign-confirm-modal-list"},r.map(function(e){return f.a.createElement("li",{className:"sign-confirm-modal-list-item"},f.a.createElement("span",{className:"signGift"},f.a.createElement("span",{className:"sign-gift-inner "+N[e.type]})),f.a.createElement("span",null,e.text))})):f.a.createElement("div",{className:"sign-confirm-modal-content"},n.state.noAwardTxt)))):null},n._showRule=function(){var e,t=n.props.floorData,a=t.signInfos&&t.signInfos.srv&&t.signInfos.srv.split("_");(e=n.context.tracking).sendClickTracking.apply(e,["Babel","Babel_SignRule"].concat(r(a))),n.props.callConfirm({title:"\u89c4\u5219",children:f.a.createElement("div",null,t.signInfos.rule),showConfirm:!0,confirmText:"\u6211\u77e5\u9053\u4e86"})},n._sign=function(){var e=n.props.floorData,t=_.frontInterfaceHost+"/userSign?functionId=userSign",a=Object(g.getBabelUrlParam)({params:e.signInfos.params,riskParam:n.props.couponManagerInfo});Object(g.doJsonP)(t,a).then(function(t){var a,o=e.signInfos&&e.signInfos.srv&&e.signInfos.srv.split("_");return(a=n.context.tracking).sendClickTracking.apply(a,["Babel","Babel_Sign"].concat(r(o))),"3"===t.code?void n.context.goLogin():"0"!==t.code?n.props.callOverlay("\u7b7e\u5230\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5~"):"0"!==t.subCode?n.props.callOverlay(t.subCodeMsg||"\u7b7e\u5230\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5~"):void n.setState({list:t.list,btnText:t.btnText,btnStatus:"1",showLayer:!0,noAwardTxt:t.noAwardTxt,awardList:t.awardList||[]})}).catch(function(e){n.props.callOverlay("\u7b7e\u5230\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5~~")})},n._closeLayer=function(){n.setState({showLayer:!1,noAwardTxt:"",awardList:[]})},n.state={list:[],btnText:e.floorData.signInfos.signText,btnStatus:e.floorData.signInfos.signStat,noAwardTxt:"",showLayer:!1,awardList:[]},n}return i(t,e),w(t,[{key:"componentDidMount",value:function(){setTimeout(function(){v.a.triggerLoadCheck()},0)}},{key:"render",value:function(){var e=this.props.floorData,t=e.styleId,n=e.backgroundColor,r={backgroundColor:n};return"3"===t?null:f.a.createElement("div",Object.assign({},Object(m.c)(e),{style:r}),this._renderNormalStyle(),this._renderLayer())}},{key:"_renderIconStyle",value:function(){var e=this,t=this.props.floorData;return f.a.createElement("div",{className:"fn-icon"},f.a.createElement(b.a,{component:"button",delay:200,eventId:"Babel_FloatingIcon",params:t&&t.srv&&t.srv.split("_"),key:"sign_in",className:"fn-icon-button",onClick:function(){e._sign(t)}},f.a.createElement(v.a,{src:t.pictureUrl,className:"fn-static-img"})))}},{key:"_renderNormalStyle",value:function(){var e=this,t=this.props.floorData,n=this.state.btnStatus,r={backgroundColor:"0"===n?t.config.bgColor:t.config.bgSignClor,color:t.config.textColor},a="1"===String(t.config.showRule),o=this.state.list.length>0?this.state.list:t.signInfos&&t.signInfos.list,i=this.state.btnText;return f.a.createElement("div",{className:"fn-normal"},f.a.createElement("img",{src:t.config.backgroundImgUrl,alt:"",className:"fn-normal-bg"}),a?this._renderRule():null,f.a.createElement("div",{className:"fn-normal-content"},f.a.createElement("ul",{className:"fn-normal-content-list"},o.map(function(e,t){return f.a.createElement("li",{className:"fn-normal-content-list-item "+E[e.state],key:e.text},t+1)})),f.a.createElement("button",{className:"fn-normal-content-btn "+O[t.signInfos.signStat],onClick:function(){e._sign()},style:"0"===n||"1"===n?r:{}},i)))}}]),t}(p.PureComponent),c.contextType=d.a,l=s,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(l.prototype,"render",[y.a],Object.getOwnPropertyDescriptor(l.prototype,"render"),l.prototype),l)},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,o){try{var i=t[a](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}return r("next")})}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return j});var s,u,p,f=n(55),d=n.n(f),m=n(181),h=(n.n(m),n(0)),v=n.n(h),b=n(7),y=n.n(b),g=n(2),_=n(1),w=n(3),E=n(5),O=n(182),N=n(4),C=n(11),I=n(12),P=n(8),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S={0:" pity ",1:" other",3:" coupon_straight_1 ",4:" coupon_reduce ",5:" award_bean ",10:"noun"},j=(p=u=function(e){function t(e){var n=this;i(this,t);var c=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c.pieces=8,c.noPirceList=[],c.anglePiece=45,c.getChance=function(){if("undefined"!==typeof c.state.chance)return Number(c.state.chance);if(c.context.pinData){var e=c.context.pinData[c.props.floorData.moduleId];if(e)return Number(e.chance)}},c.renderPrizeWeel=function(){var e,t=c.props.floorData,n=t.lotteryGuaGuaLe.prizeList,r=(e={},o(e,Object(I.a)("transform",I.b),"rotate("+c.state.rotate+"deg)"),o(e,Object(I.a)("transition",I.b),"all "+c.state.duration+"ms "+c.state.timingFunc),e);return v.a.createElement("div",{className:"lottery-ct-price"},v.a.createElement("div",{className:"lottery-ct-rotation",style:r},v.a.createElement(w.a,{src:t.lotteryGuaGuaLe.wheelPicUrl,className:y()({"lottery-ct-tcpic":!0,"pannel-fail":!t.lotteryGuaGuaLe.wheelPicUrl||c.state.pannelLoadFail}),onError:c._onPannelLoadFail}),v.a.createElement("div",{className:"lottery-ct-price-list"},n.map(function(e,n){return v.a.createElement("div",{className:"lottery-ct-price-item",key:n},v.a.createElement("div",{className:"lottery-ct-price-item-text",style:{color:t.lotteryGuaGuaLe.prizeNameColor}},e.prizeName),v.a.createElement("div",{className:"lottery-ct-price-item-icon "+S[e.prizeType],style:[1,10].includes(e.prizeType)?{backgroundImage:"url("+e.prizeImg+")"}:null}))}))),v.a.createElement("div",{className:"lottery-ct-inpic"},v.a.createElement(w.a,{className:y()({"pointer-fail":!t.lotteryGuaGuaLe.indicatorPicUrl||c.state.pointerLoadFail}),src:t.lotteryGuaGuaLe.indicatorPicUrl,onClick:c.rotate,onError:c._onPointerLoadFail})))},c._onPannelLoadFail=function(){c.setState({pannelLoadFail:!0})},c._onPointerLoadFail=function(){c.setState({pointerLoadFail:!0})},c.renderCtGroup=function(){return v.a.createElement("div",{className:"lottery-ct-group"},c.renderChance(),c.renderUserList())},c.renderRule=function(){var e=c.props.floorData;return"1"!==e.lotteryGuaGuaLe.showRule?null:v.a.createElement(E.a,{component:"a",delay:200,eventId:"Babel_WheelRule",params:e&&e.lotteryGuaGuaLe.jump.srv&&e.lotteryGuaGuaLe.jump.srv.split("_"),key:"float_layer",className:"rule",target:"_blank",href:c.context.parseUrl(e.lotteryGuaGuaLe)},"\u67e5\u770b\u89c4\u5219")},c.renderChance=function(){var e=c.props.floorData.lotteryGuaGuaLe,t={color:e.lotteryNumTextColor},n={color:e.lotteryNumColor},r=c.getChance();return"number"!==typeof r||r<0?null:"1"!==e.showNum?null:v.a.createElement("div",{className:"lottery-chance-wrap",style:{backgroundImage:"url("+e.lotteryNumPicUrl+")"}},v.a.createElement("div",{className:"lottery-chance",style:t},r>=0?"\u60a8\u8fd8\u6709":"",v.a.createElement("span",{className:"lottery-chance-num",style:n},r>=0?r:""),r>=0?"\u6b21\u62bd\u5956\u673a\u4f1a!":""))},c.renderPromp=function(){var e=c.state,t=e.showPromp,n=e.prize,r=e.nounUser;if(!t||!n)return null;var a=null,o=n.prizeImg?{backgroundImage:"url("+n.prizeImg+")",backgroundSize:"100%"}:null;if("10"==n.prizeType)a=v.a.createElement("div",null,o&&v.a.createElement("div",{className:"noun_icon",style:o}),v.a.createElement("div",{className:"win-title"},"\u606d\u559c\u60a8\u4e2d\u5956\u4e86!"),v.a.createElement("div",{className:"prize-name"},n.prizeName),v.a.createElement("div",{className:"win-form"},v.a.createElement("div",{className:"form-item"},v.a.createElement("span",{className:"form-item-label"},"\u59d3\u540d"),v.a.createElement("input",{type:"text",className:"form-item-input","data-alias":"\u59d3\u540d",value:r.name,onChange:function(e){c.onUserChange("name",e)}}),r.name&&r.name.length>0&&v.a.createElement("div",{className:"clear",onClick:function(e){return c.clear("name",e)}})),v.a.createElement("div",{className:"form-item"},v.a.createElement("span",{className:"form-item-label"},"\u624b\u673a\u53f7\u7801"),v.a.createElement("input",{type:"text",className:"form-item-input","data-alias":"\u624b\u673a\u53f7\u7801",value:r.mobile,onChange:function(e){c.onUserChange("mobile",e)}}),r.mobile&&r.mobile.length>0&&v.a.createElement("div",{className:"clear",onClick:function(e){return c.clear("mobile",e)}})),v.a.createElement("div",{className:"form-item"},v.a.createElement("span",{className:"form-item-label"},"\u6536\u8d27\u5730\u5740"),v.a.createElement("textarea",{type:"text-are",style:{resize:"none"},className:"form-item-input","data-alias":"\u6536\u8d27\u5730\u5740",value:r.address,onChange:function(e){c.onUserChange("address",e)}}),r.address&&r.address.length>0&&v.a.createElement("div",{className:"clear",onClick:function(e){return c.clear("address",e)}}))),v.a.createElement("p",{className:"tip"},"\u8bf7\u586b\u5199\u60a8\u7684\u6536\u8d27\u5730\u5740\uff0c\u4ee5\u786e\u4fdd\u5956\u54c1\u7684\u5bc4\u9001"),v.a.createElement("div",{className:"actions-group"},v.a.createElement("div",{className:"giveup",onClick:c.closePromp.bind("giveup")},"\u5fcd\u75db\u653e\u5f03"),v.a.createElement("div",{className:"confirm",onClick:c.onSubmit})));else if("0"==n.prizeType)a=[v.a.createElement("div",{className:"cloud-bg",key:0}),v.a.createElement("div",{className:"btn-ok",onClick:c.closePromp,key:1}),v.a.createElement("div",{className:"prize-icon pity",key:2}),v.a.createElement("div",{className:"prize-name",key:3},n.prizeName)];else{var i=S[n.prizeType];a=[v.a.createElement("div",{className:"dog",key:0}),v.a.createElement("div",{className:"win-title",key:1},n.promptMsg||"\u606d\u559c\u60a8\uff0c\u4e2d\u5956\u5566\uff01"),v.a.createElement("div",{className:"cloud-bg",key:2}),v.a.createElement("div",{className:"btn-ok",onClick:c.closePromp,key:3}),v.a.createElement("div",{className:"prize-icon "+i,style:o,key:4}),v.a.createElement("div",{className:"prize-name",key:5},n.prizeName)]}var l=y()("lottery-promp",{noun:"10"==n.prizeType,fail:"0"==n.prizeType,ok:"0"!=n.prizeType&&"10"!=n.prizeType});return v.a.createElement(O.a,null,v.a.createElement("div",{className:"lottery-overlay"},v.a.createElement("div",{className:l},v.a.createElement("div",{className:"promp-head"}),v.a.createElement("div",{className:"promp-body"},a))))},c.onUserChange=function(e,t){c.setState({nounUser:Object.assign({},c.state.nounUser,o({},e,t.target.value))})},c.onSubmit=function(){for(var e=c.state.nounUser,t=e.name,n=e.mobile,r=e.address,o=c.props.floorData.lotteryGuaGuaLe,i=[{value:t,txt:"\u59d3\u540d"},{value:n,txt:"\u624b\u673a\u53f7\u7801"},{value:r,txt:"\u6536\u8d27\u5730\u5740"}],l=0;l<i.length;l++)if(!i[l].value)return void c.context.callOverlay("\u8bf7\u586b\u5199"+i[l].txt);if(!/^1\d{10}$/.test(n))return void c.context.callOverlay("\u8bf7\u8f93\u5165\u6709\u6548\u624b\u673a\u53f7");var s=P.frontInterfaceHost+"?functionId=jediModifyLotteryAddress",u=Object(C.getBabelUrlParam)({lotteryCode:o.awardNum,prizeId:c.state.prize.prizeId,riskParam:c.context.couponManagerInfo,address:r,mobile:n,name:t});Object(C.doJsonP)(s,u).then(function(e){if(c.setState({showPromp:!1}),"0"===e.code&&"0"===e.subCode){var t;(t=c.context.tracking).sendClickTracking.apply(t,["Babel","Babel_WheelConfirm"].concat(a(o.srv||[]))),c.context.callOverlay("\u9886\u5956\u5730\u5740\u63d0\u4ea4\u6210\u529f")}else c.context.callOverlay("\u9886\u5956\u5730\u5740\u63d0\u4ea4\u5931\u8d25")}).catch(function(){c.context.callOverlay("\u9886\u5956\u5730\u5740\u63d0\u4ea4\u5931\u8d25")})},c.clear=function(e){c.setState({nounUser:Object.assign({},c.state.nounUser,o({},e,""))})},c.closePromp=function(e){if(c.setState({showPromp:!1}),"giveup"===e){var t;(t=c.context.tracking).sendClickTracking.apply(t,["Babel","Babel_WheelGiveUp"].concat(a(c.props.floorData.lotteryGuaGuaLe.srv||[])))}},c.renderUserList=function(e){var t=c.props.floorData,n=c.state.userIndex,r=t.lotteryGuaGuaLe.latestWinList||[],a={backgroundImage:"url("+t.lotteryGuaGuaLe.awardPicUrl+")"},o={};return o.transform="translate3d(0px, -"+32*n+"px, 0px)",o.transitionDuration=0===n?"none":"300ms",v.a.createElement("div",{className:"lottery-ulist-bg lottery-ulist-bg"+e,style:a},v.a.createElement("div",{className:"lottery-ulist-slide"},v.a.createElement("div",{className:"lottery-ulist",style:o},r.map(function(e,t){return v.a.createElement("li",{className:"lottery-ulist-item",key:t},v.a.createElement("span",{className:"lottery-ulist-item-left"},e.name),v.a.createElement("span",{className:"lottery-ulist-item-middle"},"\u62a2\u5230"),v.a.createElement("span",{className:"lottery-ulist-item-right"},e.prizeName))}))))},c.rotate=r(d.a.mark(function e(){var t,r,o,i,l,s,u;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.props.floorData,o=c.context.activityData,!c.state.doing){e.next=4;break}return e.abrupt("return");case 4:if("number"!==typeof(i=c.getChance())||0!==Number(i)){e.next=8;break}return c.context.callOverlay(r.lotteryGuaGuaLe.noChanceTips||"\u62bd\u5956\u6b21\u6570\u7528\u5b8c\u4e86\u3002\u3002\u3002"),e.abrupt("return");case 8:return l=P.frontInterfaceHost+"?functionId=jediGetLottery",s=Object(C.getBabelUrlParam)(Object.assign({lotteryCode:r.lotteryGuaGuaLe.awardNum,authType:2},o.asyncInterfaceBack,{riskParam:c.context.couponManagerInfo})),(t=c.context.tracking).sendClickTracking.apply(t,["Babel","Babel_WheelSurf"].concat(a(r.lotteryGuaGuaLe.srv||[]))),c.setState({doing:!0}),e.next=14,c.startRotation();case 14:return e.prev=14,e.next=17,Object(C.doJsonP)(l,s);case 17:if(u=e.sent,"0"!==u.code||"0"!==u.subCode||!u.winner||"true"!==u.winner){e.next=23;break}return e.next=21,c.rotateToPrizePos(u);case 21:e.next=37;break;case 23:if("0"!==u.code||"0"!==u.subCode||!u.winner||"false"!==u.winner){e.next=27;break}c.rotateToNoPrizePos(u),e.next=37;break;case 27:if("3"!==u.code){e.next=33;break}c.setState({doing:!1}),c.resetPos(),c.context.goLogin(),e.next=37;break;case 33:return e.next=35,c.resetPos();case 35:c.setState({doing:!1}),c.context.callOverlay(u.promptMsg||"\u4e0e\u5927\u5956\u64e6\u80a9\u800c\u8fc7\u54e6");case 37:e.next=45;break;case 39:e.prev=39,e.t0=e.catch(14),c.resetPos(),c.setState({doing:!1}),c.context.callOverlay("\u4e0e\u5927\u5956\u64e6\u80a9\u800c\u8fc7\u54e6");case 45:case"end":return e.stop()}},e,n,[[14,39]])})),c.resetPos=function(){return c.doRotation(0,"ease",0).then(function(){return new Promise(function(e){setTimeout(e,50)})})},c.doRotation=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ease-out",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return new Promise(function(r){c.setState({rotate:e,timingFunc:t,duration:n},r)})},c.fillNoPirceList=function(){return[].concat(a(c.props.floorData.lotteryGuaGuaLe.prizeList.map(function(e,t){return 0===e.prizeType&&Object.assign({pos:t},e)}).filter(Boolean)))},c.rotateToNoPrizePos=r(d.a.mark(function e(){var t,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.random(0,c.noPirceList.length-1),t=Math.floor(t)>=c.noPirceList.length?0:Math.floor(t),r=c.noPirceList[t],e.next=5,c.resetPos();case 5:return e.next=7,c.rotateToPos(r.pos);case 7:"0"==r.prizeType&&"false"==a.winner&&(r=Object.assign({},r,{prizeName:a.promptMsg})),setTimeout(function(){c.setState({prize:r,showPromp:!0,doing:!1,chance:a.chances})},c.state.duration);case 9:case"end":return e.stop()}},e,n)})),c.rotateToPrizePos=function(){var e=r(d.a.mark(function e(t){var r,a,o,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=c.props.floorData.lotteryGuaGuaLe.prizeList,a=-1,o=null,i=0;case 4:if(!(i<r.length)){e.next=12;break}if(String(r[i].prizeId)!==String(t.prizeId)){e.next=9;break}return a=i,o=r[i],e.abrupt("break",12);case 9:i++,e.next=4;break;case 12:return e.next=14,c.resetPos();case 14:if(!o){e.next=20;break}return e.next=17,c.rotateToPos(a);case 17:setTimeout(function(){c.setState({chance:t.chances,doing:!1,showPromp:!0,prize:o,nounUser:{mobile:t.mobile,address:t.address,name:t.name}})},5e3),e.next=21;break;case 20:c.setState({chance:t.chances,doing:!1});case 21:case"end":return e.stop()}},e,n)}));return function(t){return e.apply(this,arguments)}}(),c.random=function(e,t){var n=Math.random()*(t-e)+e;return Number(n.toFixed(1))},c.startRotation=function(){return c.doRotation(5400,"ease-in-out",15e3)},c.rotateToPos=function(e){var t=c.random(c.anglePiece*e+5,c.anglePiece*e+40),n=360-t+1800;return c.doRotation(n)},c.state={rotate:0,doing:!1,userIndex:0,showPromp:!1,prize:null,timingFunc:"ease-out",duration:5e3,nounUser:{name:"",mobile:"",address:""},chance:void 0,pointerLoadFail:!1,pannelLoadFail:!1},c.noPirceList=c.fillNoPirceList(),c}return c(t,e),k(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.floorData,n=t.lotteryGuaGuaLe.latestWinList||[];n.length>4&&setInterval(function(){var t=e.state.userIndex;t<n.length-4?t+=1:t=0,e.setState({userIndex:t})},2e3),setTimeout(function(){w.a.triggerLoadCheck()},0)}},{key:"render",value:function(){var e=this.props.floorData;if(!e.lotteryGuaGuaLe||0===e.lotteryGuaGuaLe.prizeList.filter(Boolean).length)return null;if(!this.noPirceList.length)return null;var t="1"===e.lotteryGuaGuaLe.showUserList,n="high";t&&(n="low");var r=y()("lottery-ct lottery-ct-"+n);return v.a.createElement("div",Object.assign({},Object(_.c)(e),{style:{backgroundColor:e.lotteryGuaGuaLe.tcMainTonal}}),v.a.createElement("div",{className:r},v.a.createElement("div",{className:"lottery-ct-con"},v.a.createElement(w.a,{src:e.lotteryGuaGuaLe.tcPicUrl,className:"lottery-ct-tcpic"}),this.renderPrizeWeel()),"high"===n&&this.getChance()&&this.renderChance(),"low"===n&&this.renderCtGroup(),this.renderRule(),this.renderPromp()))}}]),t}(h.PureComponent),u.contextType=g.a,s=p,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(s.prototype,"render",[N.a],Object.getOwnPropertyDescriptor(s.prototype,"render"),s.prototype),s)},function(e,t){},function(e,t,n){"use strict";var r=n(183);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return e="function"===typeof e?e():e,f.a.findDOMNode(e)||t}n.d(t,"a",function(){return v});var l,c,s=n(0),u=n.n(s),p=n(9),f=n.n(p),d=n(6),m=n.n(d),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=(c=l=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.getMountNode=function(){return o.mountNode},i=n,a(o,i)}return o(t,e),h(t,[{key:"componentDidMount",value:function(){this.setMountNode(this.props.container),this.props.disablePortal||this.forceUpdate(this.props.onRendered)}},{key:"componentDidUpdate",value:function(e){e.container===this.props.container&&e.disablePortal===this.props.disablePortal||(this.setMountNode(this.props.container),this.props.disablePortal||this.forceUpdate(this.props.onRendered))}},{key:"componentWillUnmount",value:function(){this.mountNode=null}},{key:"render",value:function(){var e=this.props,t=e.children;return e.disablePortal?t:this.mountNode?f.a.createPortal(t,this.mountNode):null}},{key:"setMountNode",value:function(e){if(this.props.disablePortal)return void(this.mountNode=f.a.findDOMNode(this).parentElement);this.mountNode=i(e,document.body)}}]),t}(u.a.PureComponent),l.propTypes={children:m.a.node.isRequired,container:m.a.oneOfType([m.a.object,m.a.func]),disablePortal:m.a.bool,onRendered:m.a.func},l.defaultProps={disablePortal:!1},c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return O});var i,l,c,s,u=n(185),p=(n.n(u),n(0)),f=n.n(p),d=n(9),m=n.n(d),h=n(1),v=n(4),b=n(14),y=n(5),g=n(3),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w={BIG_PIC:"0",LIST:"2"},E={AHEAD:-1,TRY:0,OVER:1},O=(c=l=function(e){function t(){var e;r(this,t);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];var l=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));return s.call(l),l.state=l._getInitialState(),l}return o(t,e),_(t,[{key:"componentDidUpdate",value:function(e,t){if(this._navSticky&&t.selectedTab!==this.state.selectedTab){var n=m.a.findDOMNode(this._ref);window.scrollTo(0,Math.ceil(window.pageYOffset+n.getBoundingClientRect().top))}}},{key:"render",value:function(){var e=this.props.floorData,t=e.tabAdGpList,n=e.tabList;return t&&t.length&&n&&n.length?f.a.createElement("div",Object.assign({},Object(h.c)(e),{ref:this._setRef}),this._renderTabList(),this._renderAdvertGroups()):null}}]),t}(p.PureComponent),s=function(){var e=this;this._setRef=function(t){e._ref=t},this._navSticky=!1,this._renderTabList=function(){var t=e.state.tabList,n=e.props.floorData,r=n.tabConfig,a=n.tabStyle;return f.a.createElement(b.a,{tabStyle:a,tabList:t,tabConfig:r,selectedTab:e.state.selectedTab,onTabHover:function(){e._selectGroup.apply(e,arguments)},tabClickEventId:"TryTab",onNavSticky:e._onNavSticky,onNavUnsticky:e._onNavUnsticky,disableStickyView:e.props.disableStickyView})},this._renderAdvertGroups=function(){var t=e.props.floorData,n=t.tabAdGpList,r=void 0===n?[]:n,a=e.state.selectedTab,o=void 0===a?{}:a,i=r.find(function(e){return e.groupId===o.groupId});if(i){var l="0"===t.sameColor?e.props.pageBackgroundColor:t.backgroundColor,c=t.styleId===w.LIST?5:4,s=i.adList,u=s.length%c===0?s:s.slice(0,-s.length%c);return f.a.createElement("div",{className:"advert-try-list advert-try-list-"+t.styleId,style:{backgroundColor:l}},u.map(function(t){var n=t.status===E.OVER&&t.reCount;return f.a.createElement(y.a,{component:"a",className:"advert-try-item",href:"https://try.jd.com/"+t.advertId+".html",target:"_blank",key:t.advertId,eventId:"Try",params:Object(h.g)(t)},f.a.createElement("div",{className:"adv-pic-wrapper"},f.a.createElement(g.a,{src:t.pictureUrl,className:"adv-pic"}),f.a.createElement("div",{className:"try-tip"},"\u8bd5\u7528"),f.a.createElement("div",{className:"try_apply_info"},"number"===typeof t.supplyCount&&f.a.createElement("span",{className:"text"},"\u9650"+Object(h.b)(t.supplyCount)+"\u4ef6"),"number"===typeof t.applyCount&&f.a.createElement("span",{className:"split"},"/"),"number"===typeof t.supplyCount&&f.a.createElement("span",{className:"text"},t.status===E.AHEAD?""+t.startTime:""),"number"===typeof t.applyCount&&t.status!==E.AHEAD&&f.a.createElement("span",{className:"text"},Object(h.b)(t.applyCount)+"\u4eba\u7533\u8bf7"))),f.a.createElement("div",{className:"adv-title"},t.name),n?f.a.createElement("div",{className:"adv-info-wrapper try-report"},Object(h.b)(t.reCount),"\u4efd\u62a5\u544a"):f.a.createElement("div",{className:"adv-info-wrapper"},f.a.createElement("span",{className:"adv-tryp"},"\uffe5",t.tryP),f.a.createElement("del",{className:"adv-pprice"},"\uffe5",t.PPrice)),e._renderAction(t))}))}},this._renderAction=function(e){return e.status===E.AHEAD?f.a.createElement("div",{className:"try-btn ahead"},"\u8bd5\u7528\u9884\u544a"):e.status===E.TRY?f.a.createElement("div",{className:"try-btn try"},"\u7533\u8bf7\u8bd5\u7528"):e.status===E.OVER?f.a.createElement("div",{className:"try-btn over"},"\u7533\u8bf7\u7ed3\u675f"):null},this._selectGroup=function(t){t!==e.state.selectedTab&&e.setState({selectedTab:t})},this._onNavSticky=function(){e._navSticky=!0},this._onNavUnsticky=function(){e._navSticky=!1},this._getInitialState=function(){var t=(e.props.floorData,e._dealTabList());return{selectedTab:t[0],tabList:t}},this._dealTabList=function(){var t=e.props.floorData,n=t.tabAdGpList,r=t.tabList,a=t.styleId===w.LIST?5:4,o=[];return n.map(function(e){return e.adList&&e.adList.length>=a&&r.map(function(t){return t.groupId===e.groupId&&o.push(t),!1}),!1}),o}},i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[v.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y});var i,l,c,s=n(187),u=(n.n(s),n(0)),p=n.n(u),f=n(1),d=n(3),m=n(12),h=n(5),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=400,y=(l=i=function(e){function t(){var e;r(this,t);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];var l=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));c.call(l);var s=l.props.floorData,u=Object(f.f)(s.bgHeight);return l.state={height:u,expland:!(u>b)},l}return o(t,e),v(t,[{key:"render",value:function(){var e=this.props.floorData,t=e.bgPicUrl;return t?p.a.createElement(h.a,Object.assign({component:"div",eventId:"Panorama",params:e.srv&&e.srv.split("_")},Object(f.c)(e),{style:Object.assign({height:this.state.expland?this.state.height:Math.min(b,this.state.height)},Object(m.d)(this.state.height<=b?"none":"height "+Math.floor((this.state.height-b)/2)+"ms")),onClick:this._jump}),p.a.createElement(d.a,{src:t,className:"panorama-pic"}),this._renderAction(),p.a.createElement("div",{className:"view-panorama",style:{backgroundColor:e.viewBtnBgColor,top:Object(f.f)(3*e.viewBtnY)+"px",left:Object(f.f)(3*e.viewBtnX)+"px"}},"\u67e5\u770b\u5168\u666f\u56fe")):null}}]),t}(u.PureComponent),c=function(){var e=this;this._renderAction=function(){return e.state.height>b&&!e.state.expland?p.a.createElement("div",{className:"expland",onClick:e._onExpland},p.a.createElement("div",{className:"text"},"\u70b9\u51fb\u5c55\u5f00")):null},this._onExpland=function(t){t.stopPropagation(),e.setState({expland:!0})},this._jump=function(){var t=e.props,n=t.floorData,r=t.activityData,a=t.app,o=r.asyncInterfaceBack,i=void 0===o?{}:o,l="//h5.m.jd.com/dev/3SPecedj8ZaU3rUGGHeXtAuMd8tK/index.html?moduleId="+n.moduleId+(n.scenePicUrl?"&picUrl="+encodeURIComponent(n.scenePicUrl):"")+"&activityId="+r.encodeActivityId+"&srvBiInfo="+n.srvBiInfo+(a.isEnvBeta?"&env=beta":"")+"&templatePlatform="+(i.templatePlatform||"3");Object(f.h)(l)}},l);y.getFloorHeight=function(e){var t=Object(f.f)(e.bgHeight);return t>b?Math.min(b,t):t}},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y});var i,l,c,s=n(189),u=(n.n(s),n(0)),p=n.n(u),f=n(1),d=n(4),m=n(190),h=n(48),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b={LIST:"0",SCROLL:"1",BIG_PIC:"2"},y=(i=Object(h.a)("BookingTab"))((c=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o._renderProducts=function(){var e=o.props,t=e.floorData,n=e.selectedTab,r=o._getColumnNum(t),a=t.waresList,i=t.waresListConfig,l=void 0;return l=n?a.filter(function(e){return e.groupId===n.groupId})[0].groupInfoList:a?a[0].groupInfoList:t.preSaleList,p.a.createElement("div",{className:"booking-pd-group booking-pd-group-col-"+r},l.map(function(e){return p.a.createElement(m.a,{key:e.skuId,wareItem:e,waresListConfig:i,lazyLoadImgResizeDisable:!0})}))},o._getColumnNum=function(e){return e.styleId===b.BIG_PIC?4:5},i=n,a(o,i)}return o(t,e),v(t,[{key:"render",value:function(){var e=this.props,t=e.floorData,n=e.pageBackgroundColor,r=t.waresList,a=t.preSaleList;if((!r||!r[0])&&!a)return null;var o="0"===t.sameColor?n:t.backgroundColor;return p.a.createElement("div",Object.assign({},Object(f.c)(t),{style:{backgroundColor:o},ref:this.props.setRef}),this.props.renderTab(t),this._renderProducts())}}]),t}(u.PureComponent),function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(c.prototype,"render",[d.a],Object.getOwnPropertyDescriptor(c.prototype,"render"),c.prototype),l=c))||l},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var i,l,c=n(0),s=n.n(c),u=n(6),p=n.n(u),f=n(5),d=(n(13),n(3)),m=n(16),h=n(2),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=(l=i=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o._renderAction=function(){var e="\u7acb\u5373\u9884\u7ea6",t=o.props,n=t.wareItem.bookingStatus,r=t.waresListConfig;return"3"===n?e="\u7b49\u5f85\u62a2\u8d2d":"4"===n&&(e="\u7acb\u5373\u62a2\u8d2d"),s.a.createElement("div",{className:"booking-action",style:{backgroundColor:r.buttonBackgroundColor}},e)},o._isBookingBegin=function(){return"N"!==o.props.wareItem.bookingStartedStatus},i=n,a(o,i)}return o(t,e),v(t,[{key:"render",value:function(){var e=this.props,t=e.wareItem,n=e.waresListConfig,r=e.lazyLoadImgResizeDisable,a=n.subscript,o=n.subscriptUrl,i=this._isBookingBegin();return s.a.createElement(f.a,{component:"a",target:"_blank",href:this.context.parseUrl(t),className:"pd_common pd_subscirpt-"+a+" ",eventId:"Booking",params:t.srv&&t.srv.split("_")},s.a.createElement("div",{className:"pd_common_inner",style:{backgroundColor:n.cardColor}},s.a.createElement("div",{className:"pd_pic_wrap"},s.a.createElement("div",{className:"pd_pic_content"},s.a.createElement(d.a,{src:t.image,className:"pd_pic",resizeDisable:r}),i?s.a.createElement(m.a,{wareItem:t,subscript:a,subscriptUrl:o}):s.a.createElement("div",{className:"unbegin-tip"},s.a.createElement("div",{className:"text"},"\u5373\u5c06",s.a.createElement("br",null),"\u5f00\u59cb")))),s.a.createElement("div",{className:"pd_info"},s.a.createElement("div",{className:"pd_title",style:{color:n.titleColor}},t.name),"0"!==n.slogan&&s.a.createElement("div",{className:"pd_op_text",style:{color:n.sloganColor}},t.tag),s.a.createElement("div",{className:"booking-info"},s.a.createElement("div",{className:"price",style:{color:n.mainPriceColor}},s.a.createElement("span",{className:"value"},"2"===t.priceType||"3"===t.priceType?"\uffe5"+t.cPrice:t.pPrice?"\uffe5"+t.pPrice:"\u5f85\u53d1\u5e03")),s.a.createElement("div",{className:"count",style:{color:n.peopleNumColor}},Number(t.bookingPeopleNum)>10?t.bookingPeopleNum+"\u4eba\u5df2\u9884\u7ea6":"\u65b0\u54c1\u706b\u70ed\u9884\u7ea6\u4e2d"))),this._renderAction()))}}]),t}(c.PureComponent),i.contextType=h.a,i.propTypes={wareItem:p.a.object,waresListConfig:p.a.object,lazyLoadImgResizeDisable:p.a.bool},l)},function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var i,l=n(192),c=(n.n(l),n(0)),s=n.n(c),u=n(1),p=n(4),f=n(51),d=n(11),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=[],v=null,b=(i=function(t){function n(){return r(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),m(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.floorData,r=t.dogeList,a=void 0===r?[]:r;if(!n)return null;var o=n.width,i=n.height,l=n.rnActivityId,c=a.filter(function(e){return e.rnActivityId==l})[0];return c&&c.manifest?(h=c.manifest.split(","),s.a.createElement("div",Object.assign({},Object(u.c)(n),{style:{height:parseInt(f.a/o*i)+"px"},ref:function(t){return e.rootDom=t}}))):null}},{key:"componentDidMount",value:function(){var t=this;e._babelPolyfill=!1,this._loadScripts(h).then(function(){return t._renderFloor()})}},{key:"_loadScripts",value:function(e){if(v)return v;var t=function(e,t){return e?e.then(function(){return Object(d.loadScript)(t)}):Object(d.loadScript)(t)},n=void 0;return e.forEach(function(e){n=t(n,e)}),v=n}},{key:"_renderFloor",value:function(){var e=this.props.floorData,t=e.rndata,n=e.styleId;"undefined"!==typeof JDReactBabelFloorRegistry&&"function"===typeof JDReactBabelFloorRegistry.registerFloor&&JDReactBabelFloorRegistry.registerFloor(n,t||"{}",this.rootDom)}}]),n}(c.PureComponent),function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[p.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)}).call(t,n(60))},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var i=n(0),l=n.n(i),c=n(1),s=n(194),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props.floorData,t=e.template,n=990,r=!1,a=0;return"layout_990"===t?(n=990,"2"===e.styleId&&(a=10)):"layout_1125"===t?n=1125:"layout_1210"===t?n=1210:"layout_full"===t?(r=!0,n=1920):"layout_elastic"===t&&("1"===e.space&&(a=10),n=Number(e.width)),l.a.createElement("div",Object.assign({},Object(c.c)(e),{style:{width:"100%"}}),l.a.createElement(s.a,{width:n,isFull:r,space:a,floors:e.columnFloor,columns:e.columnConfig}))}}]),t}(i.PureComponent);p.getFloorHeight=function(e,t,n){var r=e.columnFloor,a=void 0===r?[]:r;if(!a.length)return 0;var o=a[0],i=o.columnFloorList||[];return i.length?n(i)/a.length:0}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return m});var i,l,c=n(0),s=n.n(c),u=n(195),p=n(2),f=n(196),d=(n.n(f),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),m=(l=i=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.renderColumn=function(e,t){var n=o.props,r=n.floors,a=n.columns,i=n.width,l=n.space,c=n.disableScale,p=r.find(function(t){return t.columnId==e.columnId});if(!p)return null;var f={width:e.width/i*100+"%",marginRight:a.length-1===t?0:l};return 0===p.columnFloorList.length?null:s.a.createElement("div",{className:"layout-column",style:f,key:t},p.columnFloorList.map(function(e,t){var n=e.template,r=o.context.floorRegistry[n];return r?c?s.a.createElement(r,{floorData:e,disableScale:!0}):s.a.createElement(u.a,{key:t,render:function(t,n){return s.a.createElement(r,{floorData:e,disableScale:!0,refreshScale:t,scale:n})}}):null}))},i=n,a(o,i)}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.isFull,n=e.width,r=e.columns,a={width:t?"100%":n};return s.a.createElement("div",{className:"layout",style:a},r.map(this.renderColumn))}}]),t}(c.PureComponent),i.defaultProps={isFull:!1,space:0,width:990,columns:[],floors:[],disableScale:!1},i.contextType=p.a,l)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return d});var i=n(0),l=n.n(i),c=n(254),s=n.n(c),u=n(22),p=n.n(u),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.$flexEle=null,e.$scaleEle=null,e.scaleEleInitialWidth=-1,e.reflow=function(){var t=parseInt(e.$scaleEle.getBoundingClientRect().height);e.state.height!==t&&e.setState({height:t})},e.handleResize=function(){var t=e.$flexEle.clientWidth;if(e.scaleEleInitialWidth>0){var n=t/e.scaleEleInitialWidth;Math.abs(n-e.state.scale)>.01&&e.setState({scale:n},function(){e.setState({height:parseInt(e.$scaleEle.getBoundingClientRect().height)})})}},e.handleResize=p()(e.handleResize,30),e.state={height:"auto",scale:1},e}return o(t,e),f(t,[{key:"componentDidMount",value:function(){this.scaleEleInitialWidth=this.$scaleEle.clientWidth,this.handleResize()}},{key:"componentDidUpdate",value:function(){this.reflow()}},{key:"render",value:function(){var e=this,t=this.state,n=t.height,r=t.scale,a={display:"inline-block",transform:"scale3d("+r+", "+r+", "+r+") translateZ(0)"},o={height:n,width:"100%",overflow:"hidden"};return l.a.createElement("div",{className:"flex-con",style:o,ref:function(t){return e.$flexEle=t}},l.a.createElement(s.a,{target:"window",onResize:this.handleResize}),l.a.createElement("div",{className:"scale-con",style:a,ref:function(t){return e.$scaleEle=t}},this.props.render&&this.props.render(this.reflow,r),this.props.children))}}]),t}(i.PureComponent)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return J});var l,c,s,u,p,f,d,m=n(198),h=(n.n(m),n(0)),v=n.n(h),b=n(9),y=n.n(b),g=n(6),_=(n.n(g),n(7)),w=n.n(_),E=n(1),O=n(4),N=n(5),C=n(3),I=n(24),P=n(18),k=n(30),S=n(14),j=n(8),T=n(17),x=n(11),L=n(2),D=n(255),R=n.n(D),z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A={NONE:"0",TEXT:"1",PIC:"2",SECKILL:"3"},U={BIG_PIC:"0",LIST:"1",THREE:"2"},B={PIC:"1",TEXT:"2",PRICE:"3",STATUS:"6"},M=(l={},i(l,B.PIC,"_renderPic"),i(l,B.TEXT,"_renderText"),i(l,B.PRICE,"_renderPrice"),i(l,B.STATUS,"_renderStatus"),l),F={NOT_BEGIN:"0",GOING_ON:"1",HAS_OVER:"2"},H=(c={},i(c,F.NOT_BEGIN,"\u9884\u544a\u4e2d"),i(c,F.GOING_ON,"\u8fdb\u884c\u4e2d"),i(c,F.HAS_OVER,"\u5df2\u7ed3\u675f"),c),G=(s={},i(s,F.NOT_BEGIN,"coming"),i(s,F.GOING_ON,"going"),i(s,F.HAS_OVER,"finished"),s),W={0:"",1:"\u4e07",2:"\u4ebf"},V={0:"#6BB08B",1:"#C84A4A",2:"#737373"},q={DAYANDTIME:"2",DAYANDTHEME:"3",TIMEANDTHEME:"4"},J=(f=p=function(e){function t(){var e;r(this,t);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];var l=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));d.call(l),l.state=l._getState();var c=R()(l.props,"floorData.styleId","0");return l.isPcStyle=c==!(U.BIG_PIC||U.LIST),l}return o(t,e),z(t,[{key:"componentDidMount",value:function(){var e=this,t="webkitLineClamp"in document.body.style;this.setState({isSupportLineClamp:t});var n=6,r=setInterval(function(){n?(e._renewProductInfo(7-n),n-=1):clearInterval(r)},2e4)}},{key:"componentDidUpdate",value:function(e,t){if(this._navSticky&&t.selectedTab!==this.state.selectedTab){var n=y.a.findDOMNode(this._ref);window.scrollTo(0,Math.ceil(window.pageYOffset+n.getBoundingClientRect().top))}}},{key:"render",value:function(){var e=this.props.floorData,t=e.waresList;if(!e||!t||!t.length)return null;if(e.styleId!==U.BIG_PIC&&!e.flexibleNodeList)return null;var n=e.backgroundColor;return v.a.createElement("div",Object.assign({},Object(E.c)(e),{ref:this._setRef,style:{backgroundColor:n}}),this._renderTab(),this._renderProductList())}},{key:"_renderTab",value:function(){var e=this,t=this.state.selectedTab,n=this.props.floorData,r=n.tabList,a=n.tabConfig,o=n.tabStyle;if(!t||r.length<2)return null;if(o===A.PIC||o===A.TEXT)return v.a.createElement(S.a,{tabList:r,tabStyle:o,tabConfig:a,selectedTab:t,onTabHover:function(){e._selectGroup.apply(e,arguments)},tabClickEventId:"AuctionTab",onNavSticky:this._onNavSticky,onNavUnSticky:this._onNavUnSticky,disableStickyView:this.props.disableStickyView});if(o===A.SECKILL){var i=(100/r.length).toFixed(1);return v.a.createElement("div",{className:"rush_pd_tab"},v.a.createElement(I.a,{onFixed:this._onNavSticky,onUnfixed:this._onNavUnsticky,disable:this.props.disableStickyView},v.a.createElement("ul",{className:"rush_pd_nav_wrap"},r.map(function(n){var r=n.groupId===t.groupId,o={};switch(a.stageStyle){case q.DAYANDTIME:o.text_one={fontSize:"14px"},o.text_two={fontSize:"20px"};case q.DAYANDTHEME:o.text_one={fontSize:"14px"},o.text_two={fontSize:"20px"};case q.TIMEANDTHEME:o.text_one={fontSize:"14px"},o.text_two={fontSize:"14px"}}return v.a.createElement(P.a,{component:"li",eventId:"AuctionTab",params:n.srv&&n.srv.split("_"),key:n.groupId,className:w()({rush_pd_tab_item:!0,selected:r}),style:{width:i+"%",color:r?a.color:void 0},onHover:function(){return e._selectGroup(n,!0)}},v.a.createElement("div",{className:"tab_text_one",style:o.text_one},n.topText),v.a.createElement("div",{className:"tab_text_two",style:o.text_two},n.bottomText))}))))}}},{key:"_renderProductList",value:function(){var e=this,t=this.props.floorData;if(t.styleId===U.BIG_PIC)return this._renderProductListNotByFlexibleNode();var n=t.flexibleNodeList,r=t.tabConfig,a=t.tabStyle,o=t.cardConfig,i=t.tabList,l=t.styleId,c=this.state,s=c.selectedGroupId,u=c.waresList,p=o.bgColor,f="3"===a&&"1"===r.hasCountDown,d=r.leftText,m=this._mapStyleIdToConfig(),h=m.ratio,b=m.width,y=m.height;return v.a.createElement("div",{className:"aution_pd_main"},u.map(function(t,r){var a=t.groupId===s,o=t.groupInfoList;return v.a.createElement("div",{className:w()({auction_pd_body:!0,selected:a},"style-"+l),key:r},f&&e._renderTabCountDown(i.find(function(e){return e.groupId===t.groupId}),d),v.a.createElement("div",{className:"pd-wrapper"},o.map(function(t,r){return v.a.createElement(N.a,{key:r,component:"a",href:"https://paimai.jd.com/"+t.paimaiId,className:"auction_item_con pd_common auction_item "+G[t.status]+" "+((r+1)%4?"":" last"),target:"_blank",eventId:"AuctionPro",params:t.jump&&t.jump.srv.split("_"),style:{backgroundColor:p,height:y,width:b}},n.map(function(n,r){var a=M[n.mainType];if(a){n.positionStyle||(n.positionStyle=e._computePosition(n,h));var o=e[a](n,t,h);return o&&v.a.createElement("div",{key:B[n.mainType]+"-"+r,className:"auction_product_item",style:n.positionStyle},o)}return null}))})))}))}},{key:"_renderProductListNotByFlexibleNode",value:function(){var e=this,t=this.props.floorData,n=this.state,r=n.waresList,a=n.selectedGroupId,o=t.tabConfig,i=t.tabStyle,l=t.cardConfig,c=t.tabList,s=(l.bgColor,"3"===i&&"1"===o.hasCountDown),u=o.leftText,p=this.state.isSupportLineClamp?{}:{height:"54px",lineHeight:"1.2"};return v.a.createElement("div",{className:"auction_pd_main"},r.map(function(t,n){var r=t.groupId===a,o=t.groupInfoList;return v.a.createElement("div",{className:w()({auction_pd_body:!0,selected:r},"style-newBigPic"),key:n},s&&e._renderTabCountDown(c.find(function(e){return e.groupId===t.groupId}),u),v.a.createElement("div",{className:"pd_wrapper"},o.map(function(t,n){return v.a.createElement(N.a,{key:n,component:"a",href:"https://paimai.jd.com/"+t.paimaiId,className:"auction_item_con pd_common auction_item "+G[t.status]+" "+((n+1)%4?"":" last"),target:"_blank",eventId:"AuctionPro",params:t.jump&&t.jump.srv.split("_"),style:{backgroundColor:"#ffffff"}},v.a.createElement("div",{className:"auction_pic"},v.a.createElement(C.a,{src:t.pictureUrl,className:"item_pic auction_pd_pic",resizeDisable:!0})),v.a.createElement("div",{className:"has_prefix_title_text"},v.a.createElement("div",{className:"auction_item auction_item_text item_text pd_item_title",style:p},v.a.createElement("span",{className:G[t.status]+" status"}),v.a.createElement("span",{className:"text"},t.name))),v.a.createElement("div",{className:"auction_price"},e._renderPrice({key:{0:"startPrice",1:"currentPrice",2:"currentPrice"},subType:"5",priceColor:V[t.status],priceSize:"23",priceAlign:"1"},t)),v.a.createElement("div",{className:"auction_time"},e._renderText({subType:"4",key:{0:"startTime",1:"remainTime",2:"endTime"},textLineNum:1,textColor:"#ffffff",fontSize:"17"},t)),v.a.createElement("div",{className:"join_number"},e._renderText({subType:"3",key:"bidCount",textLineNum:1,textColor:"#000000",fontSize:"15"},t)),v.a.createElement("div",{className:"auction_status auction_item"},e._renderStatus({subType:"1",textColor:V[t.status],fontSize:"15",textAlign:"1",textLineNum:"1",key:"status"},t)))})))}))}},{key:"_renderTabCountDown",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={};return"0"===e.stageStatus?(n.statusTxt="\u8ddd\u7ed3\u675f",n.hasCountDownTime="0"!==e.timeRemain,n.leftText=t):"1"===e.stageStatus?(n.statusTxt="\u8ddd\u5f00\u59cb",n.hasCountDownTime=!0,n.leftText="\u5373\u5c06\u5f00\u62cd\uff0c\u656c\u8bf7\u671f\u5f85"):(n.leftText="\u672c\u573a\u6b21\u8fd8\u6709\u5b9d\u8d1d\u53ef\u4ee5\u62a2\u62cd",n.hasCountDownTime=!1),v.a.createElement("div",{className:"auction_pd_main_countDown"},v.a.createElement("div",{className:"left"},v.a.createElement("span",null,n.leftText)),n.hasCountDownTime&&v.a.createElement("div",{className:"right"},v.a.createElement("span",{className:"toFinsh"},n.statusTxt,":"),v.a.createElement(k.a,{className:"time",remain:Number(e.timeRemain),key:e.groupId,seperate:"colon"})))}},{key:"_selectGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state.selectedGroupId;e&&n!==e.groupId&&(this.setState({selectedTab:e,selectedGroupId:e.groupId}),t&&setTimeout(function(){C.a.triggerLoadCheck()},0))}},{key:"_renewProductInfo",value:function(e){var t=this,n=this.props,r=n.floorData,a=n.activityData,o=r.tabList,i=r.moduleId,l=r.waresList,c=a.activityId,s=a.pageId,u={};if(!this.updateParams){o.forEach(function(e){var t=e.groupId,n=i+"_"+e.groupId,r=l.find(function(e){return e.groupId===t}),a=r&&r.groupInfoList?r.groupInfoList.map(function(e){return e.paimaiId}).join(","):void 0;a&&(u[n]=a)});var p={activityId:c,pageId:s,paimaiIdMap:u};this.updateParams=p}var f=j.frontInterfaceHost+"/client.action?functionId=jediGetAuctionProduct";Object(x.doJsonP)(f,Object(x.getBabelUrlParam)(this.updateParams)).then(function(n){if("0"===n.code&&"0"===n.subCode){var r=n.paimaiDataMap,a=Object.assign([],t.state.waresList);o.forEach(function(t){var n=i+"_"+t.groupId,o=r[n],l=a.find(function(e){return t.groupId===e.groupId});l.groupInfoList=l.groupInfoList.map(function(t){var n=o.find(function(e){return e.paimaiId===t.paimaiId});return n.hasChangedTimes=e,Object.assign({},t,n)})}),t.setState({waresList:a})}}).catch(function(e){})}},{key:"_getState",value:function(){var e=this.props.floorData,t=e.waresList,n=void 0===t?[]:t,r=e.tabList,a=void 0===r?[]:r,o=e.tabStyle,i=this._getSelectedTabs(a,o);return{selectedTab:i,selectedGroupId:i?i.groupId:n[0].groupId,waresList:n,isSupportLineClamp:!1}}}]),t}(h.PureComponent),p.contextType=L.a,d=function(){var e=this;this._setRef=function(t){e._ref=t},this.isPcStyle=!1,this._navSticky=!1,this._computePosition=function(e,t){var n={};return"2"===e.mainType&&"4"===e.subType&&(n={zIndex:3}),Object.assign({top:e.top*t+"px",left:e.left*t+"px",width:e.width*t+"px",height:e.height*t+"px"},n)},this._mapStyleIdToConfig=function(){function t(e){return Math.floor((T.a-10*(e-1))/e)}var n=R()(e.props,"floorData.styleId","0"),r=R()(e.props,"floorData.cardConfig",{}),a=r.width,o=r.height,i={ratio:1,width:a,height:o,itemsOneline:4},l=4;return U.BIG_PIC==n?(l=4,i.width=t(l),i.ratio=i.width/a,i.height=i.ratio*o):U.LIST==n?(l=2,i.width=t(l),i.ratio=i.width/a,i.height=o*i.ratio):U.THREE==n&&(l=3,i.width=t(l),i.height=Number(o)),i},this._getConfigValue=function(t){return R()(e.props,"floorData.styleId","0")==U.BIG_PIC?t:t*e._mapStyleIdToConfig().ratio},this._renderPic=function(e,t,n){var r={PRODUCT_PIC:"1"};switch(e.subType){case r.PRODUCT_PIC:return function(){var n=t[e.key];return v.a.createElement(C.a,{src:n,className:"item_pic auction_pd_pic",resizeDisable:!0})}();default:return null}},this._renderText=function(t,n){function r(e){return("0"+e).slice(-2)}var a={PRODUCT_TITLE:"1",JOIN_NUMBER:"3",AUCTION_TIME:"4"},o={color:t.textColor,fontSize:e._getConfigValue(t.fontSize),fontWeight:"1"===t.isBold?"bold":"normal",textAlign:"1"===t.textAlign?"left":"center"};e.state.isSupportLineClamp&&(o=Object.assign({},o,{WebkitLineClamp:t.textLineNum,lineHeight:1.6,WebKitBoxOrient:"vertical",display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"}));var i=n.status;switch(t.subType){case a.PRODUCT_TITLE:return function(){var e=n[t.key];return v.a.createElement("div",{className:"auction_item auction_item_text item_text pd_item_title",style:o},v.a.createElement("span",null,e))}();case a.JOIN_NUMBER:return function(){var e=i===F.NOT_BEGIN?"\u56f4\u89c2\u6570":"\u51fa\u4ef7\u6570",r=n[t.key];return v.a.createElement("div",{className:"auction_item auction_item_text item_text pd_item_bidCount",style:o},v.a.createElement("span",null,v.a.createElement("span",{style:{marginRight:"6px"}},e,":"),r))}();case a.AUCTION_TIME:return function(){var e="",a=n[t.key[i]],l=!1;if("1"===t.background&&(l=!0),i===F.NOT_BEGIN||i===F.HAS_OVER){e=i===F.NOT_BEGIN?"\u5f00\u59cb\u65f6\u95f4 ":"\u7ed3\u675f\u65f6\u95f4 ",a=new Date(Number(a));var c=a.getMonth()+1+"\u6708"+a.getDate()+"\u65e5 "+r(a.getHours())+":"+r(a.getMinutes());return v.a.createElement("div",{className:w()({auction_item:!0,auction_item_text:!0,item_text:!0,pd_item_time:!0,hasBackground:l}),style:o},v.a.createElement("div",{className:"auction_time_wrapper"},v.a.createElement("span",{className:"time_area",style:Object.assign({},o,l)},e,c)))}if(i===F.GOING_ON)return v.a.createElement("div",{className:w()({auction_item:!0,auction_item_text:!0,item_text:!0,pd_item_time:!0,hasBackground:l}),style:Object.assign({},o,l)},v.a.createElement("div",{className:"auction_time_wrapper"},v.a.createElement("span",{className:"time_area",style:o},"\u8ddd\u7ed3\u675f ",v.a.createElement(k.a,{className:"time",remain:Number(a),key:n.paimaiId+"_"+(n.hasChangedTimes?"0":n.hasChangedTimes),seperate:"colon"}))))}();default:return null}},this._renderPrice=function(t,n){function r(){var e=a===F.NOT_BEGIN?"startUnit":"currentUnit",r=W[n[e]],i=a===F.NOT_BEGIN?"\u8d77\u62cd\u4ef7":"\u5f53\u524d\u4ef7",l={color:t.priceColor,fontSize:this._getConfigValue(t.priceSize)+"px",fontWeight:"1"===t.isBold?"bold":"normal",textAlign:"1"===t.priceAlign?"left":"center"};return this.state.isSupportLineClamp&&(l=Object.assign({},l,{WebkitLineClamp:1,lineHeight:1.6,WebKitBoxOrient:"vertical",display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"})),v.a.createElement("div",{className:"auction_item auction_item_price item_price",style:l},v.a.createElement("span",{className:"text"},i,":"),v.a.createElement("span",{className:"price"},v.a.createElement("span",null,"\uffe5"),o,v.a.createElement("span",null,r)))}var a=n.status,o=n[t.key[a]]||"",i={AUCTION_PRICE:"5"};switch(t.subType){case i.AUCTION_PRICE:return r.call(e);default:return null}},this._renderStatus=function(t,n){var r=n[t.key],a={TEXT_STYLE:"1",TIPS_STYLE:"2"},o={color:t.textColor,fontSize:e._getConfigValue(t.fontSize),fontWeight:"1"===t.isBold?"bold":"normal",textAlign:"1"===t.textAlign?"left":"center"};switch(e.state.isSupportLineClamp&&(o=Object.assign({},o,{WebkitLineClamp:t.textLineNum,lineHeight:1.6,WebKitBoxOrient:"vertical",display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"})),t.subType){case a.TEXT_STYLE:return v.a.createElement("div",{className:"auction_item auction_item_state state_text",style:o},v.a.createElement("span",null,H[r]));case a.TIPS_STYLE:return v.a.createElement("div",{className:"auction_item auction_item_state state_toptip "+G[r]});default:return null}},this._onNavSticky=function(){e._navSticky=!0},this._onNavUnSticky=function(){e._navSticky=!1},this._getSelectedTabs=function(e,t){var n=void 0;return t===A.NONE?null:(t===A.SECKILL&&(n=e.find(function(e){return"0"===e.stageStatus})||e.find(function(e){return"1"===e.stageStatus})),n||e[0])}},u=f,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(u.prototype,"render",[O.a],Object.getOwnPropertyDescriptor(u.prototype,"render"),u.prototype),u)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){function t(e){var t={};return Object.keys(z).reduce(function(t,n){return n in e&&Object.assign(t,z[n](e[n],t)),t},t),e.background&&"0"===e.background&&delete t.backgroundColor,t}var n=e.flexibleNodeList;if(n&&n.length>0){var r={};return n.forEach(function(e){var n=""+e.mainType+e.subType;n===E&&(e.tagFlag=Math.ceil(+e.height/6)),r[n]={key:e.key,style:t(e)}}),r}return null}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";if(t===C){var n=void 0,r=void 0,a=void 0,o=void 0,i=e,l=[];[864e5,36e5,6e4,1e3].reduce(function(e,t){var n=Math.floor(e/t);return l.push(n),e-=t*n},i);var c=l.map(function(e){return e.toString().padStart(2,"0")}),s=_(c,4);return n=s[0],r=s[1],a=s[2],o=s[3],+n>0?n+"\u5929"+r+"\u65f6"+a+"\u5206"+o+"\u79d2":r+"\u65f6"+a+"\u5206"+o+"\u79d2"}if(t===N||t===I){var u=new Date(e);return(""+(u.getMonth()+1)).padStart(2,"0")+"\u6708"+(""+u.getDate()).padStart(2,"0")+"\u65e5 "+(""+u.getHours()).padStart(2,"0")+":"+(""+u.getMinutes()).padStart(2,"0")}return""}n.d(t,"a",function(){return k});var c,s,u=n(200),p=(n.n(u),n(0)),f=n.n(p),d=n(6),m=(n.n(d),n(7)),h=n.n(m),v=n(1),b=n(3),y=n(5),g=n(2),_=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E="62",O=["0","1","2"],N=O[0],C=O[1],I=O[2],P=["forenotice","progressing","ended"],k=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.floorStyle=function(){var e={},t=o.props.pageBackgroundColor,n=o.props.floorData,r=n.cardConfig,a=n.config;if(r){var i=r.height,l=r.bgType,c=r.bgSameColor,s=r.bgColor,u=r.bgPicUrl;"0"===l?(e.backgroundColor="0"===c?t:s,e.backgroundImage="none"):u&&(e.background='url("'+u+'") no-repeat 0 0/100% 100%'),a&&"1"===a.segmentLine&&(e.borderBottom="1px solid "+("1"===a.slSameColor?a.slColor:t)),e.width="100%",e.height=+i/3/(375/495)+"px"}return e},i=n,a(o,i)}return o(t,e),w(t,[{key:"render",value:function(){var e=this.props.floorData,t=e.adsList,n=i(e);if(!t||0===t.length||!n)return"";var r=this.floorStyle();return f.a.createElement("div",Object(v.c)(e),t.map(function(e,t){return f.a.createElement(S,{key:t,item:e,nodeMap:n,style:r})}))}}]),t}(p.PureComponent),S=(s=c=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.jump=function(){var e=o.props.item,t=o.context.parseUrl(e);o.context.tracking.sendClickTracking("Babel-TimeLimitPic",e.jump.srv),window.open(t)},i=n,a(o,i)}return o(t,e),w(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.nodeMap,r=e.style,a=t.jump,o=n[E]&&t[n[E].key],i=-1!==O.indexOf(o),l=n[27]&&t[n[27].key[o]];return f.a.createElement(y.a,{component:"div",className:h()("timelimit_module",P[o]),eventId:"Babel_TimeLimitPic",params:a&&a.srv&&a.srv.split("_"),onClick:this.jump,style:r},n[13]&&f.a.createElement(j,{imgSrc:t[n[13].key],style:n[13].style}),n[E]&&i&&f.a.createElement(D,{status:o,style:n[E].style}),n[25]&&f.a.createElement(T,{title:t[n[25].key],style:n[25].style}),!!t[n[26]]&&f.a.createElement(x,{subtitle:t[n[26].key],style:n[26].style}),n[27]&&i&&f.a.createElement(R,{time:l,status:o,style:n[27].style}),n[23]&&i&&f.a.createElement(L,{count:t[n[23].key],status:o,style:n[23].style}))}}]),t}(p.PureComponent),c.contextType=g.a,s),j=function(e){var t=e.imgSrc,n=e.style;return f.a.createElement("div",{className:"timelimit_cover",style:n},f.a.createElement(b.a,{src:t,className:"lazyload-img-wmh size40"}))},T=function(e){var t=e.title,n=e.style;return f.a.createElement("div",{className:"timelimit_title",style:n},f.a.createElement("span",null,t))},x=function(e){var t=e.subtitle,n=e.style;return f.a.createElement("div",{className:"timelimit_subtitle",style:n},f.a.createElement("span",null,t))},L=function(e){var t=e.count,n=e.status,r=e.style,a=["\u56f4\u89c2\u4eba\u6570","\u51fa\u4ef7\u6b21\u6570","\u51fa\u4ef7\u6b21\u6570"][n]||"";return f.a.createElement("div",{className:"timelimit_count",style:r},a,":",f.a.createElement("span",null,t))},D=function(e){var t=e.status,n=e.style,r=["\u9884\u544a\u4e2d","\u8fdb\u884c\u4e2d","\u5df2\u7ed3\u675f"][+t]||"",a={height:n.height};return f.a.createElement("div",{className:"timelimit_tag",style:n},f.a.createElement("span",{style:a},r))},R=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={time:n.props.time},n}return o(t,e),w(t,[{key:"componentDidMount",value:function(){var e=this;if(!(this.props.status!==C||this.state.time<1e3))var t=setInterval(function(){if(e.state.time<1e3)return void clearInterval(t);e.setState({time:e.state.time-1e3})},1e3)}},{key:"render",value:function(){var e=this.props,t=e.status,n=e.style,r=["\u5f00\u59cb\u65f6\u95f4","\u8ddd\u7ed3\u675f","\u7ed3\u675f\u65f6\u95f4"][+t]||"";return f.a.createElement("div",{className:"timelimit_time",style:n},r,":",f.a.createElement("span",null,l(this.state.time,t)))}}]),t}(p.PureComponent),z={left:function(e){return{left:1.32*Math.floor(e/3)+"px"}},top:function(e){return{top:1.32*Math.floor(e/3)+"px"}},width:function(e){return{width:1.32*Math.floor(e/3)+"px"}},height:function(e){return{height:1.32*Math.floor(e/3)+"px"}},fontSize:function(e){return{fontSize:1.32*Math.floor(e/3)+"px"}},isBold:function(e){return"1"===e?{fontWeight:700}:{}},textAlign:function(e){return"2"===e?{textAlign:"center"}:{}},textColor:function(e){return{color:e}},textLineNum:function(e){return{WebkitLineClamp:e}},bgColor:function(e){return{backgroundColor:e}},tagFlag:function(e){return{borderTopWidth:1.32*e+"px",borderBottomWidth:1.32*e+"px",lineHeight:2*e*1.32+"px"}}}},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return g});var i,l,c,s=n(202),u=(n.n(s),n(0)),p=n.n(u),f=n(2),d=n(1),m=n(3),h=n(5),v=n(4),b=n(20),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=(c=l=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"render",value:function(){var e=this.props.floorData,t=e.isLast,n=e.cardBackgroundColor,r=(e.cardHeight,e.floorBgColor),a=e.segmentLine,o=e.cardInfo;return p.a.createElement("div",Object(d.c)(e),p.a.createElement("div",{className:"guide_video_wrapper",style:{backgroundColor:n,borderBottom:"1"===a&&"0"===t?"2px solid "+r:null,height:"1"===o.videoTitle&&"1"===o.authorInfo?"617px":"0"===o.videoTitle&&"0"===o.authorInfo&&"0"===o.playTimes?"457px":"577px"}},this.renderVideo(),this.renderInfo()))}},{key:"renderVideo",value:function(){var e=this.props.floorData.videoInfo,t=e.pictureUrl,n=e.videoUrl,r=e.srv,a=void 0===r?"":r;return p.a.createElement(b.a,{className:"guide_video",imgHeight:457,video:{pictureUrl:t,videoUrl:n,playType:"1",onStartEventId:"VideoPlay",onStartSrv:a,stringSrv:"1"}})}},{key:"renderInfo",value:function(){var e=this.props.floorData,t=e.videoInfo,n=e.videoInfo,r=n.title,a=n.authorPic,o=n.authorName,i=n.pageView,l=n.srv,c=void 0===l?"":l,s=e.cardInfo,u=void 0===s?{}:s;return p.a.createElement("div",{className:"info_wrapper"},"1"===u.videoTitle&&p.a.createElement(h.a,{component:"a",target:"_blank",className:"title",eventId:"VideoAroundCard",params:c,stringSrv:"1",href:this.context.parseUrl(t)},r),"1"===u.authorInfo&&p.a.createElement(h.a,{component:"a",target:"_blank",className:"author "+("1"===u.videoTitle?"has_title":""),eventId:"VideoAroundCard",params:c,stringSrv:"1",href:this.context.parseUrl(t)},p.a.createElement(m.a,{src:a,className:"avstar"}),p.a.createElement("span",{className:"anchor_name"},o)),"1"===u.playTimes&&p.a.createElement(h.a,{component:"a",target:"_blank",className:"play_times",eventId:"VideoAroundCard",params:c,stringSrv:"1",href:this.context.parseUrl(t)},this.dealPlayTimes(i)))}},{key:"getElePos",value:function(e){return{top:Object(d.f)(e.y)-100,left:Object(d.f)(e.x)}}},{key:"dealPlayTimes",value:function(e){var t="";return e<1e4?t=e:e>=1e4&&e<1e5?t=Math.floor(e/1e3)/10+"\u4e07":e>1e5&&(t=Math.floor(e/1e4).toFixed(0)+"\u4e07+"),t?t+"\u6b21\u64ad\u653e":t}}]),t}(u.PureComponent),l.contextType=f.a,i=c,function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(i.prototype,"render",[v.a],Object.getOwnPropertyDescriptor(i.prototype,"render"),i.prototype),i)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var i=n(204),l=(n.n(i),n(0)),c=n.n(l),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u={"t1-1":["\u60a8\u6765\u7684\u597d\u65e9\u54df\uff0c\u6d3b\u52a8\u672a\u5f00\u59cb","\u53bb\u5176\u4ed6\u9875\u9762\u901b\u901b\u5427\uff5e"],"t1-2":["\u6d3b\u52a8\u5df2\u7ed3\u675f\uff0c\u8fd8\u662f\u6ca1\u7b49\u5230\u60a8 ","\u53bb\u5176\u4ed6\u9875\u9762\u901b\u901b\u5427\uff5e"],other:["\u62b1\u6b49\uff0c\u60a8\u8bbf\u95ee\u7684\u5185\u5bb9\u4e0d\u5b58\u5728","\u53bb\u5176\u4ed6\u9875\u9762\u901b\u901b\u5427\uff5e"]},p=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.data.subCode,t="other";return"1-1"!==e&&"1-2"!==e||(t="t"+e),c.a.createElement("div",{className:"bab_opt_mod error-page"},c.a.createElement("div",{className:"errorPage"},c.a.createElement("section",{className:"error"},c.a.createElement("div",{className:"bg"}),c.a.createElement("div",{className:"text"},c.a.createElement("div",null,u[t][0]),c.a.createElement("div",null,u[t][1])))))}}]),t}(l.PureComponent)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var i,l,c=n(206),s=(n.n(c),n(33)),u=n(7),p=n.n(u),f=n(0),d=n.n(f),m=n(6),h=n.n(m),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=(l=i=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.intervalId=null,n._closeLayer=function(){var e=n.props.options.onClose;"function"===typeof e&&e.call(null),clearInterval(n.intervalId),n.setState({show:!1,leftSec:4})},n.state={show:!1,leftSec:4},n}return o(t,e),v(t,[{key:"render",value:function(){var e=this,t=this.props.options,n=t.custom,r=void 0!==n&&n,a=t.children,o=t.content,i=t.iconClass,l=void 0===i?"":i,c=t.autoClose,u=void 0===c||c,f=t.closeText,m=void 0===f?"\u5173\u95ed":f,h=t.confirmText,v=t.onConfirm;return this.state.show&&d.a.createElement(s.a,null,d.a.createElement("div",{className:"plate"},d.a.createElement("div",{className:"layer_close",onClick:function(){return e._closeLayer()}}),r?a:d.a.createElement("div",{className:"wrapper"},d.a.createElement("div",{className:p()("icon",l)}),d.a.createElement("h3",{className:"content"},o),h&&d.a.createElement("div",{className:"confirm-button",onClick:v},h),d.a.createElement("div",{className:"close-button",onClick:function(){return e._closeLayer()}},m),u&&d.a.createElement("div",{className:"auto-close"},this.state.leftSec,"\u79d2\u540e\u81ea\u52a8\u5173\u95ed"))))}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.options,r=void 0===n?{}:n,a=r.custom,o=void 0!==a&&a,i=r.autoClose,l=void 0===i||i;if(r.sign!==this.props.options.sign&&(r.children||r.content)&&(clearInterval(this.intervalId),this.setState({show:!0,leftSec:4}),!o&&l)){var c=this.state.leftSec;this.intervalId=setInterval(function(){c--<2?(clearInterval(t.intervalId),t.setState({show:!1,leftSec:4})):t.setState({leftSec:c})},1e3)}}}]),t}(f.PureComponent),i.propTypes={options:h.a.shape({custom:h.a.bool,confirmText:h.a.string,onConfirm:h.a.func,closeText:h.a.string,onClose:h.a.func,children:h.a.element,content:h.a.string,iconClass:h.a.oneOf(["icon-right","icon-wrong"]),autoClose:h.a.bool})},l)},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return v});var i,l,c=n(209),s=(n.n(c),n(33)),u=n(7),p=(n.n(u),n(0)),f=n.n(p),d=n(6),m=n.n(d),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=(l=i=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._closeLayer=function(){var e=n.props.options.onClose;"function"===typeof e&&e.call(null),n.setState({show:!1})},n._confirm=function(){var e=n.props.options.onConfirm;"function"===typeof e&&e.call(null),n.setState({show:!1})},n.state={show:!1},n}return o(t,e),h(t,[{key:"render",value:function(){var e=this,t=this.props.options,n=t.title,r=t.children,a=t.confirmText;t.onConfirm;return this.state.show&&f.a.createElement(s.a,null,f.a.createElement("div",{className:"confirm-modal"},f.a.createElement("div",{className:"confirm-modal-title"},n,f.a.createElement("div",{className:"confirm-modal-close",onClick:function(){return e._closeLayer()}})),f.a.createElement("div",{className:"confirm-modal-content"},r),f.a.createElement("div",{className:"confirm-modal-bottom"},f.a.createElement("button",{onClick:function(){e._confirm()},className:"confirm-modal-button"},a||\u786e\u5b9a))))}},{key:"componentWillReceiveProps",value:function(e){var t=e.options,n=void 0===t?{}:t;n.sign!==this.props.options.sign&&n.children&&this.setState({show:!0})}}]),t}(p.PureComponent),i.propTypes={options:m.a.shape({title:m.a.string,showConfirm:m.a.bool,confirmText:m.a.string,onConfirm:m.a.func,onClose:m.a.func,children:m.a.element})},l)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return c});var i=n(0),l=(n.n(i),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),c=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={error:null,errorInfo:null},n}return o(t,e),l(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?null:this.props.children}}]),t}(i.PureComponent)},function(e,t,n){"use strict";function r(e){function t(e){if(window.__preload_lazyload_imgs_info__){var a=window.__preload_lazyload_imgs_info__,o=a.firstLoadImgSrc,i=a.lastLoadImgSrc;o&&(n.point20={type:"duration",name:o},n.point21={type:"responseEnd",name:o}),i&&(n.point22={type:"duration",name:i},n.point23={type:"responseEnd",name:i}),e()}else setTimeout(function(){if(25===r)return void e();t(e),r++},200)}if(!e)return null;var n={point24:{type:"duration",name:"(mall|yhd).\\w+.css"},point25:{type:"duration",name:"manifest.\\w+.js"},point26:{type:"duration",name:"vendor.\\w+.js"},point27:{type:"duration",name:"(mall|yhd).\\w+.js"}};o.a.init({flag:8,profilingRate:1,encrypt:e.encodeActivityId,title:e.head?e.head.pageName:"",autoReport:!1});var r=0;t(function(){o.a.addStaticFile(n),o.a.report()})}t.a=r;var a=n(212),o=n.n(a)},function(e,t,n){var r,a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,o){"use strict";void 0!==(r=function(){return o(a)}.call(t,n,t,e))&&(e.exports=r)}("undefined"!==typeof window?window:this,function(e){"use strict";function t(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&(e[n]=t[n])}function n(e,t){var n=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/,r=n.exec(e),a=r[9];if(a&&""!==a)for(var o=a.split("&"),i=0;i<o.length;i++){var l=o[i],c=l.split("=");if(c[0]===t)return decodeURIComponent(c[1])}return!1}function r(e){var t=new RegExp("(^|;|\\s+)"+e+"=([^;]*)(;|$)"),n=document.cookie.match(t);return n?unescape(n[2]):null}function o(){var e=n(location.href,"sid");return e||(e=r("sid")||"")}function i(t){if(!(this instanceof i))return new i(t);this.selected=!1,this.timing={},this.isReported=!1,this.options={serverUrl:"//h5speed.m.jd.com",flag:0,encrypt:"",title:"",profilingRate:1,autoReport:!1},this.init(t),this.customizedData=[],this.staticFileData=[],this.CONST_CREATE_TIME_MS=1460538816969,this.CONST_REASONABLE_TIME_LIMIT=6e4,this.performance=e.performance,this.isPerformanceApiAvailable="undefined"!==typeof this.performance,this.isTimingApiAvailable=this.isPerformanceApiAvailable&&"undefined"!==typeof this.performance.timing,this.isGetEntriesApiAvailable=this.isPerformanceApiAvailable&&"function"===typeof this.performance.getEntries}var l=null;return i.prototype.init=function(e){"object"===("undefined"===typeof e?"undefined":a(e))&&t(this.options,e),this.selected=Math.random()<this.options.profilingRate,!0===this.options.autoReport&&this.enableAutoReport()},i.prototype.getTimingData=function(){var t,n={},r=this;n.hasPerformanceApi=r.isPerformanceApiAvailable?1:0,n.hasTimingApi=r.isTimingApiAvailable?1:0,n.hasGetEntriesApi=r.isGetEntriesApiAvailable?1:0,t=function(){var t=0;return e.chrome&&"function"===typeof e.chrome.loadTimes?t=1e3*e.chrome.loadTimes().firstPaintTime:r.isTimingApiAvailable&&"number"===typeof r.performance.timing.msFirstPaint&&(t=r.performance.timing.msFirstPaint),Math.round(t)}(),n.hasFirstPaintApi=t>0?1:0;try{if(r.isTimingApiAvailable){r.performance.timing.firstPaint=t;var a=r.performance.timing;n.domainLookup=a.domainLookupEnd-a.domainLookupStart,n.redirection=a.fetchStart-a.navigationStart,n.serverConnection=a.requestStart-a.connectStart,n.request2ResponseStart=a.responseStart-a.requestStart,n.responseStart2responseEnd=a.responseEnd-a.responseStart,n.request2ResponseEnd=a.responseEnd-a.requestStart,n.domInteractive=a.domInteractive-a.navigationStart,n.domContentLoaded=a.domContentLoadedEventStart-a.navigationStart,n.firstPaint=a.firstPaint-a.navigationStart,n.pageLoad=a.loadEventStart-a.navigationStart,n.backEnd=a.responseEnd-a.navigationStart,n.frontEnd=a.loadEventStart-a.responseEnd}}catch(e){}for(var o in n)n.hasOwnProperty(o)&&void 0!==n[o]&&(n[o]<0||n[o]>r.CONST_REASONABLE_TIME_LIMIT)&&(n[o]=0);return n},i.prototype.report=function(){try{if(this.selected&&!this.isReported){var e=new Image,t=this.buildUrl(this.getServerInfo(),this.getTimingData(),this.customizedData,this.staticFileData);t&&(e.src=t),this.isReported=!0}}catch(e){}},i.prototype.getServerInfo=function(){return{encrypt:this.options.encrypt,title:this.options.title,flag:this.options.flag,sid:o()}},i.prototype.add=function(e){try{"[object Object]"===Object.prototype.toString.call(e)&&this.customizedData.push(e)}catch(e){}},i.prototype.addStaticFile=function(e){try{"[object Object]"===Object.prototype.toString.call(e)&&this.staticFileData.push(e)}catch(e){}},i.prototype.buildUrl=function(e,n,r,a){var o={},i={},l={},c=[],s=[],u=[],p=[],f="",d=this;t(o,e),c=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(o),c.length>0&&(f=c.join("&"));var m=0;for(var h in n)n.hasOwnProperty(h)&&void 0!==n[h]&&(m++,u.push("point"+m+"="+n[h]));u.length>0&&(f=f+"&"+u.join("&")),d.isTimingApiAvailable&&(r.forEach(function(e){t(i,e)}),s=function(e){var t,n,r,a,o=[];if(!d.isTimingApiAvailable)return o;t=d.performance.timing.navigationStart;for(var i in e)if(e.hasOwnProperty(i)&&void 0!==e[i]){a=i;try{parseInt(a.replace("point",""))>=20&&(n=parseInt(e[i]),n>d.CONST_CREATE_TIME_MS?(r=parseInt(n-t))>=0&&r<d.CONST_REASONABLE_TIME_LIMIT&&o.push(encodeURIComponent(i)+"="+r):n>=0&&n<d.CONST_REASONABLE_TIME_LIMIT&&o.push(encodeURIComponent(i)+"="+n))}catch(e){}}return o}(i),"[object Array]"===Object.prototype.toString.call(s)&&s.length>0&&(f=f+"&"+s.join("&"))),d.isGetEntriesApiAvailable&&(a.forEach(function(e){t(l,e)}),p=function(e){function t(e,t,n){if(e&&t.length>0)for(var r=new RegExp(e),a=0,o=t.length;a<o;a++){var i=t[a];if(r.test(i.name))return i[n]}}var n,r,a,o,i,l,c=[],s=null;if("[object Object]"!==Object.prototype.toString.call(e))return c;if(d.isGetEntriesApiAvailable){s=d.performance.getEntries();for(var u in e)if(e.hasOwnProperty(u)&&"[object Object]"===Object.prototype.toString.call(e[u])){r=u;try{parseInt(r.replace("point",""))>=20&&(a=e[u],o=a.type,(i=a.name)&&("duration"===o?(n=parseInt(t(i,s,"duration")))>=0&&c.push(encodeURIComponent(u)+"="+n):"responseEnd"===o&&(l=parseInt(t(i,s,"responseEnd")))>=0&&c.push(encodeURIComponent(u)+"="+l)))}catch(e){}}return c}return c}(l),"[object Array]"===Object.prototype.toString.call(p)&&p.length>0&&(f=f+"&"+p.join("&")));var v=this.options.serverUrl;return function(e,t){return""===t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}(v,f)},i.prototype.enableAutoReport=function(){var t=this;e.addEventListener("load",function(){e.setTimeout(function(){t.report()},2e3)},!1)},l||(l=i({serverUrl:"//h5speed.m.jd.com",flag:0,encrypt:"",title:"",profilingRate:1,autoReport:!1}),!0===l.options.autoReport&&l.enableAutoReport(),l)})},function(e,t,n){"use strict";function r(e,t){return Object(o.a)(i.getQueryString,c.a.get)(e,t)}function a(e,t,n){if(!e){var a=document.createElement("a");if(a.href=location.href,a.pathname="/api/nextPage"+location.pathname.replace(/\/index.html.*/,""),-1===a.host.indexOf("pro.jd.com")){a.host="pro.jd.com";var o=t.activityId;-1===window.location.href.indexOf(o)&&(a.pathname="/api/nextPage/mall/active/"+o)}return Object(i.doPost)(a.href,n)}var l=r(t,n),c=l.body,u=s.frontInterfaceHost+"/client.action?functionId="+e,p=Object(i.getBabelUrlParam)(c);return p.client="babelnode",Object(i.doPostCors)(u,p)}t.a=a;var o=n(214),i=n(11),l=n(35),c=n.n(l),s=n(8)},function(e,t,n){"use strict";function r(e){return e=e||"",e.indexOf(",")>-1&&(e=e.split(",")[0]),e}t.a=function(e,t){return function(n,a){var o={activityId:n.activityId,pageNum:"-1",innerAnchor:e("innerAnchor")||"",focus:e("focus")||"",forceTop:e("forceTop")||"",innerExtId:e("innerExtId")||"",hideTopFoot:e("hideTopFoot")||"",innerLink:e("innerLink")||"",mitemAddrId:t("mitemAddrId")||"",geo:{lng:r(e("lng")),lat:r(e("lat"))},flt:e("flt")||"",jda:t("__jda")||"",pageId:e("pageId")};o.mtm_source=e("mtm_source")||"",o.mtm_subsource=e("mtm_subsource")||"",o.USER_FLAG_CHECK=t("USER_FLAG_CHECK")||"",o.sid=n.sid||"";var i=n.url.match(/mopenbp\w+=[^&]+/gi);if(i&&i.forEach(function(e){if((e=e.split("="))&&2===e.length){var t=e[0],n=e[1];o[t]=n||""}}),a){var l=a.paginationParam,c=a.paginationFlrs,s=a.transParam;o.paginationParam=l,o.paginationFlrs=c,o.transParam=s,o.closePagination="0"}return n.isUniversal&&(o.bsChannel="pc",o.babelSite=n.activityBu),{body:o,query:{screen:"1242*2208",area:r(e("un_area")),sid:n.sid,uuid:""}}}}},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(8);t.a={infinityFunctionId:r.isPreview?"getPreviewProductPaged4Pc":"getBabelProductPaged4Pc",channelExtraDataFunctionId:r.isPreview?"getPreviewJediChannelExtraData":"getJediChannelExtraData"}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t,n){var c=e.oneCoupon,s=e.invoker,u=e.dialog,p=e.stampCb,f=e.failCb,d=e.finishCb,m=e.fansCouponCb,h=e.noFollowCb,v=e.noDialog,b=void 0!==v&&v,y=e.loginMethod,g=void 0!==y&&y,_=s.handledData,w=s.context,E=w.activityData,O=w.callPopLayer,N=w.couponManagerInfo,C=i.frontInterfaceHost+"/client.action?functionId=newBabelAwardCollection",I=Object(o.getBabelUrlParam)({activityId:E.encodeActivityId,scene:c.scene||"",args:c.args,cpId:_.isBean?c.cpId:void 0,actKey:_.isFinance?c.cpId:void 0,eid:N.eid,fp:N.fp,pageClick:"Babel_Coupon"});return Object(o.doJsonP)(C,I).then(function(e){if("0"===e.code){var d=e.subCode,v=e.subCodeMsg,y={coupon_receive:_.isFinance?"0030\u30010":"A1\u3001A12\u3001B1\u3001B13\u3001C1210",coupon_empty:_.isFinance?"0009\u30010021\u30010020":"(A6\u3001A15\u3001B3\u3001B4\u3001B9\u3001B10\u3001B11\u3001C1205\u3001A3\u3001A4\u3001A5\u3001B5\u3001B6)\u3001(A3\u3001A4\u3001A5\u3001A34\u3001A35\u3001A36\u3001A46)",coupon_today_receive:"A13",coupon_today_empty:"A9\u3001A14\u3001B12\u3001B14",coming:"A7\u3001A8\u3001B2\u30010010"},w="icon-wrong",E=!1,N=!0,C=!1,I=void 0;try{for(var P,k=Object.entries(y)[Symbol.iterator]();!(N=(P=k.next()).done);N=!0){var S=P.value,j=l(S,2),T=j[0];if(null!==j[1].match(d)){w="coupon_receive"===T?"icon-right":"icon-wrong",p&&p(T),E=!0;break}}}catch(e){C=!0,I=e}finally{try{!N&&k.return&&k.return()}finally{if(C)throw I}}if(E||f&&f(),b)return void O({iconClass:"icon-wrong",content:v||"\u6b64\u65f6\u6392\u961f\u9886\u5238\u7684\u4eba\u592a\u591a,\u4f11\u606f\u4e00\u4f1a\u513f\u518d\u8bd5\u8bd5\u5427"});if("26022"===d)return void O({iconClass:"icon-wrong",closeText:"\u53d6\u6d88",confirmText:"\u53bb\u6fc0\u6d3b",content:u.iouGuideText,autoClose:!1,onConfirm:function(){window.location.href=u.iouGuideUrl}});if("A66"===d&&u.shopId)return void O({iconClass:"icon-wrong",closeText:"\u4e0d\u9886\u4e86",confirmText:"\u5173\u6ce8\u5e97\u94fa\u5e76\u9886\u53d6",content:"\u6b64\u5238\u4e3a\u5e97\u94fa\u7c89\u4e1d\u7528\u6237\u4e13\u4eab\uff0c\u6210\u4e3a\u7c89\u4e1d\u624d\u53ef\u9886\u53d6\u54e6",autoClose:!1,onClose:function(){h&&h()},onConfirm:function(){var r=i.frontInterfaceHost+"/client.action?functionId=followVender",l=Object(o.getBabelUrlParam)({isFollow:"1",shopId:u.shopId});Object(o.doJsonP)(r,l).then(function(e){if("0"!==e.code||"0"!==e.subCode&&"4"!==e.subCode)O({iconClass:"icon-wrong",content:e.returnMsg}),m&&m("fail");else{a({oneCoupon:c,invoker:s,dialog:u,stampCb:function(e){p(e),"coupon_receive"===e?m&&m("success"):m&&m("fail")},failCb:function(){m&&m("fail")}},t,n)}}).catch(function(t){O({iconClass:"icon-wrong",content:e.returnMsg}),m&&m("fail")})}});var x="string"===typeof c.srv&&c.srv.split("_");O({iconClass:w,content:v,onClose:function(){n.sendClickTracking.apply(n,["Babel","CouponCancel"].concat(r(x)))}})}else"3"===e.code?g?g():t():(O({iconClass:"icon-wrong",content:"\u6b64\u65f6\u6392\u961f\u9886\u5238\u7684\u4eba\u592a\u591a\uff0c\u4f11\u606f\u4e00\u4f1a\u513f\u518d\u8bd5\u8bd5\u5427\uff01"}),f&&f())}).catch(function(e){O({iconClass:"icon-wrong",content:"\u6b64\u65f6\u6392\u961f\u9886\u5238\u7684\u4eba\u592a\u591a\uff0c\u4f11\u606f\u4e00\u4f1a\u513f\u518d\u8bd5\u8bd5\u5427~"}),f&&f()}).finally(function(){d&&d()})}t.a=a;var o=n(11),i=n(8),l=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getFloorCodeDir",function(){return r}),n.d(t,"floorCodeCacheKeyPrefiex",function(){return a});var r=function(){return""},a="pc_mall"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){Object(a.h)("//cart.jd.com/gate.action?pid="+e+"&pcount=1&ptype=1")}t.a=r;var a=n(1)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){window.location.href="//passport.jd.com/new/login.aspx?ReturnUrl="+encodeURIComponent(e||window.location.href)}function o(e){var t=r(e,[]);Object(l.a)(t,a,i.a)}t.a=a,t.b=o;var i=n(53),l=n(232)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(59),e.exports=n(712)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(340),a=(n.n(r),n(231)),o=n(53),i=n(713),l=n(274),c=n(275),s=n(65),u=n(233),p=n(714),f={config:a.a,tracking:o.a,parseUrl:i.a,addCartItem:l.a,goLogin:c.a,receiveCoupon:c.b,code:u,channel:"mall",requestNextPage:p.a};Object(s.a)(f)},function(e,t,n){"use strict";function r(e){if(!e)return null;var t=e.jump,n=e.skuId;if(t){var r=t.des,a=t.params;switch(r){case"m":if(!a)return"";var o=a.url;return/sale.jd.com\//.test(o)?o.replace(/\/(m|app)\//,"/"):o;case"skudetail":return a&&a.skuId&&"//item.jd.com/"+a.skuId+".html";case"newgoodshop":return a&&a.shopId&&"//mall.jd.com/index-"+a.shopId+".html";case"babelfloor":return a&&a.floor;case"productList":var i=a&&a.from;if("search"===i){return"//search.jd.com/Search?keyword="+(a&&a.keyWord)+"&enc=utf-8"}if("category"===i){return"//search.jd.com/Search?keyword="+(a&&a.levelFirst)+"&enc=utf-8"}break;case"faxian_article":return"//article.jd.com/?id="+a.id;default:return""}}else if(n)return"//item.jd.com/"+n+".html";return""}t.a=r},function(e,t,n){"use strict";var r=n(213);t.a=function(e,t){return Object(r.a)("qryJediPcBabelFloors",e,t)}}],[711]);
//# sourceMappingURL=mall.0e3d45b4.js.map